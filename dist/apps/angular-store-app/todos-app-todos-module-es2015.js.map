{"version":3,"sources":["./apps/angular-store-app/src/app/todos-app/state/todo.model.ts","./apps/angular-store-app/src/app/todos-app/todo/todo.component.ts","./apps/angular-store-app/src/app/todos-app/todo/todo.component.html","./apps/angular-store-app/src/app/todos-app/filter/todos-filters.component.ts","./apps/angular-store-app/src/app/todos-app/todos-page/todos-page.component.ts","./apps/angular-store-app/src/app/todos-app/todos-page/todos-page.component.html","./apps/angular-store-app/src/app/todos-app/state/todos.query.ts","./apps/angular-store-app/src/app/todos-app/filter/filter.model.ts","./apps/angular-store-app/src/app/todos-app/state/todos.service.ts","./apps/angular-store-app/src/app/todos-app/todos/todos.component.ts","./apps/angular-store-app/src/app/todos-app/state/todos.store.ts","./apps/angular-store-app/src/app/todos-app/todos.module.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAA2C;AAQpC,SAAS,UAAU,CAAC,KAAoB;IAC7C,OAAO;QACL,EAAE,EAAE,4DAAI,EAAE;QACV,KAAK;QACL,SAAS,EAAE,KAAK;KACT,CAAC;AACZ,CAAC;;;;;;;;;;;;;;;;;;;;ACdkH;AACtE;AAEwB;;;IASxD,aAAa,SAAb,aAAa;;QAIxB,aAAQ,GAAG,IAAI,0DAAY,EAAQ,CAAC;QAEpC,WAAM,GAAG,IAAI,0DAAY,EAAM,CAAC;KAajC;IATC,QAAQ;QACN,IAAI,CAAC,OAAO,GAAG,IAAI,0DAAW,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAEpD,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,4EAAc,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,SAAkB,EAAE,EAAE;YACpF,IAAI,CAAC,QAAQ,CAAC,IAAI,iCAAM,IAAI,CAAC,IAAI,KAAE,SAAS,IAAG,CAAC;QAClD,CAAC,CAAC,CAAC;IACL,CAAC;IAED,WAAW,KAAU,CAAC;CACvB;0EAnBY,aAAa;6FAAb,aAAa;QCZ1B,yEACE;QAAA,yEACE;QAAA,wEACE;QAAA,sEACA;QAAA,kEAAa;QACf,4DAAQ;QACR,uDACF;QAAA,4DAAM;QACN,uEACE;QAAA,uEAAyD;QAA/B,gIAAS,4BAAoB,IAAC;QAAC,yEAAc;QAAA,4DAAI;QAC7E,4DAAI;QACN,4DAAM;;QARuB,0DAAuB;QAAvB,oFAAuB;QAGhD,0DACF;QADE,0FACF;;ADKW,aAAa;IANzB,0EAAY,EAAE;GAMF,aAAa,CAmBzB;AAnByB;6FAAb,aAAa;cALzB,uDAAS;eAAC;gBACT,QAAQ,EAAE,UAAU;gBACpB,WAAW,EAAE,uBAAuB;gBACpC,eAAe,EAAE,qEAAuB,CAAC,MAAM;aAChD;gBAGC,IAAI;kBADH,mDAAK;YAGN,QAAQ;kBADP,oDAAM;YAGP,MAAM;kBADL,oDAAM;;;;;;;;;;;;;;;;;;;;;;;AEjB0G;AACtE;AACwB;AACN;;;;;IAQvD,4EAAgE;IAAA,uDAAkB;IAAA,4DAAS;;;IAApD,oFAAwB;IAAC,0DAAkB;IAAlB,gFAAkB;;IAM7E,qBAAqB,SAArB,qBAAqB;;QAYhC,WAAM,GAAG,IAAI,0DAAY,EAAqB,CAAC;KAahD;IAvBC,IACI,MAAM,CAAC,MAAyB;QAClC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,IAAI,CAAC,OAAO,EAAE;YAChB,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM,EAAE,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;SACvD;IACH,CAAC;IAQD,QAAQ;QACN,IAAI,CAAC,OAAO,GAAG,IAAI,0DAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAE7C,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,4EAAc,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE;YACnE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACtB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,WAAW,KAAI,CAAC;CACjB;0FAzBY,qBAAqB;qGAArB,qBAAqB;QAR9B,yEACE;QAAA,4EACE;QAAA,uHAA2F;QAC7F,4DAAS;QACX,4DAAM;;QAHI,0DAAuB;QAAvB,oFAAuB;QACF,0DAAU;QAAV,gFAAU;;AAMhC,qBAAqB;IAZjC,0EAAY,EAAE;GAYF,qBAAqB,CAyBjC;AAzBiC;6FAArB,qBAAqB;cAXjC,uDAAS;eAAC;gBACT,QAAQ,EAAE,mBAAmB;gBAC7B,QAAQ,EAAE;;;;;;GAMT;gBACD,eAAe,EAAE,qEAAuB,CAAC,MAAM;aAChD;gBAIK,MAAM;kBADT,mDAAK;YAQN,OAAO;kBADN,mDAAK;YAGN,MAAM;kBADL,oDAAM;;;;;;;;;;;;;;AC5BT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkD;AACyB;AAEzB;AACI;AAEjB;AAC2D;;;;;;;;;IC4C1F,qEACE;IAAA,qEAAI;IAAA,uDAAW;IAAA,4DAAK;IACpB,yEAA4B;IAAxB,mVAAuB;IAAC,uDAAc;IAAA,4DAAK;IAC/C,qEACE;IAAA,wEACE;IAAA,2EACA;IADkD,2WAAkC;IAApF,4DACA;IAAA,kEAAa;IACf,4DAAQ;IACV,4DAAK;IACL,qEACE;IAAA,yEAAgF;IAAA,yEAC2B;IAAxB,sVAAuB;IAAC,gEAAI;IAAA,4DAAI;IAAA,4DAAI;IACzH,4DAAK;IACL,sEACE;IAAA,yEAAkF;IAAA,yEAC2B;IAAxB,sVAAuB;IAAC,gEAAI;IAAA,4DAAI;IAAA,4DAAI;IAC3H,4DAAK;IACP,4DAAK;;;;IAhBC,0DAAW;IAAX,2EAAW;IACa,0DAAc;IAAd,8EAAc;IAGf,0DAA0B;IAA1B,sFAA0B;IAK3B,0DAAuD;IAAvD,qHAAuD;IAIvD,0DAAyD;IAAzD,uHAAyD;;ADnDpF,MAAM,kBAAkB;IAS7B,YAAoB,UAAsB,EAAU,YAA0B;QAA1D,eAAU,GAAV,UAAU,CAAY;QAAU,iBAAY,GAAZ,YAAY,CAAc;QAL9E,YAAO,GAAG,mEAAc,CAAC;IAKwD,CAAC;IAElF,QAAQ;QACN,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC;QAClD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,UAAU,CAAC,uBAAuB,CAAC;QAC7D,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,0DAAG,CAAC,YAAY,CAAC,EAAE,CAAC,YAAY,IAAI,YAAY,KAAK,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;QAClI,IAAI,CAAC,YAAY,GAAG,IAAI,kEAAkB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC5D,IAAI,CAAC,kBAAkB,GAAG,IAAI,wEAAwB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IAC1E,CAAC;IAED,MAAM,CAAC,KAAa;QAClB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAChC,CAAC;IAED,IAAI,CAAC,EAAG;QACN,IAAI,mEAAW,CAAC,EAAE,CAAC,EAAE;YACnB,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;SAC1B;aAAM;YACL,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;SAClC;IACH,CAAC;IAED,IAAI,CAAC,EAAG;QACN,IAAI,mEAAW,CAAC,EAAE,CAAC,EAAE;YACnB,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;SAC1B;aAAM;YACL,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;SAClC;IACH,CAAC;IAED,GAAG,CAAC,KAAuB;QACzB,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QACnC,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC;IACnB,CAAC;IAED,QAAQ,CAAC,IAAU;QACjB,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,CAAC;QAC/B,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IACnC,CAAC;IAED,SAAS,CAAC,KAAK,EAAE,IAAU;QACzB,MAAM,KAAK,mCAAQ,IAAI,KAAE,SAAS,EAAE,KAAK,CAAC,MAAM,CAAC,OAAO,GAAE,CAAC;QAC3D,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IACpC,CAAC;IAED,MAAM,CAAC,EAAM;QACX,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;IAC/B,CAAC;IAED,YAAY,CAAC,MAAyB;QACpC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;IACzC,CAAC;IAED,QAAQ,CAAC,EAAE,MAAM,EAAE;QACjB,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IAC7C,CAAC;IAED,OAAO,CAAC,CAAC,EAAE,IAAI;QACb,OAAO,IAAI,CAAC,EAAE,CAAC;IACjB,CAAC;;oFApEU,kBAAkB;kGAAlB,kBAAkB;;QCd/B,yEAEE;QAAA,yEACE;QAAA,uEAAiC;QAAA,oEAAS;QAAA,4DAAI;QAC9C,8EAGF;QADS,qSAAiB,YAAU,IAAC;QAFnC,4DAGF;QAAA,4DAAM;QAEN,uFAGA;QAHmB,6JAAU,wBAAoB,IAAC;;QAGlD,4DAAoB;QAEpB,wEACE;QAAA,2EACA;QADuB,iJAAU,oBAAgB,IAAC;;QAAlD,4DACA;QAAA,wEAAM;QAAA,sEAAU;QAAA,4DAAO;QACzB,4DAAQ;QAER,gFAGC;QAFU,sJAAU,kBAAc,IAAC,kGACb,oBAAgB,IADH;;QAEnC,4DAAY;QAEb,0EACE;QAAA,6EAAuG;QAAjB,2IAAS,UAAM,IAAC;QAAC,iEACrG;QAAA,yEAAgC;QAAA,gEAAI;QAAA,4DAAI;QAC1C,4DAAS;QAET,6EAAyG;QAAjB,2IAAS,UAAM,IAAC;QAAC,iEACvG;QAAA,yEAAgC;QAAA,gEAAI;QAAA,4DAAI;QAC1C,4DAAS;QAEX,4DAAM;QAER,4DAAM;QAEN,8EACE;QAAA,sEAAI;QAAA,kFAAsB;QAAA,4DAAK;QAC/B,yEACE;QAAA,yEACE;QAAA,sEACE;QAAA,sEAAI;QAAA,8DAAE;QAAA,4DAAK;QACX,sEAAI;QAAA,iEAAK;QAAA,4DAAK;QACd,sEAAI;QAAA,qEAAS;QAAA,4DAAK;QAClB,sEAAI;QAAA,gEAAI;QAAA,4DAAK;QACb,sEAAI;QAAA,gEAAI;QAAA,4DAAK;QACf,4DAAK;QACP,4DAAQ;QAER,yEACE;QAAA,gHAiBK;;QACP,4DAAQ;QACV,4DAAQ;QAEV,4DAAU;;QA9DW,0DAAmB;QAAnB,gFAAmB;QAKe,0DAA6B;QAA7B,qJAA6B;QAIvE,0DAAwB;QAAxB,gJAAwB;QAMY,0DAAwC;QAAxC,gGAAwC;QAIxC,0DAA0C;QAA1C,kGAA0C;QAsBhE,2DAAmB;QAAnB,kJAAmB;;6FDrCjC,kBAAkB;cAL9B,uDAAS;eAAC;gBACT,QAAQ,EAAE,gBAAgB;gBAC1B,WAAW,EAAE,6BAA6B;gBAC1C,SAAS,EAAE,CAAC,4BAA4B,CAAC;aAC1C;;;;;;;;;;;;;;AEbD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2C;AACY;AAElB;AACsB;AACb;AACT;;;AAG9B,MAAM,UAAW,SAAQ,2DAAuB;IAWrD,YAAsB,KAAiB;QACrC,KAAK,CAAC,KAAK,CAAC,CAAC;QADO,UAAK,GAAL,KAAK,CAAY;QAVvC,4BAAuB,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;QAEhE,wBAAmB,GAAG,0DAAa,CAAC,CAAC,IAAI,CAAC,uBAAuB,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,IAAI,CACxF,0DAAG,CAAC,CAAC,CAAC,MAAM,EAAE,KAAK,CAAC,EAAE,EAAE;YACtB,OAAO,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;QAC7C,CAAC,CAAC,CACH,CAAC;QAEF,cAAS,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;IAIzD,CAAC;IAEO,eAAe,CAAC,MAAM,EAAE,KAAK;QACnC,QAAQ,MAAM,EAAE;YACd,KAAK,sEAAiB,CAAC,cAAc;gBACnC,OAAO,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;YACxC,KAAK,sEAAiB,CAAC,WAAW;gBAChC,OAAO,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;YACzC;gBACE,OAAO,KAAK,CAAC;SAChB;IACH,CAAC;;oEAxBU,UAAU;6FAAV,UAAU,WAAV,UAAU,mBADG,MAAM;6FACnB,UAAU;cADtB,wDAAU;eAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;;;;;;;;;;;;;ACRlC;AAAA;AAAA;AAAA,IAAY,iBAIX;AAJD,WAAY,iBAAiB;IAC3B,sDAAiC;IACjC,gDAA2B;IAC3B,0CAAqB;AACvB,CAAC,EAJW,iBAAiB,KAAjB,iBAAiB,QAI5B;AAOM,MAAM,cAAc,GAAiB;IAC1C,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,iBAAiB,CAAC,QAAQ,EAAE;IACnD,EAAE,KAAK,EAAE,WAAW,EAAE,KAAK,EAAE,iBAAiB,CAAC,cAAc,EAAE;IAC/D,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,iBAAiB,CAAC,WAAW,EAAE;CAC1D,CAAC;;;;;;;;;;;;;;;;;;;;;;ACfyC;AACK;AACG;AACQ;AACd;;;AAGtC,MAAM,YAAY;IACvB,YAAoB,UAAsB;QAAtB,eAAU,GAAV,UAAU,CAAY;IAAG,CAAC;IAG9C,YAAY,CAAC,MAAyB;QACpC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;YACrB,EAAE,EAAE;gBACF,MAAM;aACP;SACF,CAAC,CAAC;IACL,CAAC;IAED,QAAQ,CAAC,EAAE,EAAE,EAAE,SAAS,EAAQ;QAC9B,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,EAAE,EAAE,SAAS,EAAE,CAAC,CAAC;IAC5C,CAAC;IAED,GAAG,CAAC,KAAa;QACf,MAAM,IAAI,GAAG,8DAAU,CAAC,KAAK,CAAC,CAAC;QAC/B,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IAC5B,CAAC;IAED,MAAM,CAAC,EAAM;QACX,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;IAC7B,CAAC;IAED,QAAQ,CAAC,SAAkB;QACzB,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,EAAE;YAC3B,SAAS;SACV,CAAC,CAAC;IACL,CAAC;IAED,IAAI,CAAC,KAAa;QAChB,OAAO,CAAC,GAAG,CAAC,oBAAoB,EAAE,KAAK,CAAC,CAAC;QACzC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,GAAG,CAAC,CAAC,CAAC;IACzC,CAAC;;wEAlCU,YAAY;+FAAZ,YAAY,WAAZ,YAAY,mBADC,MAAM;AAK9B;IADC,8DAAM,CAAC,eAAe,CAAC;;;;gDAOvB;6FAVU,YAAY;cADxB,wDAAU;eAAC,EAAE,UAAU,EAAE,MAAM,EAAE;uGAKhC,YAAY;;;;;;;;;;;;;ACXd;AAAA;AAAA;AAAA;AAAA;AAAgG;;;;;;IAS1F,8EAIwB;IAFd,2SAAU,0BAAmB,IAAC,uPAClB,4BAAqB,IADH;IAEhB,4DAAW;;;IAAzB,yEAAa;;AAKtB,MAAM,cAAc;IAd3B;QAkBE,aAAQ,GAAG,IAAI,0DAAY,EAAQ,CAAC;QAEpC,WAAM,GAAG,IAAI,0DAAY,EAAM,CAAC;KACjC;;4EAPY,cAAc;8FAAd,cAAc;QAXvB,yEACE;QAAA,wEAA8B;QAAA,iEAAM;QAAA,4DAAK;QACzC,oHAImC;QACrC,4DAAM;;QALuB,0DAAS;QAAT,8EAAS;;6FAS7B,cAAc;cAd1B,uDAAS;eAAC;gBACT,QAAQ,EAAE,WAAW;gBACrB,QAAQ,EAAE;;;;;;;;;GAST;gBACD,eAAe,EAAE,qEAAuB,CAAC,MAAM;aAChD;gBAGC,KAAK;kBADJ,mDAAK;YAGN,QAAQ;kBADP,oDAAM;YAGP,MAAM;kBADL,oDAAM;;;;;;;;;;;;;;;;;;;;;ACtBkD;AAChB;AAC0C;;IAUxE,UAAU,SAAV,UAAW,SAAQ,2DAAuB;IACrD;QACE,KAAK,CAAC;YACJ,EAAE,EAAE,EAAE,MAAM,EAAE,sEAAiB,CAAC,QAAQ,EAAE;SAC3C,CAAC,CAAC;IACL,CAAC;CACF;oEANY,UAAU;6FAAV,UAAU,WAAV,UAAU,mBAFG,MAAM;AAEnB,UAAU;IADtB,mEAAW,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;;GAClB,UAAU,CAMtB;AANsB;6FAAV,UAAU;cAFtB,wDAAU;eAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;;;;;;;;;;;;;ACXlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyC;AACM;AACO;AACG;AACJ;AACoB;AACF;AAChB;;;AAEvD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,mFAAkB;KAC9B;CACF,CAAC;AAOK,MAAM,WAAW;;0FAAX,WAAW;gJAAX,WAAW,kBAJb,CAAC,4DAAY,EAAE,kEAAmB,EAAE,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;mIAIhE,WAAW,mBAFP,kEAAa,EAAE,qEAAc,EAAE,qFAAqB,EAAE,mFAAkB,aAF7E,4DAAY,EAAE,kEAAmB,EAAE,yEACnC,qEAAc,EAAE,qFAAqB;6FAGpC,WAAW;cALvB,sDAAQ;eAAC;gBACR,OAAO,EAAE,CAAC,4DAAY,EAAE,kEAAmB,EAAE,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;gBAC3E,OAAO,EAAE,CAAC,qEAAc,EAAE,qFAAqB,CAAC;gBAChD,YAAY,EAAE,CAAC,kEAAa,EAAE,qEAAc,EAAE,qFAAqB,EAAE,mFAAkB,CAAC;aACzF","file":"todos-app-todos-module-es2015.js","sourcesContent":["import { guid, ID } from '@datorama/akita';\n\nexport type Todo = {\n  id: ID;\n  title: string;\n  completed: boolean;\n};\n\nexport function createTodo(title: Todo['title']) {\n  return {\n    id: guid(),\n    title,\n    completed: false\n  } as Todo;\n}\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { ID } from '@datorama/akita';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport { Todo } from '../state/todo.model';\n\n@UntilDestroy()\n@Component({\n  selector: 'app-todo',\n  templateUrl: './todo.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TodoComponent implements OnInit, OnDestroy {\n  @Input()\n  todo: Todo;\n  @Output()\n  complete = new EventEmitter<Todo>();\n  @Output()\n  delete = new EventEmitter<ID>();\n\n  control: FormControl;\n\n  ngOnInit() {\n    this.control = new FormControl(this.todo.completed);\n\n    this.control.valueChanges.pipe(untilDestroyed(this)).subscribe((completed: boolean) => {\n      this.complete.emit({ ...this.todo, completed });\n    });\n  }\n\n  ngOnDestroy(): void {}\n}\n","<div class=\"flex align-center sb\">\n  <div class=\"flex\">\n    <label>\n      <input type=\"checkbox\" [formControl]=\"control\"/>\n      <span></span>\n    </label>\n    {{todo.title}}\n  </div>\n  <a class=\"btn waves-effect waves-light red btn-small btn-floating\">\n    <i class=\"material-icons\" (click)=\"delete.emit(todo.id)\">delete_forever</i>\n  </a>\n</div>","import { ChangeDetectionStrategy, Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport { TodoFilter, VISIBILITY_FILTER } from './filter.model';\n\n@UntilDestroy()\n@Component({\n  selector: 'app-todos-filters',\n  template: `\n    <div class=\"input-field col s12\">\n      <select [formControl]=\"control\" class=\"browser-default\">\n        <option *ngFor=\"let filter of filters\" [ngValue]=\"filter.value\">{{ filter.label }}</option>\n      </select>\n    </div>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TodosFiltersComponent implements OnInit, OnDestroy {\n  _active;\n  @Input()\n  set active(filter: VISIBILITY_FILTER) {\n    this._active = filter;\n    if (this.control) {\n      this.control.patchValue(filter, { emitEvent: false });\n    }\n  }\n  @Input()\n  filters: TodoFilter[];\n  @Output()\n  update = new EventEmitter<VISIBILITY_FILTER>();\n\n  control: FormControl;\n\n  ngOnInit() {\n    this.control = new FormControl(this._active);\n\n    this.control.valueChanges.pipe(untilDestroyed(this)).subscribe((c) => {\n      this.update.emit(c);\n    });\n  }\n\n  ngOnDestroy() {}\n}\n","import { Component, OnInit } from '@angular/core';\nimport { initialFilters, VISIBILITY_FILTER } from '../filter/filter.model';\nimport { Todo } from '../state/todo.model';\nimport { TodosQuery } from '../state/todos.query';\nimport { TodosService } from '../state/todos.service';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { ID, isUndefined, StateHistoryPlugin, EntityStateHistoryPlugin } from '@datorama/akita';\n\n@Component({\n  selector: 'app-todos-page',\n  templateUrl: './todos-page.component.html',\n  styleUrls: ['./todos-page.component.css']\n})\nexport class TodosPageComponent implements OnInit {\n  todos$: Observable<Todo[]>;\n  activeFilter$: Observable<VISIBILITY_FILTER>;\n\n  filters = initialFilters;\n  checkAll$: Observable<boolean>;\n  stateHistory: StateHistoryPlugin;\n  stateHistoryEntity: EntityStateHistoryPlugin;\n\n  constructor(private todosQuery: TodosQuery, private todosService: TodosService) {}\n\n  ngOnInit() {\n    this.todos$ = this.todosQuery.selectVisibleTodos$;\n    this.activeFilter$ = this.todosQuery.selectVisibilityFilter$;\n    this.checkAll$ = this.todosQuery.checkAll$.pipe(map(numCompleted => numCompleted && numCompleted === this.todosQuery.getCount()));\n    this.stateHistory = new StateHistoryPlugin(this.todosQuery);\n    this.stateHistoryEntity = new EntityStateHistoryPlugin(this.todosQuery);\n  }\n\n  moveUp(index: number) {\n    this.todosService.move(index);\n  }\n\n  undo(id?) {\n    if (isUndefined(id)) {\n      this.stateHistory.undo();\n    } else {\n      this.stateHistoryEntity.undo(id);\n    }\n  }\n\n  redo(id?) {\n    if (isUndefined(id)) {\n      this.stateHistory.redo();\n    } else {\n      this.stateHistoryEntity.redo(id);\n    }\n  }\n\n  add(input: HTMLInputElement) {\n    this.todosService.add(input.value);\n    input.value = '';\n  }\n\n  complete(todo: Todo) {\n    this.stateHistory.ignoreNext();\n    this.todosService.complete(todo);\n  }\n\n  complete2(event, todo: Todo) {\n    const _todo = { ...todo, completed: event.target.checked };\n    this.todosService.complete(_todo);\n  }\n\n  delete(id: ID) {\n    this.todosService.delete(id);\n  }\n\n  changeFilter(filter: VISIBILITY_FILTER) {\n    this.todosService.updateFilter(filter);\n  }\n\n  checkAll({ target }) {\n    this.todosService.checkAll(target.checked);\n  }\n\n  trackBy(_, todo) {\n    return todo.id;\n  }\n}\n","<div class=\"container\" class=\"padding\">\n\n  <div class=\"input-field\">\n    <i class=\"material-icons prefix\">add_alarm</i>\n    <input type=\"text\" class=\"form-control\" placeholder=\"Add Todo...\"\n           #input\n           (keydown.enter)=\"add(input)\">\n  </div>\n\n  <app-todos-filters (update)=\"changeFilter($event)\"\n                     [filters]=\"filters\"\n                     [active]=\"activeFilter$ | async\">\n  </app-todos-filters>\n\n  <label>\n    <input type=\"checkbox\" (change)=\"checkAll($event)\" [checked]=\"checkAll$ | async\"/>\n    <span>Select All</span>\n  </label>\n\n  <app-todos [todos]=\"todos$ | async\"\n             (delete)=\"delete($event)\"\n             (complete)=\"complete($event)\"\n  ></app-todos>\n\n  <div class=\"flex align-center\">\n    <button class=\"btn waves-effect waves-light\" [class.disabled]=\"!stateHistory.hasPast\" (click)=\"undo()\">Undo\n      <i class=\"material-icons right\">undo</i>\n    </button>\n\n    <button class=\"btn waves-effect waves-light\" [class.disabled]=\"!stateHistory.hasFuture\" (click)=\"redo()\">Redo\n      <i class=\"material-icons right\">redo</i>\n    </button>\n\n  </div>\n\n</div>\n\n<section class=\"padding\">\n  <h4>Todos - Entity History</h4>\n  <table>\n    <thead>\n      <tr>\n        <th>Id</th>\n        <th>Title</th>\n        <th>Completed</th>\n        <th>Undo</th>\n        <th>Redo</th>\n      </tr>\n    </thead>\n\n    <tbody>\n      <tr *ngFor=\"let todo of todos$ | async; trackBy: trackBy; index as index\">\n        <td>{{todo.id}}</td>\n        <td (click)=\"moveUp(index)\">{{todo.title}}</td>\n        <td>\n          <label>\n            <input type=\"checkbox\" [checked]=\"todo.completed\" (change)=\"complete2($event, todo)\"/>\n            <span></span>\n          </label>\n        </td>\n        <td>\n          <a class=\"btn-floating\" [class.disabled]=\"!stateHistoryEntity.hasPast(todo.id)\"><i class=\"material-icons\"\n                                                                                             (click)=\"undo(todo.id)\">undo</i></a>\n        </td>\n        <td>\n          <a class=\"btn-floating\" [class.disabled]=\"!stateHistoryEntity.hasFuture(todo.id)\"><i class=\"material-icons\"\n                                                                                               (click)=\"redo(todo.id)\">redo</i></a>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n</section>\n","import { Injectable } from '@angular/core';\nimport { TodosState, TodosStore } from './todos.store';\nimport { Todo } from './todo.model';\nimport { combineLatest } from 'rxjs';\nimport { VISIBILITY_FILTER } from '../filter/filter.model';\nimport { QueryEntity } from '@datorama/akita';\nimport { map } from 'rxjs/operators';\n\n@Injectable({ providedIn: 'root' })\nexport class TodosQuery extends QueryEntity<TodosState> {\n  selectVisibilityFilter$ = this.select(state => state.ui.filter);\n\n  selectVisibleTodos$ = combineLatest([this.selectVisibilityFilter$, this.selectAll()]).pipe(\n    map(([filter, todos]) => {\n      return this.getVisibleTodos(filter, todos);\n    })\n  );\n\n  checkAll$ = this.selectCount(entity => entity.completed);\n\n  constructor(protected store: TodosStore) {\n    super(store);\n  }\n\n  private getVisibleTodos(filter, todos): Todo[] {\n    switch (filter) {\n      case VISIBILITY_FILTER.SHOW_COMPLETED:\n        return todos.filter(t => t.completed);\n      case VISIBILITY_FILTER.SHOW_ACTIVE:\n        return todos.filter(t => !t.completed);\n      default:\n        return todos;\n    }\n  }\n}\n","export enum VISIBILITY_FILTER {\n  SHOW_COMPLETED = 'SHOW_COMPLETED',\n  SHOW_ACTIVE = 'SHOW_ACTIVE',\n  SHOW_ALL = 'SHOW_ALL'\n}\n\nexport interface TodoFilter {\n  label: string;\n  value: VISIBILITY_FILTER;\n}\n\nexport const initialFilters: TodoFilter[] = [\n  { label: 'All', value: VISIBILITY_FILTER.SHOW_ALL },\n  { label: 'Completed', value: VISIBILITY_FILTER.SHOW_COMPLETED },\n  { label: 'Active', value: VISIBILITY_FILTER.SHOW_ACTIVE }\n];\n","import { TodosStore } from './todos.store';\nimport { createTodo, Todo } from './todo.model';\nimport { Injectable, Inject } from '@angular/core';\nimport { VISIBILITY_FILTER } from '../filter/filter.model';\nimport { ID, action } from '@datorama/akita';\n\n@Injectable({ providedIn: 'root' })\nexport class TodosService {\n  constructor(private todosStore: TodosStore) {}\n\n  @action('Update filter')\n  updateFilter(filter: VISIBILITY_FILTER) {\n    this.todosStore.update({\n      ui: {\n        filter\n      }\n    });\n  }\n\n  complete({ id, completed }: Todo) {\n    this.todosStore.update(id, { completed });\n  }\n\n  add(title: string) {\n    const todo = createTodo(title);\n    this.todosStore.add(todo);\n  }\n\n  delete(id: ID) {\n    this.todosStore.remove(id);\n  }\n\n  checkAll(completed: boolean) {\n    this.todosStore.update(null, {\n      completed\n    });\n  }\n\n  move(index: number) {\n    console.log('TCL: move -> index', index);\n    this.todosStore.move(index, index - 1);\n  }\n}\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output } from '@angular/core';\nimport { Todo } from '../state/todo.model';\nimport { ID } from '@datorama/akita';\n\n@Component({\n  selector: 'app-todos',\n  template: `\n    <div class=\"collection with-header\">\n      <h4 class=\"collection-header\">Todos:</h4>\n      <app-todo *ngFor=\"let todo of todos;\"\n                class=\"collection-item\"\n                (delete)=\"delete.emit($event)\"\n                (complete)=\"complete.emit($event)\"\n                [todo]=\"todo\"></app-todo>\n    </div>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class TodosComponent {\n  @Input()\n  todos: Todo[];\n  @Output()\n  complete = new EventEmitter<Todo>();\n  @Output()\n  delete = new EventEmitter<ID>();\n}\n","import { Todo } from './todo.model';\nimport { VISIBILITY_FILTER } from '../filter/filter.model';\nimport { Injectable } from '@angular/core';\nimport { ActiveState, EntityState, EntityStore, StoreConfig } from '@datorama/akita';\n\nexport interface TodosState extends EntityState<Todo>, ActiveState {\n  ui: {\n    filter: VISIBILITY_FILTER;\n  };\n}\n\n@Injectable({ providedIn: 'root' })\n@StoreConfig({ name: 'todos' })\nexport class TodosStore extends EntityStore<TodosState> {\n  constructor() {\n    super({\n      ui: { filter: VISIBILITY_FILTER.SHOW_ALL }\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TodoComponent } from './todo/todo.component';\nimport { TodosComponent } from './todos/todos.component';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { TodosFiltersComponent } from './filter/todos-filters.component';\nimport { TodosPageComponent } from './todos-page/todos-page.component';\nimport { RouterModule, Routes } from '@angular/router';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TodosPageComponent\n  }\n];\n\n@NgModule({\n  imports: [CommonModule, ReactiveFormsModule, RouterModule.forChild(routes)],\n  exports: [TodosComponent, TodosFiltersComponent],\n  declarations: [TodoComponent, TodosComponent, TodosFiltersComponent, TodosPageComponent]\n})\nexport class TodosModule {}\n"],"sourceRoot":"webpack:///"}