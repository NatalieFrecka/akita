{"version":3,"sources":["./libs/akita-ng-router-store/src/lib/router.store.ts","./apps/angular-store-app/src/app/product-page/product-page.component.ts","./libs/akita/src/lib/plugins/dirtyCheck/entityDirtyCheckPlugin.ts","./apps/angular-store-app/src/app/products/state/products.store.ts","./apps/angular-store-app/src/app/products/state/products.query.ts","./libs/akita/src/lib/plugins/persistForm/persistNgFormPlugin.ts","./libs/akita/src/lib/toEntitiesObject.ts","./apps/angular-store-app/src/app/products/products.module.ts","./libs/akita/src/lib/store.ts","./libs/akita/src/lib/root.ts","./apps/angular-store-app/src/app/cart/cart.component.ts","./apps/angular-store-app/src/app/cart/cart.component.html","./libs/akita/src/lib/addEntities.ts","./libs/akita/src/lib/plugins/paginator/paginatorPlugin.ts","./libs/akita/src/lib/stores.ts","./libs/akita/src/lib/index.ts","./apps/angular-store-app/src/app/auth/login/login.component.ts","./apps/angular-store-app/src/app/auth/login/login.component.html","./libs/akita-ng-devtools/src/lib/ng-devtools.module.ts","./libs/akita/src/lib/entitiesToMap.ts","./libs/akita-ng-entity-service/src/lib/ng-entity.service.ts","./libs/akita-ng-router-store/src/lib/router.query.ts","./libs/akita/src/lib/coerceArray.ts","./libs/akita-ng-router-store/src/index.ts","./libs/akita/src/lib/isNil.ts","./libs/akita-ng-effects/src/lib/akita-ng-effects.module.ts","./libs/akita/src/lib/arrayFind.ts","./libs/akita/src/lib/isUndefined.ts","./libs/akita/src/lib/setLoadingAndError.ts","./apps/angular-store-app/src/app/products/products.component.ts","./apps/angular-store-app/src/app/products/products.component.html","./apps/angular-store-app/src/app/cart/state/cart.model.ts","./libs/akita-ng-effects/src/lib/create-effect.util.ts","./libs/akita/src/lib/errors.ts","./libs/akita/src/lib/cacheable.ts","./apps/angular-store-app/src/app/cart/state/cart.effects.ts","./libs/akita/src/lib/getInitialEntitiesState.ts","./libs/akita/src/lib/snapshotManager.ts","./libs/akita-ng-effects/src/lib/tokens.ts","./apps/angular-store-app/src/app/auth/auth.guard.ts","./libs/akita/src/lib/mapSkipUndefined.ts","./libs/akita/src/lib/queryEntity.ts","./apps/angular-store-app/src/app/products/state/products.service.ts","./libs/akita-ng-router-store/src/lib/router.module.ts","./apps/angular-store-app/src/app/app-routing.module.ts","./libs/akita/src/lib/plugins/stateHistory/entityStateHistoryPlugin.ts","./apps/angular-store-app/src/app/auth/auth.module.ts","./apps/angular-store-app/src/environments/environment.ts","./libs/akita/src/lib/plugins/plugin.ts","./apps/angular-store-app/src/app/cart/state/cart.actions.ts","./libs/akita/src/lib/entitiesToArray.ts","./apps/angular-store-app/src/app/products/state/products.effects.ts","./libs/akita/src/lib/toBoolean.ts","./libs/akita-ng-effects/src/lib/module-manager.service.ts","./libs/akita/src/lib/guid.ts","./libs/akita/src/lib/deepFreeze.ts","./libs/akita/src/lib/config.ts","./libs/akita/src/lib/removeEntities.ts","./libs/akita/src/lib/updateEntities.ts","./apps/angular-store-app/src/main.ts","./apps/angular-store-app/src/app/auth/state/auth.query.ts","./apps/angular-store-app/src/app/products/product/product.component.ts","./apps/angular-store-app/src/app/products/product/product.component.html","./libs/akita-ng-effects/src/lib/effect.utils.ts","./apps/angular-store-app/src/app/auth/state/auth.store.ts","./apps/angular-store-app/src/app/auth/login/login.module.ts","./libs/akita-ng-entity-service/src/index.ts","./libs/akita/src/lib/combineQueries.ts","./apps/angular-store-app/src/app/nav/nav.component.ts","./apps/angular-store-app/src/app/cart/state/cart.service.ts","./libs/akita-ng-effects/src/lib/effect.decorator.ts","./libs/akita/src/lib/actions.ts","./libs/akita/src/lib/runStoreAction.ts","./libs/akita/src/lib/setValueByString.ts","./apps/angular-store-app/src/app/auth/state/auth.effects.ts","./libs/akita/src/lib/plugins/dirtyCheck/dirtyCheckPlugin.ts","./libs/akita/src/lib/entityActions.ts","./libs/akita/src/lib/arrayAdd.ts","./libs/akita/src/lib/query.ts","./libs/akita-ng-entity-service/src/lib/helpers.ts","./libs/akita-ng-router-store/src/lib/router.service.ts","./libs/akita/src/lib/isPlainObject.ts","./libs/akita/src/lib/isNumber.ts","./libs/akita/src/lib/transaction.ts","./libs/akita/src/lib/env.ts","./libs/akita/src/lib/arrayRemove.ts","./libs/akita/src/lib/arrayUpdate.ts","./libs/akita/src/lib/devtools.ts","./libs/akita-ng-devtools/src/index.ts","./libs/akita/src/lib/isDefined.ts","./libs/akita/src/lib/toEntitiesIds.ts","./libs/akita-ng-entity-service/src/lib/ng-entity-service.loader.ts","./libs/akita/src/lib/not.ts","./apps/angular-store-app/src/app/products/products.mocks.ts","./libs/akita-ng-entity-service/src/lib/ng-entity-service-notifier.ts","./libs/akita/src/lib/isArray.ts","./libs/akita/src/lib/compareKeys.ts","./libs/akita-ng-effects/src/index.ts","./libs/akita/src/lib/arrayUpsert.ts","./libs/akita/src/lib/trackIdChanges.ts","./libs/akita/src/index.ts","./libs/akita/src/lib/hasEntity.ts","./libs/akita/src/lib/getValueByString.ts","./apps/angular-store-app/src/app/auth/state/auth.service.ts","./apps/angular-store-app/$_lazy_route_resource lazy namespace object","./libs/akita-ng-entity-service/src/lib/action-factory.ts","./libs/akita/src/lib/getActiveEntities.ts","./apps/angular-store-app/src/app/cart/cart.module.ts","./libs/akita-ng-effects/src/lib/actions.ts","./libs/akita/src/lib/persistState.ts","./libs/akita/src/lib/plugins/entityCollectionPlugin.ts","./libs/akita/src/lib/plugins/stateHistory/stateHistoryPlugin.ts","./apps/angular-store-app/src/app/cart/state/cart.store.ts","./libs/akita/src/lib/storeConfig.ts","./libs/akita/src/lib/isObject.ts","./libs/akita/src/lib/entityService.ts","./libs/akita/src/lib/defaultIDKey.ts","./libs/akita/src/lib/filterNil.ts","./libs/akita/src/lib/capitalize.ts","./libs/akita/src/lib/queryConfig.ts","./libs/akita/src/lib/setLoading.ts","./libs/akita/src/lib/setEntities.ts","./libs/akita/src/lib/isString.ts","./libs/akita/src/lib/activeState.ts","./libs/akita-ng-effects/src/lib/effect-root.module.ts","./libs/akita/src/lib/fp.ts","./libs/akita-ng-effects/src/lib/effect-feature.module.ts","./libs/akita-ng-entity-service/src/lib/ng-entity-service.config.ts","./libs/akita/src/lib/entityStore.ts","./apps/angular-store-app/src/app/app.module.ts","./libs/akita/src/lib/isFunction.ts","./libs/akita/src/lib/resetStores.ts","./libs/akita/src/lib/getEntity.ts","./libs/akita/src/lib/isEmpty.ts","./apps/angular-store-app/src/app/cart/state/cart.query.ts","./libs/akita/src/lib/sort.ts","./libs/akita/src/lib/arrayToggle.ts","./libs/akita/src/lib/sortByOptions.ts","./apps/angular-store-app/src/app/app.component.ts","./apps/angular-store-app/src/app/app.component.html","./libs/akita/src/lib/dispatchers.ts"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { Store, StoreConfig, HashMap } from '@datorama/akita';\n\nexport type ActiveRouteState = {\n  url: string;\n  urlAfterRedirects: string;\n  fragment: string;\n  params: HashMap<any>;\n  queryParams: HashMap<any>;\n  data: HashMap<any>;\n  navigationExtras: HashMap<any> | undefined;\n};\n\nexport type RouterState = {\n  state: ActiveRouteState | null;\n  navigationId: number | null;\n};\n\nexport function createInitialRouterState(): RouterState {\n  return {\n    state: null,\n    navigationId: null\n  };\n}\n\n@Injectable({ providedIn: 'root' })\n@StoreConfig({ name: 'router' })\nexport class RouterStore extends Store<RouterState> {\n  constructor() {\n    super(createInitialRouterState());\n  }\n}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport { filter, map, switchMap } from 'rxjs/operators';\nimport { ProductsQuery } from '../products/state/products.query';\nimport { ProductsService } from '../products/state/products.service';\n\n@UntilDestroy()\n@Component({\n  template: `\n    <div *ngIf=\"product$ | async as product\" class=\"padding\">\n      <h1>{{ product.title }}</h1>\n      <h6>{{ product.description }}</h6>\n    </div>\n  `,\n})\nexport class ProductPageComponent implements OnInit, OnDestroy {\n  product$ = this.productsQuery.selectEntity(this.productId);\n\n  constructor(private activatedRoute: ActivatedRoute, private productsService: ProductsService, private productsQuery: ProductsQuery) {}\n\n  ngOnInit() {\n    this.activatedRoute.paramMap\n      .pipe(\n        map((params) => params.get('id')),\n        filter((id) => !this.productsQuery.hasEntity(id)),\n        untilDestroyed(this),\n        switchMap((id) => this.productsService.getProduct(id))\n      )\n      .subscribe();\n  }\n\n  get productId() {\n    return this.activatedRoute.snapshot.params.id;\n  }\n\n  ngOnDestroy() {}\n}\n","import { DirtyCheckComparator, dirtyCheckDefaultParams, DirtyCheckPlugin, DirtyCheckResetParams, getNestedPath } from './dirtyCheckPlugin';\nimport { EntityCollectionPlugin } from '../entityCollectionPlugin';\nimport { auditTime, map, skip } from 'rxjs/operators';\nimport { merge, Observable, Subject } from 'rxjs';\nimport { EntityState, OrArray, getIDType, getEntityType } from '../../types';\nimport { QueryEntity } from '../../queryEntity';\nimport { coerceArray } from '../../coerceArray';\n\nexport type DirtyCheckCollectionParams<State extends EntityState> = {\n  comparator?: DirtyCheckComparator<getEntityType<State>>;\n  entityIds?: OrArray<getIDType<State>>;\n};\n\nexport class EntityDirtyCheckPlugin<State extends EntityState = any, P extends DirtyCheckPlugin<State> = DirtyCheckPlugin<State>> extends EntityCollectionPlugin<State, P> {\n  private _someDirty = new Subject();\n  someDirty$: Observable<boolean> = merge(this.query.select(state => state.entities), this._someDirty.asObservable()).pipe(\n    auditTime(0),\n    map(() => this.checkSomeDirty())\n  );\n\n  constructor(protected query: QueryEntity<State>, private readonly params: DirtyCheckCollectionParams<State> = {}) {\n    super(query, params.entityIds);\n    this.params = { ...dirtyCheckDefaultParams, ...params };\n    // TODO lazy activate?\n    this.activate();\n    this.selectIds()\n      .pipe(skip(1))\n      .subscribe(ids => {\n        super.rebase(ids, { afterAdd: plugin => plugin.setHead() });\n      });\n  }\n\n  setHead(ids?: OrArray<getIDType<State>>) {\n    if (this.params.entityIds && ids) {\n      const toArray = coerceArray(ids) as getIDType<State>[];\n      const someAreWatched = coerceArray(this.params.entityIds).some(id => toArray.indexOf(id) > -1);\n      if (someAreWatched === false) {\n        return this;\n      }\n    }\n    this.forEachId(ids, e => e.setHead());\n    this._someDirty.next();\n    return this;\n  }\n\n  hasHead(id: getIDType<State>): boolean {\n    if (this.entities.has(id)) {\n      const entity = this.getEntity(id);\n      return entity.hasHead();\n    }\n\n    return false;\n  }\n\n  reset(ids?: OrArray<getIDType<State>>, params: DirtyCheckResetParams = {}) {\n    this.forEachId(ids, e => e.reset(params));\n  }\n\n  isDirty(id: getIDType<State>): Observable<boolean>;\n  isDirty(id: getIDType<State>, asObservable: true): Observable<boolean>;\n  isDirty(id: getIDType<State>, asObservable: false): boolean;\n  isDirty(id: getIDType<State>, asObservable = true): Observable<boolean> | boolean {\n    if (this.entities.has(id)) {\n      const entity = this.getEntity(id);\n      return asObservable ? entity.isDirty$ : entity.isDirty();\n    }\n\n    return false;\n  }\n\n  someDirty(): boolean {\n    return this.checkSomeDirty();\n  }\n\n  isPathDirty(id: getIDType<State>, path: string) {\n    if (this.entities.has(id)) {\n      const head = (this.getEntity(id) as any).getHead();\n      const current = this.query.getEntity(id);\n      const currentPathValue = getNestedPath(current, path);\n      const headPathValue = getNestedPath(head, path);\n\n      return this.params.comparator(currentPathValue, headPathValue);\n    }\n\n    return null;\n  }\n\n  destroy(ids?: OrArray<getIDType<State>>) {\n    this.forEachId(ids, e => e.destroy());\n    /** complete only when the plugin destroys */\n    if (!ids) {\n      this._someDirty.complete();\n    }\n  }\n\n  protected instantiatePlugin(id: getIDType<State>): P {\n    return new DirtyCheckPlugin(this.query, this.params, id) as P;\n  }\n\n  private checkSomeDirty(): boolean {\n    const entitiesIds = this.resolvedIds();\n    for (const id of entitiesIds) {\n      if (this.getEntity(id).isDirty()) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Product } from './products.model';\nimport { EntityState, EntityStore, MultiActiveState, StoreConfig } from '@datorama/akita';\n\nexport interface ProductsState extends EntityState<Product>, MultiActiveState {}\n\n@Injectable({ providedIn: 'root' })\n@StoreConfig({ name: 'products' })\nexport class ProductsStore extends EntityStore<ProductsState> {\n  constructor() {\n    super({ active: [] });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ProductsState, ProductsStore } from './products.store';\nimport { Product } from './products.model';\nimport { QueryConfig, QueryEntity } from '@datorama/akita';\n\n@Injectable({ providedIn: 'root' })\n@QueryConfig({ sortBy: 'price' })\nexport class ProductsQuery extends QueryEntity<ProductsState> {\n  constructor(protected store: ProductsStore) {\n    super(store);\n  }\n\n  getProducts(term: string, sortBy: keyof Product) {\n    return this.selectAll({\n      sortBy,\n      filterBy: entity => entity.title.toLowerCase().includes(term)\n    });\n  }\n}\n","import { AkitaPlugin } from '../plugin';\nimport { Query } from '../../query';\nimport { Observable, Subscription } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport { getValue } from '../../getValueByString';\nimport { toBoolean } from '../../toBoolean';\nimport { isString } from '../../isString';\nimport { setValue } from '../../setValueByString';\nimport { logAction } from '../../actions';\n\nexport type FormGroupLike = {\n  patchValue: Function;\n  setValue: Function;\n  value: any;\n  get: Function;\n  valueChanges: Observable<any>;\n  controls: any;\n};\n\nexport type AkitaFormProp<T> = {\n  [key: string]: T;\n};\n\nexport type PersistFormParams = {\n  debounceTime?: number;\n  formKey?: string;\n  emitEvent?: boolean;\n  arrControlFactory?: ArrayControlFactory;\n};\n\nexport type ArrayControlFactory = (value: any) => any; // Todo: Return  AbstractControl interface\n\nexport class PersistNgFormPlugin<T = any> extends AkitaPlugin {\n  formChanges: Subscription;\n  private isRootKeys: boolean;\n  private form: FormGroupLike;\n  private isKeyBased: boolean;\n  private initialValue;\n  private builder;\n\n  constructor(protected query: Query<any>, private factoryFnOrPath?: Function | string, private params: PersistFormParams = {}) {\n    super(query);\n    this.params = { ...{ debounceTime: 300, formKey: 'akitaForm', emitEvent: false, arrControlFactory: v => this.builder.control(v) }, ...params };\n    this.isRootKeys = toBoolean(factoryFnOrPath) === false;\n    this.isKeyBased = isString(factoryFnOrPath) || this.isRootKeys;\n  }\n\n  setForm(form: FormGroupLike, builder?) {\n    this.form = form;\n    this.builder = builder;\n    this.activate();\n    return this;\n  }\n\n  reset(initialState?: T) {\n    let value;\n    if (initialState) {\n      value = initialState;\n    } else {\n      value = this.isKeyBased ? this.initialValue : (this as any).factoryFnOrPath();\n    }\n\n    if (this.isKeyBased) {\n      Object.keys(this.initialValue).forEach(stateKey => {\n        const value = this.initialValue[stateKey];\n        if (Array.isArray(value) && this.builder) {\n          const formArray = this.form.controls[stateKey];\n          this.cleanArray(formArray);\n          value.forEach((v, i) => {\n            this.form.get(stateKey).insert(i, (this.params.arrControlFactory as Function)(v));\n          });\n        }\n      });\n    }\n    this.form.patchValue(value, { emitEvent: this.params.emitEvent });\n\n    const storeValue = this.isKeyBased ? setValue(this.getQuery().getValue(), `${this.getStore().storeName}.${this.factoryFnOrPath}`, value) : { [this.params.formKey]: value };\n    this.updateStore(storeValue);\n  }\n\n  private cleanArray(control) {\n    while (control.length !== 0) {\n      control.removeAt(0);\n    }\n  }\n\n  private resolveInitialValue(formValue, root) {\n    if (!formValue) return;\n    return Object.keys(formValue).reduce((acc, stateKey) => {\n      const value = root[stateKey];\n      if (Array.isArray(value) && this.builder) {\n        const factory = this.params.arrControlFactory;\n        this.cleanArray(this.form.get(stateKey));\n        value.forEach((v, i) => {\n          this.form.get(stateKey).insert(i, (factory as Function)(v));\n        });\n      }\n      acc[stateKey] = root[stateKey];\n      return acc;\n    }, {});\n  }\n\n  private activate() {\n    let path;\n\n    if (this.isKeyBased) {\n      if (this.isRootKeys) {\n        this.initialValue = this.resolveInitialValue(this.form.value, this.getQuery().getValue());\n        this.form.patchValue(this.initialValue, { emitEvent: this.params.emitEvent });\n      } else {\n        path = `${this.getStore().storeName}.${this.factoryFnOrPath}`;\n        const root = getValue(this.getQuery().getValue(), path);\n        this.initialValue = this.resolveInitialValue(root, root);\n        this.form.patchValue(this.initialValue, { emitEvent: this.params.emitEvent });\n      }\n    } else {\n      if (!(this.getQuery().getValue() as AkitaFormProp<T>)[this.params.formKey]) {\n        logAction('@PersistNgFormPlugin activate');\n        this.updateStore({ [this.params.formKey]: (this as any).factoryFnOrPath() });\n      }\n\n      const value = this.getQuery().getValue()[this.params.formKey];\n      this.form.patchValue(value);\n    }\n\n    this.formChanges = this.form.valueChanges.pipe(debounceTime(this.params.debounceTime)).subscribe(value => {\n      logAction('@PersistForm - Update');\n      let newState;\n      if (this.isKeyBased) {\n        if (this.isRootKeys) {\n          newState = state => ({ ...state, ...value });\n        } else {\n          newState = state => setValue(state, path, value);\n        }\n      } else {\n        newState = () => ({ [this.params.formKey]: value });\n      }\n      this.updateStore(newState(this.getQuery().getValue()));\n    });\n  }\n\n  destroy() {\n    this.formChanges && this.formChanges.unsubscribe();\n    this.form = null;\n    this.builder = null;\n  }\n}\n","import { PreAddEntity } from './types';\n\n// @internal\nexport function toEntitiesObject<E>(entities: E[], idKey: string, preAddEntity: PreAddEntity<E>) {\n  const acc = {\n    entities: {},\n    ids: []\n  };\n\n  for (const entity of entities) {\n    // evaluate the middleware first to support dynamic ids\n    const current = preAddEntity(entity);\n    acc.entities[current[idKey]] = current;\n    acc.ids.push(current[idKey]);\n  }\n\n  return acc;\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ProductsComponent } from './products.component';\nimport { ProductComponent } from './product/product.component';\nimport { RouterModule } from '@angular/router';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { AkitaNgEffectsModule } from '@datorama/akita-ng-effects';\nimport { ProductsEffects } from './state/products.effects';\n\nconst publicApi = [ProductsComponent, ProductComponent];\n\n@NgModule({\n  imports: [CommonModule, RouterModule, ReactiveFormsModule, AkitaNgEffectsModule.forFeature([ProductsEffects])],\n  declarations: [publicApi],\n  exports: [publicApi],\n})\nexport class ProductsModule {}\n","import { BehaviorSubject, Observable } from 'rxjs';\nimport { distinctUntilChanged, map } from 'rxjs/operators';\nimport { currentAction, resetCustomAction, setAction, StoreSnapshotAction } from './actions';\nimport { getAkitaConfig, getGlobalProducerFn } from './config';\nimport { deepFreeze } from './deepFreeze';\nimport { dispatchAdded, dispatchDeleted, dispatchUpdate } from './dispatchers';\nimport { isDev, __DEV__ } from './env';\nimport { assertStoreHasName } from './errors';\nimport { isDefined } from './isDefined';\nimport { isFunction } from './isFunction';\nimport { isPlainObject } from './isPlainObject';\nimport { isBrowser } from './root';\nimport { configKey, StoreConfigOptions, UpdatableStoreConfigOptions } from './storeConfig';\nimport { __stores__ } from './stores';\nimport { commit, isTransactionInProcess } from './transaction';\nimport { StoreCache, UpdateStateCallback } from './types';\nimport { Injectable } from '@angular/core';\n\ninterface StoreSnapshot<S> {\n  state: S;\n  action?: StoreSnapshotAction;\n}\n\n/**\n *\n * Store for managing any type of data\n *\n * @example\n *\n * export interface SessionState {\n *   token: string;\n *   userDetails: UserDetails\n * }\n *\n * export function createInitialState(): SessionState {\n *  return {\n *    token: '',\n *    userDetails: null\n *  };\n * }\n *\n * @StoreConfig({ name: 'session' })\n * export class SessionStore extends Store<SessionState> {\n *   constructor() {\n *    super(createInitialState());\n *   }\n * }\n */\n@Injectable()\nexport class Store<S = any> {\n  private store: BehaviorSubject<Readonly<StoreSnapshot<S>>>;\n  private storeValue: S;\n  private inTransaction = false;\n  private _initialState: S;\n  protected cache: StoreCache = {\n    active: new BehaviorSubject<boolean>(false),\n    ttl: null,\n  };\n\n  constructor(initialState: Partial<S>, protected options: Partial<StoreConfigOptions> = {}) {\n    this.onInit(initialState as S);\n  }\n\n  /**\n   *  Set the loading state\n   *\n   *  @example\n   *\n   *  store.setLoading(true)\n   *\n   */\n  setLoading(loading = false) {\n    if (loading !== (this._value() as S & { loading: boolean }).loading) {\n      isDev() && setAction('Set Loading');\n      this._setState((state) => ({ ...state, loading } as S & { loading: boolean }));\n    }\n  }\n\n  /**\n   *\n   * Set whether the data is cached\n   *\n   * @example\n   *\n   * store.setHasCache(true)\n   * store.setHasCache(false)\n   * store.setHasCache(true, { restartTTL: true })\n   *\n   */\n  setHasCache(hasCache: boolean, options: { restartTTL: boolean } = { restartTTL: false }) {\n    if (hasCache !== this.cache.active.value) {\n      this.cache.active.next(hasCache);\n    }\n\n    if (options.restartTTL) {\n      const ttlConfig = this.getCacheTTL();\n      if (ttlConfig) {\n        if (this.cache.ttl !== null) {\n          clearTimeout(this.cache.ttl);\n        }\n        this.cache.ttl = <any>setTimeout(() => this.setHasCache(false), ttlConfig);\n      }\n    }\n  }\n\n  /**\n   *\n   * Sometimes we need to access the store value from a store\n   *\n   * @example middleware\n   *\n   */\n  getValue() {\n    return this.storeValue;\n  }\n\n  /**\n   *  Set the error state\n   *\n   *  @example\n   *\n   *  store.setError({text: 'unable to load data' })\n   *\n   */\n  setError<T>(error: T) {\n    if (error !== (this._value() as S & { error: any }).error) {\n      isDev() && setAction('Set Error');\n      this._setState((state) => ({ ...state, error } as S & { error: any }));\n    }\n  }\n\n  // @internal\n  _select<R>(project: (store: S) => R): Observable<R> {\n    return this.store.asObservable().pipe(\n      map((snapshot) => project(snapshot.state)),\n      distinctUntilChanged()\n    );\n  }\n\n  // @internal\n  _value(): S {\n    return this.storeValue;\n  }\n\n  // @internal\n  _cache(): BehaviorSubject<boolean> {\n    return this.cache.active;\n  }\n\n  // @internal\n  get config(): StoreConfigOptions {\n    return this.constructor[configKey] || {};\n  }\n\n  // @internal\n  get storeName() {\n    return (this.config as StoreConfigOptions & { storeName: string }).storeName || (this.options as StoreConfigOptions & { storeName: string }).storeName || this.options.name;\n  }\n\n  // @internal\n  get deepFreeze() {\n    return this.config.deepFreezeFn || this.options.deepFreezeFn || deepFreeze;\n  }\n\n  // @internal\n  get cacheConfig() {\n    return this.config.cache || this.options.cache;\n  }\n\n  get _producerFn() {\n    return this.config.producerFn || this.options.producerFn || getGlobalProducerFn();\n  }\n\n  // @internal\n  get resettable() {\n    return isDefined(this.config.resettable) ? this.config.resettable : this.options.resettable;\n  }\n\n  // @internal\n  _setState(newState: ((state: Readonly<S>) => S) | S, _dispatchAction = true) {\n    if (isFunction(newState)) {\n      const _newState = newState(this._value());\n      this.storeValue = __DEV__ ? this.deepFreeze(_newState) : _newState;\n    } else {\n      this.storeValue = newState;\n    }\n\n    if (!this.store) {\n      this.store = new BehaviorSubject({ state: this.storeValue });\n\n      if (isDev()) {\n        this.store.subscribe(({ action }) => {\n          if (action) {\n            dispatchUpdate(this.storeName, action);\n          }\n        });\n      }\n\n      return;\n    }\n\n    if (isTransactionInProcess()) {\n      this.handleTransaction();\n      return;\n    }\n\n    this.dispatch(this.storeValue, _dispatchAction);\n  }\n\n  /**\n   *\n   * Reset the current store back to the initial value\n   *\n   * @example\n   *\n   * store.reset()\n   *\n   */\n  reset() {\n    if (this.isResettable()) {\n      isDev() && setAction('Reset');\n      this._setState(() => Object.assign({}, this._initialState));\n      this.setHasCache(false);\n    } else {\n      isDev() && console.warn(`You need to enable the reset functionality`);\n    }\n  }\n\n  /**\n   *\n   * Update the store's value\n   *\n   * @example\n   *\n   * this.store.update(state => {\n   *   return {...}\n   * })\n   */\n  update(stateCallback: UpdateStateCallback<S>);\n  /**\n   *\n   * @example\n   *\n   *  this.store.update({ token: token })\n   */\n  update(state: Partial<S>);\n  update(stateOrCallback: Partial<S> | UpdateStateCallback<S>) {\n    isDev() && setAction('Update');\n\n    let newState;\n    const currentState = this._value();\n    if (isFunction(stateOrCallback)) {\n      newState = isFunction(this._producerFn) ? this._producerFn(currentState, stateOrCallback) : stateOrCallback(currentState);\n    } else {\n      newState = stateOrCallback;\n    }\n\n    const withHook = this.akitaPreUpdate(currentState, { ...currentState, ...newState } as S);\n    const resolved = isPlainObject(currentState) ? withHook : new (currentState as any).constructor(withHook);\n    this._setState(resolved);\n  }\n\n  updateStoreConfig(newOptions: UpdatableStoreConfigOptions) {\n    this.options = { ...this.options, ...newOptions };\n  }\n\n  // @internal\n  akitaPreUpdate(_: Readonly<S>, nextState: Readonly<S>): S {\n    return nextState;\n  }\n\n  /**\n   *\n   * @deprecated\n   *\n   * This method will be removed in v7\n   *\n   * Akita isn't coupled to Angular and should not use Angular\n   * specific code\n   *\n   */\n  ngOnDestroy() {\n    this.destroy();\n  }\n\n  /**\n   *\n   * Destroy the store\n   *\n   * @example\n   *\n   * store.destroy()\n   *\n   */\n  destroy() {\n    const hmrEnabled = isBrowser ? (window as any).hmrEnabled : false;\n    if (!hmrEnabled && this === __stores__[this.storeName]) {\n      delete __stores__[this.storeName];\n      dispatchDeleted(this.storeName);\n      this.setHasCache(false);\n      this.cache.active.complete();\n      this.store.complete();\n    }\n  }\n\n  private onInit(initialState: S) {\n    __stores__[this.storeName] = this;\n    this._setState(() => initialState);\n    dispatchAdded(this.storeName);\n    if (this.isResettable()) {\n      this._initialState = initialState;\n    }\n    isDev() && assertStoreHasName(this.storeName, this.constructor.name);\n  }\n\n  private dispatch(state: S, _dispatchAction = true) {\n    let action: StoreSnapshotAction | undefined = undefined;\n\n    if (_dispatchAction) {\n      action = currentAction;\n      resetCustomAction();\n    }\n\n    this.store.next({ state, action });\n  }\n\n  private watchTransaction() {\n    commit().subscribe(() => {\n      this.inTransaction = false;\n      this.dispatch(this._value());\n    });\n  }\n\n  private isResettable() {\n    if (this.resettable === false) {\n      return false;\n    }\n    return this.resettable || getAkitaConfig().resettable;\n  }\n\n  private handleTransaction() {\n    if (!this.inTransaction) {\n      this.watchTransaction();\n      this.inTransaction = true;\n    }\n  }\n\n  private getCacheTTL() {\n    return (this.cacheConfig && this.cacheConfig.ttl) || getAkitaConfig().ttl;\n  }\n}\n","export const isBrowser = typeof window !== 'undefined';\nexport const isNotBrowser = !isBrowser;\n// export const isNativeScript = typeof global !== 'undefined' && (<any>global).__runtimeVersion !== 'undefined'; TODO is this used?\nexport const hasLocalStorage = () => {\n  try {\n    return typeof localStorage !== 'undefined';\n  } catch {\n    return false;\n  }\n};\nexport const hasSessionStorage = () => {\n  try {\n    return typeof sessionStorage !== 'undefined';\n  } catch {\n    return false;\n  }\n};\n","import { ChangeDetectionStrategy, Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Product } from '../products/state/products.model';\nimport { CartQuery } from './state/cart.query';\nimport { CartItem } from './state/cart.model';\nimport { Actions } from '@datorama/akita-ng-effects';\nimport { CartActions } from './state/cart.actions';\n\n@Component({\n  selector: 'app-cart',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  templateUrl: './cart.component.html'\n})\nexport class CartComponent implements OnInit {\n  items$: Observable<(CartItem & Product)[]>;\n  total$: Observable<number>;\n  notify$: Observable<boolean>;\n\n  constructor(private cartQuery: CartQuery, private actions: Actions) {\n  }\n\n  ngOnInit() {\n    this.items$  = this.cartQuery.selectItems$;\n    this.total$  = this.cartQuery.selectTotal$;\n    this.notify$ = this.cartQuery.selectNotification$;\n  }\n\n  remove({ productId }: CartItem) {\n    this.actions.dispatch(CartActions.removeItem({ productId }));\n  }\n}\n","<section class=\"padding\">\n  <ng-container *ngIf=\"items$ | async as items\">\n    <table class=\"striped\" *ngIf=\"items.length\">\n      <thead>\n        <tr>\n          <th>Title</th>\n          <th>Description</th>\n          <th>Quantity</th>\n          <th>Total</th>\n          <th>Remove</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr *ngFor=\"let item of items\">\n          <td>{{item.title}}</td>\n          <td>{{item.description}}</td>\n          <td>{{item.quantity}}</td>\n          <th>{{item.total}}$</th>\n          <th>\n            <button (click)=\"remove(item)\" class=\"btn waves-effect waves-light red\">\n              <i class=\"material-icons\">delete_forever</i>\n            </button>\n          </th>\n        </tr>\n      </tbody>\n    </table>\n\n    <h3 *ngIf=\"!items.length\">Your cart is empty</h3>\n\n    <h4 *ngIf=\"items.length\" class=\"flex align-center\">\n      <i class=\"material-icons medium mr5\">credit_card</i>\n      Total: {{total$ | async}}$\n    </h4>\n\n  </ng-container>\n\n</section>","import { EntityState, PreAddEntity } from './types';\nimport { hasEntity } from './hasEntity';\n\nexport type AddEntitiesParams<State, Entity> = {\n  state: State;\n  entities: Entity[];\n  idKey: string;\n  options: AddEntitiesOptions;\n  preAddEntity: PreAddEntity<Entity>;\n};\n\nexport type AddEntitiesOptions = { prepend?: boolean; loading?: boolean };\n\n// @internal\nexport function addEntities<S extends EntityState<E>, E>({ state, entities, idKey, options = {}, preAddEntity }: AddEntitiesParams<S, E>) {\n  let newEntities = {};\n  let newIds = [];\n  let hasNewEntities = false;\n\n  for (const entity of entities) {\n    if (hasEntity(state.entities, entity[idKey]) === false) {\n      // evaluate the middleware first to support dynamic ids\n      const current = preAddEntity(entity);\n      const entityId = current[idKey];\n      newEntities[entityId] = current;\n      if (options.prepend) newIds.unshift(entityId);\n      else newIds.push(entityId);\n\n      hasNewEntities = true;\n    }\n  }\n\n  return hasNewEntities\n    ? {\n        newState: {\n          ...state,\n          entities: {\n            ...state.entities,\n            ...newEntities\n          },\n          ids: options.prepend ? [...newIds, ...state.ids] : [...state.ids, ...newIds]\n        },\n        newIds\n      }\n    : null;\n}\n","import { BehaviorSubject, from, isObservable, Observable, Subscription } from 'rxjs';\nimport { delay, map, switchMap, take } from 'rxjs/operators';\nimport { action, logAction } from '../../actions';\nimport { isNil } from '../../isNil';\nimport { isUndefined } from '../../isUndefined';\nimport { QueryEntity } from '../../queryEntity';\nimport { applyTransaction } from '../../transaction';\nimport { EntityState, getEntityType, ID } from '../../types';\nimport { AkitaPlugin } from '../plugin';\n\nexport interface PaginationResponse<E> {\n  currentPage: number;\n  perPage: number;\n  lastPage: number;\n  data: E[];\n  total?: number;\n  from?: number;\n  to?: number;\n  pageControls?: number[];\n}\n\nexport type PaginatorConfig = {\n  pagesControls?: boolean;\n  range?: boolean;\n  startWith?: number;\n  cacheTimeout?: Observable<number>;\n  clearStoreWithCache?: boolean;\n};\n\nconst paginatorDefaults: PaginatorConfig = {\n  pagesControls: false,\n  range: false,\n  startWith: 1,\n  cacheTimeout: undefined,\n  clearStoreWithCache: true,\n};\n\nexport class PaginatorPlugin<State extends EntityState> extends AkitaPlugin<State> {\n  /** Save current filters, sorting, etc. in cache */\n  metadata = new Map();\n\n  private page: BehaviorSubject<number>;\n  private pages = new Map<number, { ids: ID[] }>();\n  private readonly clearCacheSubscription: Subscription;\n\n  private pagination: PaginationResponse<getEntityType<State>> = {\n    currentPage: 1,\n    perPage: 0,\n    total: 0,\n    lastPage: 0,\n    data: [],\n  };\n\n  /**\n   * When the user navigates to a different page and return\n   * we don't want to call `clearCache` on first time.\n   */\n  private initial = true;\n\n  constructor(protected query: QueryEntity<State>, public config: PaginatorConfig = {}) {\n    super(query, {\n      resetFn: () => {\n        this.initial = false;\n        this.destroy({ clearCache: true, currentPage: 1 });\n      },\n    });\n    this.config = { ...paginatorDefaults, ...config };\n    const { startWith, cacheTimeout } = this.config;\n    this.page = new BehaviorSubject(startWith);\n    if (isObservable(cacheTimeout)) {\n      this.clearCacheSubscription = cacheTimeout.subscribe(() => this.clearCache());\n    }\n  }\n\n  /**\n   * Proxy to the query loading\n   */\n  isLoading$ = this.query.selectLoading().pipe(delay(0));\n\n  /**\n   * Listen to page changes\n   */\n  get pageChanges() {\n    return this.page.asObservable();\n  }\n\n  /**\n   * Get the current page number\n   */\n  get currentPage() {\n    return this.pagination.currentPage;\n  }\n\n  /**\n   * Check if current page is the first one\n   */\n  get isFirst() {\n    return this.currentPage === 1;\n  }\n\n  /**\n   * Check if current page is the last one\n   */\n  get isLast() {\n    return this.currentPage === this.pagination.lastPage;\n  }\n\n  /**\n   * Whether to generate an array of pages for *ngFor\n   * [1, 2, 3, 4]\n   */\n  withControls() {\n    this.config.pagesControls = true;\n    return this;\n  }\n\n  /**\n   * Whether to generate the `from` and `to` keys\n   * [1, 2, 3, 4]\n   */\n  withRange() {\n    this.config.range = true;\n    return this;\n  }\n\n  /**\n   * Set the loading state\n   */\n  setLoading(value = true) {\n    this.getStore().setLoading(value);\n  }\n\n  /**\n   * Update the pagination object and add the page\n   */\n  @action('@Pagination - New Page')\n  update(response: PaginationResponse<getEntityType<State>>) {\n    this.pagination = response;\n    this.addPage(response.data);\n  }\n\n  /**\n   *\n   * Set the ids and add the page to store\n   */\n  addPage(data: getEntityType<State>[]) {\n    this.pages.set(this.currentPage, { ids: data.map((entity) => entity[this.getStore().idKey]) });\n    this.getStore().upsertMany(data);\n  }\n\n  /**\n   * Clear the cache.\n   */\n  clearCache(options: { clearStore?: boolean } = {}) {\n    if (!this.initial) {\n      logAction('@Pagination - Clear Cache');\n\n      if (options.clearStore !== false && (this.config.clearStoreWithCache || options.clearStore)) {\n        this.getStore().remove();\n      }\n\n      this.pages = new Map();\n      this.metadata = new Map();\n    }\n    this.initial = false;\n  }\n\n  clearPage(page: number) {\n    this.pages.delete(page);\n  }\n\n  /**\n   * Clear the cache timeout and optionally the pages\n   */\n  destroy({ clearCache, currentPage }: { clearCache?: boolean; currentPage?: number } = {}) {\n    if (this.clearCacheSubscription) {\n      this.clearCacheSubscription.unsubscribe();\n    }\n    if (clearCache) {\n      this.clearCache();\n    }\n    if (!isUndefined(currentPage)) {\n      this.setPage(currentPage);\n    }\n    this.initial = true;\n  }\n\n  /**\n   * Whether the provided page is active\n   */\n  isPageActive(page: number) {\n    return this.currentPage === page;\n  }\n\n  /**\n   * Set the current page\n   */\n  setPage(page: number) {\n    if (page !== this.currentPage || !this.hasPage(page)) {\n      this.page.next((this.pagination.currentPage = page));\n    }\n  }\n\n  /**\n   * Increment current page\n   */\n  nextPage() {\n    if (this.currentPage !== this.pagination.lastPage) {\n      this.setPage(this.pagination.currentPage + 1);\n    }\n  }\n\n  /**\n   * Decrement current page\n   */\n  prevPage() {\n    if (this.pagination.currentPage > 1) {\n      this.setPage(this.pagination.currentPage - 1);\n    }\n  }\n\n  /**\n   * Set current page to last\n   */\n  setLastPage() {\n    this.setPage(this.pagination.lastPage);\n  }\n\n  /**\n   * Set current page to first\n   */\n  setFirstPage() {\n    this.setPage(1);\n  }\n\n  /**\n   * Check if page exists in cache\n   */\n  hasPage(page: number) {\n    return this.pages.has(page);\n  }\n\n  /**\n   * Get the current page if it's in cache, otherwise invoke the request\n   */\n  getPage(req: () => Observable<PaginationResponse<getEntityType<State>>>) {\n    let page = this.pagination.currentPage;\n    if (this.hasPage(page)) {\n      return this.selectPage(page);\n    } else {\n      this.setLoading(true);\n      return from(req()).pipe(\n        switchMap((config: PaginationResponse<getEntityType<State>>) => {\n          page = config.currentPage;\n          applyTransaction(() => {\n            this.setLoading(false);\n            this.update(config);\n          });\n          return this.selectPage(page);\n        })\n      );\n    }\n  }\n\n  getQuery(): QueryEntity<State> {\n    return this.query;\n  }\n\n  refreshCurrentPage() {\n    if (isNil(this.currentPage) === false) {\n      this.clearPage(this.currentPage);\n      this.setPage(this.currentPage);\n    }\n  }\n\n  private getFrom() {\n    if (this.isFirst) {\n      return 1;\n    }\n    return (this.currentPage - 1) * this.pagination.perPage + 1;\n  }\n\n  private getTo() {\n    if (this.isLast) {\n      return this.pagination.total;\n    }\n    return this.currentPage * this.pagination.perPage;\n  }\n\n  /**\n   * Select the page\n   */\n  private selectPage(page: number): Observable<PaginationResponse<getEntityType<State>>> {\n    return this.query.selectAll({ asObject: true }).pipe(\n      take(1),\n      map((entities) => {\n        const response: PaginationResponse<getEntityType<State>> = {\n          ...this.pagination,\n          data: this.pages.get(page).ids.map((id) => entities[id]),\n        };\n\n        const { range, pagesControls } = this.config;\n\n        /** If no total - calc it */\n        if (isNaN(this.pagination.total)) {\n          if (response.lastPage === 1) {\n            response.total = response.data ? response.data.length : 0;\n          } else {\n            response.total = response.perPage * response.lastPage;\n          }\n          this.pagination.total = response.total;\n        }\n\n        if (range) {\n          response.from = this.getFrom();\n          response.to = this.getTo();\n        }\n\n        if (pagesControls) {\n          response.pageControls = generatePages(this.pagination.total, this.pagination.perPage);\n        }\n\n        return response;\n      })\n    );\n  }\n}\n\n/**\n * Generate an array so we can ngFor them to navigate between pages\n */\nfunction generatePages(total: number, perPage: number) {\n  const len = Math.ceil(total / perPage);\n  const arr = [];\n  for (let i = 0; i < len; i++) {\n    arr.push(i + 1);\n  }\n  return arr;\n}\n\n/** backward compatibility */\nexport const Paginator = PaginatorPlugin;\n","import { Query } from './query';\nimport { isBrowser } from './root';\nimport { Store } from './store';\n\n// @internal\nexport const __stores__: { [storeName: string]: Store<any> } = {};\n\n// @internal\nexport const __queries__: { [storeName: string]: Query<any> } = {};\n\nif (isBrowser) {\n  (window as any).$$stores = __stores__;\n  (window as any).$$queries = __queries__;\n}\n","export { action, currentAction, logAction, resetCustomAction, setAction, setSkipAction } from './actions';\nexport { getExitingActives, hasActiveState, isMultiActiveState, resolveActiveEntity } from './activeState';\nexport { addEntities, AddEntitiesOptions, AddEntitiesParams } from './addEntities';\nexport { arrayAdd } from './arrayAdd';\nexport { arrayFind, distinctUntilArrayItemChanged, find } from './arrayFind';\nexport { arrayRemove } from './arrayRemove';\nexport { arrayToggle, byId, byKey } from './arrayToggle';\nexport { arrayUpdate } from './arrayUpdate';\nexport { arrayUpsert } from './arrayUpsert';\nexport { cacheable } from './cacheable';\nexport { coerceArray } from './coerceArray';\nexport { combineQueries } from './combineQueries';\nexport { AkitaConfig, akitaConfig, getAkitaConfig } from './config';\nexport { DEFAULT_ID_KEY } from './defaultIDKey';\nexport { akitaDevtools, DevtoolsOptions, NgZoneLike } from './devtools';\nexport * from './dispatchers';\nexport { entitiesToArray } from './entitiesToArray';\nexport { entitiesToMap } from './entitiesToMap';\nexport * from './entityActions';\nexport { EntityService } from './entityService';\nexport { EntityStore, EntityUIStore } from './entityStore';\nexport { enableAkitaProdMode, isDev, __DEV__ } from './env';\nexport { filterNil, filterNilValue } from './filterNil';\nexport { createEntityQuery, createEntityStore, createQuery, createStore } from './fp';\nexport { getActiveEntities, SetActiveOptions } from './getActiveEntities';\nexport { getInitialEntitiesState } from './getInitialEntitiesState';\nexport { getValue } from './getValueByString';\nexport { guid } from './guid';\nexport { hasEntity } from './hasEntity';\nexport { isArray } from './isArray';\nexport { isDefined } from './isDefined';\nexport { isEmpty } from './isEmpty';\nexport { isFunction } from './isFunction';\nexport { isNil } from './isNil';\nexport { isNumber } from './isNumber';\nexport { isObject } from './isObject';\nexport { isPlainObject } from './isPlainObject';\nexport { isString } from './isString';\nexport { isUndefined } from './isUndefined';\nexport { persistState, PersistState, PersistStateParams, PersistStateSelectFn, selectPersistStateInit } from './persistState';\nexport { DirtyCheckComparator, dirtyCheckDefaultParams, DirtyCheckParams, DirtyCheckPlugin, DirtyCheckResetParams, getNestedPath } from './plugins/dirtyCheck/dirtyCheckPlugin';\nexport { DirtyCheckCollectionParams, EntityDirtyCheckPlugin } from './plugins/dirtyCheck/entityDirtyCheckPlugin';\nexport { EntityCollectionPlugin, RebaseActions } from './plugins/entityCollectionPlugin';\nexport { PaginationResponse, Paginator, PaginatorConfig, PaginatorPlugin } from './plugins/paginator/paginatorPlugin';\nexport { AkitaFormProp, ArrayControlFactory, FormGroupLike, PersistFormParams, PersistNgFormPlugin } from './plugins/persistForm/persistNgFormPlugin';\nexport { AkitaPlugin, Queries } from './plugins/plugin';\nexport { EntityStateHistoryPlugin, StateHistoryEntityParams } from './plugins/stateHistory/entityStateHistoryPlugin';\nexport { StateHistoryParams, StateHistoryPlugin } from './plugins/stateHistory/stateHistoryPlugin';\nexport { Query } from './query';\nexport { QueryConfig, queryConfigKey, QueryConfigOptions, SortBy, SortByOptions } from './queryConfig';\nexport { EntityUIQuery, QueryEntity } from './queryEntity';\nexport { removeAllEntities, removeEntities, RemoveEntitiesParams } from './removeEntities';\nexport { resetStores, ResetStoresParams } from './resetStores';\nexport { isNotBrowser } from './root';\nexport { EntityStoreAction, getEntityStore, getEntityStoreByName, getStore, getStoreByName, runEntityStoreAction, runStoreAction, StoreAction } from './runStoreAction';\nexport { SelectAllOptionsA, SelectAllOptionsB, SelectAllOptionsC, SelectAllOptionsD, SelectAllOptionsE } from './selectAllOverloads';\nexport { isEntityState, setEntities, SetEntitiesParams } from './setEntities';\nexport { setLoading } from './setLoading';\nexport { setLoadingAndError } from './setLoadingAndError';\nexport { setValue } from './setValueByString';\nexport { SnapshotManager, snapshotManager } from './snapshotManager';\nexport { compareValues, Order } from './sort';\nexport { sortByOptions } from './sortByOptions';\nexport { Store } from './store';\nexport { configKey, StoreConfig, StoreConfigOptions } from './storeConfig';\nexport { __stores__ } from './stores';\nexport { toBoolean } from './toBoolean';\nexport { toEntitiesIds } from './toEntitiesIds';\nexport { toEntitiesObject } from './toEntitiesObject';\nexport { trackIdChanges } from './trackIdChanges';\nexport { applyTransaction, commit, endBatch, isTransactionInProcess, startBatch, transaction, TransactionManager, transactionManager, withTransaction } from './transaction';\nexport * from './types';\nexport { updateEntities, UpdateEntitiesParams } from './updateEntities';\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { AuthService, Creds } from '../state/auth.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  templateUrl: './login.component.html'\n})\nexport class LoginComponent implements OnInit {\n  login: FormGroup;\n\n  constructor(private fb: FormBuilder, private router: Router, private authService: AuthService) {}\n\n  ngOnInit(): void {\n    this.login = this.fb.group({\n      email: this.fb.control(''),\n      password: this.fb.control('')\n    });\n  }\n\n  submit() {\n    this.authService.login(this.login.value as Creds).subscribe(() => {\n      this.router.navigate(['/']);\n    });\n  }\n}\n","<div class=\"row padding\" style=\"width: 50%; margin: auto;\">\n  <form class=\"col s12\" [formGroup]=\"login\" (submit)=\"submit()\">\n    <div class=\"row\">\n      <div class=\"input-field\">\n        <i class=\"material-icons prefix\">email</i>\n        <input id=\"icon_prefix\" type=\"text\" class=\"validate\" formControlName=\"email\">\n        <label for=\"icon_prefix\">Email</label>\n      </div>\n      <div class=\"input-field\">\n        <i class=\"material-icons prefix\">lock_open</i>\n        <input id=\"icon_telephone\" type=\"tel\" class=\"validate\" formControlName=\"password\">\n        <label for=\"icon_telephone\">Password</label>\n      </div>\n    </div>\n\n    <button class=\"btn waves-effect waves-light flex\" style=\"margin-left: auto;\" type=\"submit\">Submit\n      <i class=\"material-icons right\">send</i>\n    </button>\n\n  </form>\n</div>","import { APP_INITIALIZER, ModuleWithProviders, NgModule, NgZone, InjectionToken, Inject, Injectable } from '@angular/core';\nimport { akitaDevtools, DevtoolsOptions } from '@datorama/akita';\n\nexport const DEVTOOLS_OPTIONS = new InjectionToken<DevtoolsOptions>('DevtoolsOptions');\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AkitaDevtools {\n  constructor(private ngZone: NgZone, @Inject(DEVTOOLS_OPTIONS) private options: DevtoolsOptions) {\n    akitaDevtools(this.ngZone, this.options);\n  }\n}\n\n// auto initialize the devtools\nexport function d() {}\n\nexport function init(akitaDevtools: AkitaDevtools) {\n  return d;\n}\n\n@NgModule({})\nexport class AkitaNgDevtools {\n  public static forRoot(options?: Partial<DevtoolsOptions>): ModuleWithProviders<AkitaNgDevtools> {\n    return {\n      ngModule: AkitaNgDevtools,\n      providers: [\n        {\n          provide: DEVTOOLS_OPTIONS,\n          useValue: options\n        },\n        {\n          provide: APP_INITIALIZER,\n          useFactory: init,\n          deps: [AkitaDevtools],\n          multi: true\n        }\n      ]\n    };\n  }\n}\n","import { EntityState } from './types';\nimport { isNil } from './isNil';\nimport { coerceArray } from './coerceArray';\n\n// @internal\nexport function entitiesToMap<S extends EntityState<E>, E>(state: S, options) {\n  const map = {};\n  const { filterBy, limitTo } = options;\n  const { ids, entities } = state;\n\n  if (!filterBy && !limitTo) {\n    return entities;\n  }\n  const hasLimit = isNil(limitTo) === false;\n\n  if (filterBy && hasLimit) {\n    let count = 0;\n    for (let i = 0, length = ids.length; i < length; i++) {\n      if (count === limitTo) break;\n      const id = ids[i];\n      const entity = entities[id];\n      const allPass = coerceArray(filterBy).every(fn => fn(entity, i));\n      if (allPass) {\n        map[id] = entity;\n        count++;\n      }\n    }\n  } else {\n    const finalLength = Math.min(limitTo || ids.length, ids.length);\n\n    for (let i = 0; i < finalLength; i++) {\n      const id = ids[i];\n      const entity = entities[id];\n\n      if (!filterBy) {\n        map[id] = entity;\n        continue;\n      }\n\n      const allPass = coerceArray(filterBy).every(fn => fn(entity, i));\n      if (allPass) {\n        map[id] = entity;\n      }\n    }\n  }\n\n  return map;\n}\n","import { HttpClient } from '@angular/common/http';\nimport { inject } from '@angular/core';\nimport { EntityService, EntityState, EntityStore, getEntityType, getIDType, isDefined } from '@datorama/akita';\nimport { isObservable, Observable, of, throwError } from 'rxjs';\nimport { catchError, finalize, switchMap, tap } from 'rxjs/operators';\nimport { errorAction, successAction } from './action-factory';\nimport { isID } from './helpers';\nimport { EntityServiceAction, HttpMethod, NgEntityServiceNotifier } from './ng-entity-service-notifier';\nimport { defaultConfig, mergeDeep, NgEntityServiceGlobalConfig, NG_ENTITY_SERVICE_CONFIG } from './ng-entity-service.config';\nimport { NgEntityServiceLoader } from './ng-entity-service.loader';\nimport { HttpAddConfig, HttpConfig, HttpDeleteConfig, HttpGetConfig, HttpUpdateConfig, NgEntityServiceParams } from './types';\n\nexport const mapResponse = <T>(config?: HttpConfig<T>) =>\n  switchMap((res) => {\n    const mappedResponse = !!config?.mapResponseFn ? config.mapResponseFn(res) : res;\n\n    return isObservable(mappedResponse) ? mappedResponse : of(mappedResponse);\n  });\n\nexport class NgEntityService<S extends EntityState = any> extends EntityService<S> {\n  baseUrl: string | undefined;\n  loader: NgEntityServiceLoader;\n\n  private readonly http: HttpClient;\n  private readonly notifier: NgEntityServiceNotifier;\n  private readonly mergedConfig: NgEntityServiceParams & NgEntityServiceGlobalConfig;\n  private readonly httpMethodMap:\n    | Partial<{\n        GET: HttpMethod;\n        POST: HttpMethod;\n        PATCH: HttpMethod;\n        PUT: HttpMethod;\n        DELETE: HttpMethod;\n      }>\n    | undefined;\n\n  private readonly dispatchSuccess: (action: Partial<EntityServiceAction>) => void;\n  private readonly dispatchError: (action: Partial<EntityServiceAction>) => void;\n\n  constructor(protected readonly store: EntityStore<S>, readonly config: NgEntityServiceParams = {}) {\n    super();\n    this.http = inject(HttpClient);\n    this.loader = inject(NgEntityServiceLoader);\n    this.notifier = inject(NgEntityServiceNotifier);\n    const globalConfig = inject(NG_ENTITY_SERVICE_CONFIG);\n    this.mergedConfig = mergeDeep({}, defaultConfig, globalConfig, this.getDecoratorConfig(), config);\n    this.baseUrl = this.mergedConfig.baseUrl;\n    this.httpMethodMap = this.mergedConfig.httpMethods;\n\n    this.dispatchSuccess = successAction(this.store.storeName, this.notifier);\n    this.dispatchError = errorAction(this.store.storeName, this.notifier);\n  }\n\n  get api() {\n    if (!this.baseUrl) {\n      throw new Error(`baseUrl of ${this.constructor.name} is not defined.`);\n    }\n\n    return `${this.baseUrl}/${this.resourceName}`;\n  }\n\n  get resourceName() {\n    return this.mergedConfig.resourceName || this.store.storeName;\n  }\n\n  setBaseUrl(baseUrl: string) {\n    this.baseUrl = baseUrl;\n  }\n\n  getHttp() {\n    return this.http;\n  }\n\n  getConfig() {\n    return this.mergedConfig;\n  }\n\n  /**\n   * Get one entity - Creates a GET request\n   *\n   * @example\n   * service.get(id).subscribe()\n   * service.get(id, { headers, params, url }).subscribe()\n   */\n  get<T>(id?: getIDType<S>, config?: HttpGetConfig<T>): Observable<T>;\n  /**\n   * Get all entities - Creates a GET request\n   *\n   * @example\n   * service.get().subscribe()\n   * service.get({ headers, params, url }).subscribe()\n   */\n  get<T>(config?: HttpGetConfig<T>): Observable<T>;\n  get<T>(idOrConfig?: getIDType<S> | HttpGetConfig<T>, config?: HttpGetConfig<T>): Observable<T> {\n    const method = this.getHttpMethod(HttpMethod.GET);\n    const isSingle = isID(idOrConfig);\n    const entityId = isSingle ? (idOrConfig as getIDType<S>) : undefined;\n    const conf = (!isSingle ? (idOrConfig as HttpGetConfig<T>) : config) || {};\n    const url = this.resolveUrl(conf, entityId);\n\n    this.loader.dispatch({\n      method,\n      loading: true,\n      entityId,\n      storeName: this.store.storeName,\n    });\n\n    return this.http.request(method, url, conf).pipe(\n      mapResponse(conf),\n      tap((data: any) => {\n        if (!conf.skipWrite) {\n          if (isSingle) {\n            this.store.upsert(entityId, data, (id, newState) => ({ id, ...newState }));\n          } else {\n            if (conf.append) {\n              this.store.add(data);\n            } else if (conf.upsert) {\n              this.store.upsertMany(data);\n            } else {\n              this.store.set(data);\n            }\n          }\n        }\n\n        this.dispatchSuccess({\n          method,\n          payload: data,\n          successMsg: conf.successMsg,\n        });\n      }),\n      catchError((error) => this.handleError(method, error, conf.errorMsg)),\n      finalize(() => {\n        this.loader.dispatch({\n          method,\n          loading: false,\n          entityId,\n          storeName: this.store.storeName,\n        });\n      })\n    );\n  }\n\n  /**\n   * Add a new entity - Creates a POST request\n   *\n   * @example\n   * service.add(entity).subscribe()\n   * service.add(entity, config).subscribe()\n   */\n  add<T>(entity: getEntityType<S>, config?: HttpAddConfig<T>): Observable<T> {\n    const url = this.resolveUrl(config);\n    const method = this.getHttpMethod(HttpMethod.POST);\n\n    this.loader.dispatch({\n      method,\n      loading: true,\n      storeName: this.store.storeName,\n    });\n\n    const configWithBody = { ...config, ...{ body: entity } };\n\n    return this.http.request(method, url, configWithBody).pipe(\n      mapResponse(config),\n      tap((responseEntity: any) => {\n        if (!config || (config && !config.skipWrite)) {\n          this.store.add(responseEntity, config);\n        }\n        this.dispatchSuccess({\n          method,\n          payload: responseEntity,\n          successMsg: config && config.successMsg,\n        });\n      }),\n      catchError((error) => this.handleError(method, error, config && config.errorMsg)),\n      finalize(() => {\n        this.loader.dispatch({\n          method,\n          loading: false,\n          storeName: this.store.storeName,\n        });\n      })\n    );\n  }\n\n  /**\n   * Update an entity - Creates a PUT/PATCH request\n   *\n   * @example\n   * service.update(id, entity).subscribe()\n   * service.update(id, entity, config).subscribe()\n   */\n  update<T>(id: getIDType<S>, entity: Partial<getEntityType<S>>, config?: HttpUpdateConfig<T>): Observable<T> {\n    const url = this.resolveUrl(config, id);\n    const method = (config && config.method) || this.getHttpMethod(HttpMethod.PUT);\n\n    this.loader.dispatch({\n      method,\n      loading: true,\n      entityId: id,\n      storeName: this.store.storeName,\n    });\n\n    const configWithBody = { ...config, ...{ body: entity } };\n\n    return this.http.request(method, url, configWithBody).pipe(\n      mapResponse(config),\n      tap((responseEntity) => {\n        if (!config || (config && !config.skipWrite)) {\n          this.store.update(id, responseEntity as any);\n        }\n        this.dispatchSuccess({\n          method,\n          payload: responseEntity,\n          successMsg: config && config.successMsg,\n        });\n      }),\n      catchError((error) => this.handleError(method, error, config && config.errorMsg)),\n      finalize(() => {\n        this.loader.dispatch({\n          method,\n          loading: false,\n          entityId: id,\n          storeName: this.store.storeName,\n        });\n      })\n    ) as Observable<T>;\n  }\n\n  /**\n   * Delete an entity - Creates a DELETE request\n   *\n   * @example\n   * service.delete(id).subscribe()\n   * service.delete(id, config).subscribe()\n   */\n  delete<T>(id: getIDType<S>, config?: HttpDeleteConfig<T>): Observable<T> {\n    const url = this.resolveUrl(config, id);\n    const method = this.getHttpMethod(HttpMethod.DELETE);\n\n    this.loader.dispatch({\n      method,\n      loading: true,\n      entityId: id,\n      storeName: this.store.storeName,\n    });\n\n    return this.http.request(method, url, config).pipe(\n      mapResponse(config),\n      tap((res) => {\n        if (!config || (config && !config.skipWrite)) {\n          this.store.remove(id);\n        }\n        this.dispatchSuccess({\n          method,\n          payload: res,\n          successMsg: config && config.successMsg,\n        });\n      }),\n      catchError((error) => this.handleError(method, error, config && config.errorMsg)),\n      finalize(() => {\n        this.loader.dispatch({\n          method,\n          loading: false,\n          entityId: id,\n          storeName: this.store.storeName,\n        });\n      })\n    ) as Observable<T>;\n  }\n\n  /**\n   * Gets the mapped HttpMethod.\n   *\n   * The default HttpMethod can be changed like so:\n   * ```ts\n   * {\n   *   provide: NG_ENTITY_SERVICE_CONFIG,\n   *   useValue: {\n   *     httpMethods: {\n   *       PUT: HttpMethod.PATCH,\n   *     },\n   *   } as NgEntityServiceGlobalConfig,\n   * }\n   * ```\n   *\n   * @param type HttpMethod to get the user configured HttpMethod for\n   * @returns User configured HttpMethod for the method, else the default HttpMethod\n   */\n  protected getHttpMethod(type: HttpMethod) {\n    let httpMethod: HttpMethod;\n    if (this.httpMethodMap) {\n      httpMethod = this.httpMethodMap[type];\n    }\n    if (!httpMethod) {\n      throw new Error('Unknown HttpMethod');\n    }\n\n    return httpMethod;\n  }\n\n  /**\n   * Gets the value given via the NgEntityServiceConfig decorator\n   *\n   * ```ts\n   * @NgEntityServiceConfig({\n   *   baseUrl: 'foo',\n   *   resourceName: 'bar',\n   * })\n   * ```\n   *\n   * @param key The property key\n   * @returns The value of the given decorator key\n   */\n  private getDecoratorValue(key: keyof NgEntityServiceParams): string | undefined {\n    return (this.constructor as any)[key];\n  }\n\n  protected getDecoratorConfig() {\n    const config: NgEntityServiceParams = {};\n\n    const baseUrl = this.getDecoratorValue('baseUrl');\n    if (baseUrl) {\n      config.baseUrl = baseUrl;\n    }\n\n    const resourceName = this.getDecoratorValue('resourceName');\n    if (resourceName) {\n      config.resourceName = resourceName;\n    }\n\n    return config;\n  }\n\n  protected resolveUrl(config?: HttpConfig, id?: any) {\n    const { url, urlPostfix } = Object(config) as HttpConfig;\n    let final = this.api;\n\n    if (url) {\n      return url;\n    }\n\n    if (isDefined(id)) {\n      final += `/${id}`;\n    }\n\n    if (urlPostfix) {\n      final += `/${urlPostfix}`;\n    }\n\n    return final;\n  }\n\n  protected handleError(method: HttpMethod, error: any, errorMsg?: string) {\n    this.dispatchError({\n      method,\n      errorMsg,\n      payload: error,\n    });\n\n    return throwError(error);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { filterNilValue, Query } from '@datorama/akita';\nimport { combineLatest, Observable, Subject } from 'rxjs';\nimport { distinctUntilChanged, map, pluck } from 'rxjs/operators';\nimport { RouterState, RouterStore } from './router.store';\n\nfunction slice(section: string) {\n  return (source: Observable<RouterState>) => {\n    return source.pipe(map((data) => data.state)).pipe(\n      filterNilValue(),\n      map((state) => state[section])\n    );\n  };\n}\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class RouterQuery extends Query<RouterState> {\n  __navigationCancel = new Subject();\n  __navigationError = new Subject();\n\n  constructor(protected store: RouterStore) {\n    super(store);\n  }\n\n  selectParams<T = any>(names: string[]): Observable<T[]>;\n  selectParams<T = any>(names?: string): Observable<T>;\n  selectParams<T = any>(names?: string | string[]): Observable<T | T[]> {\n    if (names === undefined) {\n      return this.select().pipe(slice('params'), distinctUntilChanged());\n    }\n\n    const select = (p: string) => this.select().pipe(slice('params'), pluck(p), distinctUntilChanged());\n\n    if (Array.isArray(names)) {\n      const sources = names.map(select);\n      return combineLatest(sources);\n    }\n\n    return select(names).pipe(distinctUntilChanged());\n  }\n\n  getParams<T = any>(name?: string): T | null {\n    if (this.getValue().state) {\n      const params = this.getValue().state.params;\n      if (name === undefined) {\n        return params as T;\n      }\n\n      return params[name];\n    }\n\n    return null;\n  }\n\n  selectQueryParams<T = any>(names: string[]): Observable<T[]>;\n  selectQueryParams<T = any>(names?: string): Observable<T>;\n  selectQueryParams<T = any>(names?: string | string[]): Observable<T | T[]> {\n    if (names === undefined) {\n      return this.select().pipe(slice('queryParams'), distinctUntilChanged());\n    }\n\n    const select = (p: string) => this.select().pipe(slice('queryParams'), pluck(p), distinctUntilChanged());\n\n    if (Array.isArray(names)) {\n      const sources = names.map(select);\n      return combineLatest(sources);\n    }\n\n    return select(names);\n  }\n\n  getQueryParams<T = any>(name?: string): T | null {\n    if (this.getValue().state) {\n      const params = this.getValue().state.queryParams;\n      if (name === undefined) {\n        return params as T;\n      }\n\n      return params[name];\n    }\n\n    return null;\n  }\n\n  selectFragment(): Observable<string> {\n    return this.select().pipe(slice('fragment'), distinctUntilChanged());\n  }\n\n  getFragment(): string | null {\n    if (this.getValue().state) {\n      return this.getValue().state.fragment;\n    }\n\n    return null;\n  }\n\n  selectData<T = any>(name?: string): Observable<T> {\n    if (name === undefined) {\n      return this.select().pipe(slice('data'), distinctUntilChanged());\n    }\n\n    return this.select().pipe(slice('data'), pluck(name), distinctUntilChanged());\n  }\n\n  getData<T = any>(name?: string): T | null {\n    if (this.getValue().state) {\n      const data = this.getValue().state.data;\n      if (name === undefined) {\n        return data as T;\n      }\n\n      return data[name];\n    }\n\n    return null;\n  }\n\n  selectNavigationExtras<T = any>(name?: string): Observable<T> {\n    if (name === undefined) {\n      return this.select().pipe(slice('navigationExtras'), distinctUntilChanged());\n    }\n\n    return this.select().pipe(slice('data'), pluck(name), distinctUntilChanged());\n  }\n\n  getNavigationExtras<T = any>(name?: string): T | null {\n    if (this.getValue().state) {\n      const data = this.getValue().state.navigationExtras;\n      if (name === undefined) {\n        return data as T;\n      }\n\n      return data[name];\n    }\n\n    return null;\n  }\n\n  selectNavigationCancel() {\n    return this.__navigationCancel.asObservable();\n  }\n\n  selectNavigationError() {\n    return this.__navigationError.asObservable();\n  }\n}\n","import { isNil } from './isNil';\n\n// @internal\nexport function coerceArray<T>(value: T | T[]): T[] {\n  if (isNil(value)) {\n    return [];\n  }\n  return Array.isArray(value) ? value : [value];\n}\n","export * from './lib/router.module';\nexport * from './lib/router.query';\nexport * from './lib/router.service';\nexport * from './lib/router.store';\n","// @internal\nexport function isNil(v) {\n  return v === null || v === undefined;\n}\n","import { Injector, ModuleWithProviders, NgModule, Type } from '@angular/core';\nimport { _FEATURE_EFFECTS, _ROOT_EFFECTS, FEATURE_EFFECT_INSTANCES, ROOT_EFFECT_INSTANCES } from './tokens';\nimport { EffectsRootModule } from './effect-root.module';\nimport { Actions } from './actions';\nimport { EffectsFeatureModule } from './effect-feature.module';\nimport { ModuleManager } from './module-manager.service';\n\n@NgModule({})\nexport class AkitaNgEffectsModule {\n  static forRoot(rootEffects: Type<any>[] = []): ModuleWithProviders<EffectsRootModule> {\n    return {\n      ngModule: EffectsRootModule,\n      providers: [\n        ModuleManager,\n        Actions,\n        rootEffects,\n        {\n          provide: _ROOT_EFFECTS,\n          useValue: [rootEffects],\n        },\n        {\n          provide: ROOT_EFFECT_INSTANCES,\n          useFactory: createEffectInstances,\n          deps: [Injector, _ROOT_EFFECTS, ModuleManager],\n        },\n      ],\n    };\n  }\n\n  static forFeature(featureEffects: Type<any>[] = []): ModuleWithProviders<EffectsFeatureModule> {\n    return {\n      ngModule: EffectsFeatureModule,\n      providers: [\n        featureEffects,\n        {\n          provide: _FEATURE_EFFECTS,\n          useValue: featureEffects,\n          multi: true,\n        },\n        {\n          provide: FEATURE_EFFECT_INSTANCES,\n          multi: true,\n          useFactory: createEffectInstances,\n          deps: [Injector, _FEATURE_EFFECTS, ModuleManager],\n        },\n      ],\n    };\n  }\n}\n\nexport function createEffectInstances(injector: Injector, effectGroups: Type<any>[][], moduleManager: ModuleManager): any[] {\n  const mergedEffects: Type<any>[] = [];\n\n  for (const effectGroup of effectGroups) {\n    mergedEffects.push(...effectGroup);\n  }\n  // todo we shouldn't use a map to avoid registering the effects twice;\n  // fix the underlying issue for feature is called twice\n  const effectInstances = mergedEffects.reduce((acc, effect) => {\n    if (!moduleManager.has(effect)) {\n      moduleManager.add(effect);\n      acc.push(injector.get(effect));\n    }\n    return acc;\n  }, []);\n\n  return effectInstances;\n}\n","import { MonoTypeOperatorFunction, Observable } from 'rxjs';\nimport { distinctUntilChanged, map } from 'rxjs/operators';\nimport { coerceArray } from './coerceArray';\nimport { DEFAULT_ID_KEY } from './defaultIDKey';\nimport { isArray } from './isArray';\nimport { isEmpty } from './isEmpty';\nimport { isFunction } from './isFunction';\nimport { ID, IDS, ItemPredicate } from './types';\n\n// @internal\nexport function find<T>(collection: T[], idsOrPredicate: IDS | ItemPredicate, idKey: string) {\n  const result = [];\n  if (isFunction(idsOrPredicate)) {\n    for (const entity of collection) {\n      if (idsOrPredicate(entity) === true) {\n        result.push(entity);\n      }\n    }\n  } else {\n    const toSet = coerceArray(idsOrPredicate).reduce((acc, current) => acc.add(current), new Set());\n\n    for (const entity of collection) {\n      if (toSet.has(entity[idKey])) {\n        result.push(entity);\n      }\n    }\n  }\n\n  return result;\n}\n\n// @internal\nexport function distinctUntilArrayItemChanged<T>(): MonoTypeOperatorFunction<T[]> {\n  return distinctUntilChanged((prevCollection: T[], currentCollection: T[]) => {\n    if (prevCollection === currentCollection) {\n      return true;\n    }\n\n    if (!isArray(prevCollection) || !isArray(currentCollection)) {\n      return false;\n    }\n\n    if (isEmpty(prevCollection) && isEmpty(currentCollection)) {\n      return true;\n    }\n\n    if (prevCollection.length !== currentCollection.length) {\n      return false;\n    }\n\n    const isOneOfItemReferenceChanged = currentCollection.some((item, i) => {\n      return prevCollection[i] !== item;\n    });\n\n    // return false means there is a change and we want to call next()\n    return isOneOfItemReferenceChanged === false;\n  });\n}\n\n/**\n * Find items in a collection\n *\n * @example\n *\n *  selectEntity(1, 'comments').pipe(\n *   arrayFind(comment => comment.text = 'text')\n * )\n */\nexport function arrayFind<T>(ids: ItemPredicate<T>, idKey?: never): (source: Observable<T[]>) => Observable<T[]>;\n/**\n * @example\n *\n * selectEntity(1, 'comments').pipe(\n *   arrayFind(3)\n * )\n */\nexport function arrayFind<T>(ids: ID, idKey?: string): (source: Observable<T[]>) => Observable<T>;\n/**\n * @example\n *\n * selectEntity(1, 'comments').pipe(\n *   arrayFind([1, 2, 3])\n * )\n */\nexport function arrayFind<T>(ids: ID[], idKey?: string): (source: Observable<T[]>) => Observable<T[]>;\nexport function arrayFind<T>(idsOrPredicate: ID[] | ID | ItemPredicate<T>, idKey?: string): (source: Observable<T[]>) => Observable<T[] | T> {\n  return function (source: Observable<T[]>) {\n    return source.pipe(\n      map((collection: T[] | undefined | null) => {\n        // which means the user deleted the root entity or set the collection to nil\n        if (isArray(collection) === false) {\n          return collection;\n        }\n        return find(collection, idsOrPredicate, idKey || DEFAULT_ID_KEY);\n      }),\n      distinctUntilArrayItemChanged(),\n      map((value) => {\n        if (isArray(value) === false) {\n          return value;\n        }\n\n        if (isArray(idsOrPredicate) || isFunction(idsOrPredicate)) {\n          return value;\n        }\n\n        return value[0];\n      })\n    );\n  };\n}\n","// @internal\nexport function isUndefined(value: any): value is undefined {\n  return value === undefined;\n}\n","import { defer, MonoTypeOperatorFunction, Observable } from 'rxjs';\nimport { tap } from 'rxjs/operators';\nimport { Store } from './store';\n\nexport function setLoadingAndError<T>(store: Store): MonoTypeOperatorFunction<T> {\n  return function <T>(source: Observable<T>) {\n    return defer(() => {\n      store.setLoading(true);\n      store.setError(null);\n\n      return source.pipe(\n        tap({\n          error(err) {\n            store.setLoading(false);\n            store.setError(err);\n          },\n          complete() {\n            store.setLoading(false);\n          },\n        })\n      );\n    });\n  };\n}\n","import { Component, OnInit } from '@angular/core';\nimport { combineLatest, Observable } from 'rxjs';\nimport { FormControl } from '@angular/forms';\nimport { startWith, switchMap } from 'rxjs/operators';\nimport { Product } from './state/products.model';\nimport { ProductsService } from './state/products.service';\nimport { ProductsQuery } from './state/products.query';\nimport { CartService } from '../cart/state/cart.service';\n\n@Component({\n  selector: 'app-products',\n  templateUrl: `./products.component.html`\n})\nexport class ProductsComponent implements OnInit {\n  products$: Observable<Product[]>;\n  loading$: Observable<boolean>;\n  search = new FormControl();\n  sortControl = new FormControl('title');\n\n  constructor(private productsService: ProductsService, private cartService: CartService, private productsQuery: ProductsQuery) {}\n\n  ngOnInit() {\n    this.productsService.get().subscribe();\n    this.loading$ = this.productsQuery.selectLoading();\n    this.products$ = combineLatest([this.search.valueChanges.pipe(startWith('')), this.sortControl.valueChanges.pipe(startWith('title'))]).pipe(\n      switchMap(([term, sortBy]) => this.productsQuery.getProducts(term, sortBy as keyof Product))\n    );\n  }\n\n  addProductToCart({ id }: Product) {\n    this.cartService.addProductToCart(id);\n  }\n\n  subtract({ id }: Product) {\n    this.cartService.subtract(id);\n  }\n}\n","<section class=\"padding\">\n\n  <h1 class=\"grey-text flex align-center\">\n    <i class=\"large material-icons\">view_list</i>\n    Products\n  </h1>\n\n  <ng-container *ngIf=\"!(loading$ | async); else loadingTpl\">\n\n    <!--Sorting-->\n    <div class=\"col s12\">\n      <label>Sort by</label>\n      <select class=\"browser-default\" [formControl]=\"sortControl\">\n        <option value=\"title\">Name</option>\n        <option value=\"price\">Price</option>\n      </select>\n    </div>\n\n    <!--Search Input-->\n    <div class=\"input-field\">\n      <i class=\"material-icons prefix\">search</i>\n      <input placeholder=\"Search Product..\" [formControl]=\"search\">\n    </div>\n\n\n    <!--Products List-->\n\n    <div class=\"mt flex\">\n\n      <app-product *ngFor=\"let product of (products$ | async)\"\n                   (add)=\"addProductToCart($event)\"\n                   (subtract)=\"subtract($event)\"\n                   [product]=\"product\">\n      </app-product>\n\n    </div>\n\n  </ng-container>\n\n  <!--Spinner-->\n  <ng-template #loadingTpl>\n    <div class=\"progress\">\n      <div class=\"indeterminate\"></div>\n    </div>\n  </ng-template>\n\n</section>\n","import { Product } from '../../products/state/products.model';\n\nexport type CartItem = {\n  productId: Product['id'];\n  quantity: number;\n  total: number;\n};\n\nexport function createCartItem(params: Partial<CartItem>) {\n  return {\n    total: 0,\n    quantity: 1,\n    ...params\n  } as CartItem;\n}\n","import { Observable } from 'rxjs';\nimport { setMetadata } from './effect.utils';\nimport { EffectOptions } from './types';\n\nexport function createEffect<T>(actions$: () => Observable<T>, options?: EffectOptions): Observable<T> {\n  const effect = actions$();\n  options = {\n    dispatch: false,\n    ...options,\n  };\n  setMetadata(effect, null, options);\n\n  return effect;\n}\n","// @internal\nexport class AkitaError extends Error {\n  constructor(message: string) {\n    super(message);\n  }\n}\n\n// @internal\nexport function assertStoreHasName(name: string, className: string) {\n  if (!name) {\n    console.error(`@StoreConfig({ name }) is missing in ${className}`);\n  }\n}\n","import { EMPTY, Observable, of } from 'rxjs';\nimport { Store } from './store';\n\n/**\n * \n * Helper function for checking if we have data in cache\n * \n * export class ProductsService {\n *   constructor(private productsStore: ProductsStore) {}\n\n *   get(): Observable<void> {\n *     const request = this.http.get().pipe(\n *       tap(this.productsStore.set(response))\n *     );\n *\n *     return cacheable(this.productsStore, request);\n *   }\n * }\n */\nexport function cacheable<T>(store: Store, request$: Observable<T>, options: { emitNext: boolean } = { emitNext: false }): Observable<T | undefined | never> {\n  if (store._cache().value) {\n    return options.emitNext ? of(undefined) : EMPTY;\n  }\n  return request$;\n}\n","import { Injectable } from '@angular/core';\nimport { Actions, createEffect, Effect, ofType } from '@datorama/akita-ng-effects';\nimport { CartActions } from './cart.actions';\nimport { map, switchMap, tap } from 'rxjs/operators';\nimport { CartStore } from './cart.store';\nimport { timer } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class CartEffects {\n  constructor(private actions$: Actions, private cartStore: CartStore) {}\n\n  removeItem$ = createEffect(\n    () =>\n      this.actions$.pipe(\n        ofType(CartActions.removeItem),\n        tap(({ productId }) => this.cartStore.remove(productId)),\n        map((_) => {\n          return CartActions.removeItemSuccess();\n        })\n      ),\n    { dispatch: true }\n  );\n\n  @Effect()\n  removeItemSuccess = this.actions$.pipe(\n    ofType(CartActions.removeItemSuccess),\n    tap((_) => this.cartStore.notify(true)),\n    switchMap((state) => timer(3000).pipe(tap((_) => this.cartStore.notify(false))))\n  );\n}\n","import { EntityState } from './index';\n\n// @internal\nexport const getInitialEntitiesState = () =>\n  ({\n    entities: {},\n    ids: [],\n    loading: true,\n    error: null\n  } as EntityState);\n","import { __stores__ } from './stores';\nimport { isString } from './isString';\nimport { setSkipStorageUpdate } from './persistState';\nimport { $$addStore } from './dispatchers';\nimport { filter, take } from 'rxjs/operators';\n\nexport class SnapshotManager {\n  /**\n   * Get a snapshot of the whole state or a specific stores\n   * Use it ONLY for things such as saving the state in the server\n   */\n  getStoresSnapshot(stores: string[] = []) {\n    let acc = {};\n    const hasInclude = stores.length > 0;\n    const keys = hasInclude ? stores : Object.keys(__stores__);\n    for (let i = 0; i < keys.length; i++) {\n      let storeName = keys[i];\n      if (storeName !== 'router') {\n        acc[storeName] = __stores__[storeName]._value();\n      }\n    }\n\n    return acc;\n  }\n\n  setStoresSnapshot(stores: { [storeName: string]: any } | string, options?: { skipStorageUpdate?: boolean; lazy?: boolean }) {\n    const mergedOptions = { ...{ skipStorageUpdate: false, lazy: false }, ...options };\n    mergedOptions.skipStorageUpdate && setSkipStorageUpdate(true);\n\n    let normalizedStores = stores;\n\n    if (isString(stores)) {\n      normalizedStores = JSON.parse(normalizedStores as string);\n    }\n\n    const size = Object.keys(normalizedStores).length;\n\n    if (mergedOptions.lazy) {\n      $$addStore\n        .pipe(\n          filter(name => normalizedStores.hasOwnProperty(name)),\n          take(size)\n        )\n        .subscribe(name => __stores__[name]._setState(() => normalizedStores[name]));\n    } else {\n      for (let i = 0, keys = Object.keys(normalizedStores); i < keys.length; i++) {\n        const storeName = keys[i];\n        if (__stores__[storeName]) {\n          __stores__[storeName]._setState(() => normalizedStores[storeName]);\n        }\n      }\n    }\n\n    mergedOptions.skipStorageUpdate && setSkipStorageUpdate(false);\n  }\n}\n\nexport const snapshotManager = new SnapshotManager();\n","import { InjectionToken, Type } from '@angular/core';\n\nexport const _ROOT_EFFECTS = new InjectionToken<Type<any>[]>('@datorama/akita Internal Root Effects');\n\nexport const ROOT_EFFECT_INSTANCES = new InjectionToken<Type<any>[]>('@datorama/akita Root Effects');\n\nexport const _FEATURE_EFFECTS = new InjectionToken<Type<any>[]>('@datorama/akita Internal Feature Effects');\n\nexport const FEATURE_EFFECT_INSTANCES = new InjectionToken<Type<any>[]>('@datorama/akita Feature Effects');\n","import { Router } from '@angular/router';\nimport { Injectable } from '@angular/core';\nimport { map, take } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\nimport { AuthQuery } from './state/auth.query';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthGuard {\n  constructor(private router: Router, private authQuery: AuthQuery) {}\n\n  canActivate(): Observable<boolean> {\n    // For sync storage\n    return this.authQuery.isLoggedIn$.pipe(\n      map(isAuth => {\n        if (isAuth) {\n          return true;\n        }\n        this.router.navigateByUrl('login');\n        return false;\n      }),\n      take(1)\n    );\n\n    // For async storage\n    // return combineLatest([\n    //   this.authQuery.isLoggedIn$,\n    //   selectPersistStateInit(),\n    // ]).pipe(\n    //   map(([isAuth]) => {\n    //     if(isAuth) {\n    //       return true;\n    //     }\n    //     this.router.navigateByUrl('login');\n    //     return false;\n    //   }),\n    //   take(1)\n    // );\n  }\n}\n","// @internal\nexport function mapSkipUndefined<T, V>(arr: T[], callbackFn: (value: T, index: number, array: T[]) => V) {\n  return arr.reduce((result, value, index, array) => {\n    const val = callbackFn(value, index, array);\n    if (val !== undefined) {\n      result.push(val);\n    }\n    return result;\n  }, []);\n}\n","import { Observable, of } from 'rxjs';\nimport { distinctUntilChanged, filter, map, switchMap } from 'rxjs/operators';\nimport { distinctUntilArrayItemChanged } from './arrayFind';\nimport { coerceArray } from './coerceArray';\nimport { entitiesToArray } from './entitiesToArray';\nimport { entitiesToMap } from './entitiesToMap';\nimport { EntityAction, EntityActions } from './entityActions';\nimport { EntityStore } from './entityStore';\nimport { findEntityByPredicate, getEntity } from './getEntity';\nimport { isArray } from './isArray';\nimport { isDefined } from './isDefined';\nimport { isFunction } from './isFunction';\nimport { isNil } from './isNil';\nimport { mapSkipUndefined } from './mapSkipUndefined';\nimport { Query } from './query';\nimport { QueryConfigOptions } from './queryConfig';\nimport { SelectAllOptionsA, SelectAllOptionsB, SelectAllOptionsC, SelectAllOptionsD, SelectAllOptionsE } from './selectAllOverloads';\nimport { sortByOptions } from './sortByOptions';\nimport { toBoolean } from './toBoolean';\nimport { EntityState, getEntityType, getIDType, HashMap, ItemPredicate, OrArray, SelectOptions } from './types';\n\n/**\n *\n *  The Entity Query is similar to the general Query, with additional functionality tailored for EntityStores.\n *\n *  class WidgetsQuery extends QueryEntity<WidgetsState> {\n *     constructor(protected store: WidgetsStore) {\n *       super(store);\n *     }\n *  }\n *\n *\n *\n */\nexport class QueryEntity<S extends EntityState, EntityType = getEntityType<S>, IDType = getIDType<S>> extends Query<S> {\n  ui: EntityUIQuery<any, EntityType>;\n  protected store: EntityStore<S>;\n\n  // @internal\n  __store__;\n\n  constructor(store: EntityStore<S>, private options: QueryConfigOptions = {}) {\n    super(store);\n    this.__store__ = store;\n  }\n\n  /**\n   * Select the entire store's entity collection\n   *\n   * @example\n   *\n   * this.query.selectAll()\n   *\n   * this.query.selectAll({\n   *   limitTo: 5\n   *   filterBy: entity => entity.completed === true\n   * })\n   *\n   * this.query.selectAll({\n   *   asObject: true,\n   *   limitTo: 3\n   * })\n   *\n   *  this.query.selectAll({\n   *   sortBy: 'price',\n   *   sortByOrder: Order.DESC\n   * })\n   *\n   */\n  selectAll(options: SelectAllOptionsA<EntityType>): Observable<HashMap<EntityType>>;\n  selectAll(options: SelectAllOptionsB<EntityType>): Observable<EntityType[]>;\n  selectAll(options: SelectAllOptionsC<EntityType>): Observable<HashMap<EntityType>>;\n  selectAll(options: SelectAllOptionsD<EntityType>): Observable<EntityType[]>;\n  selectAll(options: SelectAllOptionsE<EntityType>): Observable<EntityType[]>;\n  selectAll(): Observable<EntityType[]>;\n  selectAll(\n    options: SelectOptions<EntityType> = {\n      asObject: false,\n    }\n  ): Observable<EntityType[] | HashMap<EntityType>> {\n    return this.select((state) => state.entities).pipe(map(() => this.getAll(options)));\n  }\n\n  /**\n   * Get the entire store's entity collection\n   *\n   * @example\n   *\n   * this.query.getAll()\n   *\n   * this.query.getAll({\n   *   limitTo: 5\n   *   filterBy: entity => entity.completed === true\n   * })\n   *\n   * this.query.getAll({\n   *   asObject: true,\n   *   limitTo: 3\n   * })\n   *\n   *  this.query.getAll({\n   *   sortBy: 'price',\n   *   sortByOrder: Order.DESC\n   * })\n   */\n  getAll(options: SelectAllOptionsA<EntityType>): HashMap<EntityType>;\n  getAll(options: SelectAllOptionsB<EntityType>): EntityType[];\n  getAll(options: SelectAllOptionsC<EntityType>): HashMap<EntityType>;\n  getAll(options: SelectAllOptionsD<EntityType>): EntityType[];\n  getAll(options: SelectAllOptionsE<EntityType>): EntityType[];\n  getAll(): EntityType[];\n  getAll(options: SelectOptions<EntityType> = { asObject: false, filterBy: undefined, limitTo: undefined }): EntityType[] | HashMap<EntityType> {\n    if (options.asObject) {\n      return entitiesToMap(this.getValue(), options);\n    }\n    sortByOptions(options, this.config || this.options);\n\n    return entitiesToArray(this.getValue(), options);\n  }\n\n  /**\n   * Select multiple entities from the store\n   *\n   * @example\n   *\n   * this.query.selectMany([1,2,3])\n   * this.query.selectMany([1,2], entity => entity.title)\n   */\n  selectMany<R>(ids: IDType[]): Observable<EntityType[]>;\n  selectMany<R>(ids: IDType[], project: (entity: EntityType) => R): Observable<R[]>;\n  selectMany<R>(ids: IDType[], project?: (entity: EntityType) => R): Observable<EntityType[] | R[]> {\n    if (!ids || !ids.length) return of([]);\n\n    return this.select((state) => state.entities).pipe(\n      map((entities) => mapSkipUndefined(ids, (id) => getEntity(id, project)(entities))),\n      distinctUntilArrayItemChanged()\n    );\n  }\n\n  /**\n   * Select an entity or a slice of an entity\n   *\n   * @example\n   *\n   * this.query.selectEntity(1)\n   * this.query.selectEntity(1, entity => entity.config.date)\n   * this.query.selectEntity(1, 'comments')\n   * this.query.selectEntity(e => e.title === 'title')\n   *\n   */\n  selectEntity<R>(id: IDType): Observable<EntityType | undefined>;\n  selectEntity<K extends keyof EntityType>(id: IDType, project?: K): Observable<EntityType[K] | undefined>;\n  selectEntity<R>(id: IDType, project: (entity?: EntityType) => R): Observable<R>;\n  selectEntity<R>(predicate: ItemPredicate<EntityType>): Observable<EntityType | undefined>;\n  selectEntity<R>(idOrPredicate: IDType | ItemPredicate<EntityType>, project?: ((entity: EntityType) => R) | keyof EntityType): Observable<R | EntityType | undefined> {\n    let id = idOrPredicate;\n\n    if (isFunction(idOrPredicate)) {\n      // For performance reason we expect the entity to be in the store\n      (id as any) = findEntityByPredicate(idOrPredicate, this.getValue().entities);\n    }\n\n    return this.select((state) => state.entities).pipe(map(getEntity(id, project)), distinctUntilChanged());\n  }\n\n  /**\n   * Get an entity by id\n   *\n   * @example\n   *\n   * this.query.getEntity(1);\n   */\n  getEntity(id: IDType): EntityType | undefined {\n    return this.getValue().entities[id as any];\n  }\n\n  /**\n   * Select the active entity's id\n   *\n   * @example\n   *\n   * this.query.selectActiveId()\n   */\n  selectActiveId(): Observable<S['active'] | undefined> {\n    return this.select((state) => (state as S & { active: S['active'] }).active);\n  }\n\n  /**\n   * Get the active id\n   *\n   * @example\n   *\n   * this.query.getActiveId()\n   */\n  getActiveId(): S['active'] | undefined {\n    return this.getValue().active;\n  }\n\n  /**\n   * Select the active entity\n   *\n   * @example\n   *\n   * this.query.selectActive()\n   * this.query.selectActive(entity => entity.title)\n   */\n  selectActive<R>(): S['active'] extends any[] ? Observable<EntityType[]> : Observable<EntityType | undefined>;\n  selectActive<R>(project?: (entity: EntityType) => R): S['active'] extends any[] ? Observable<R[]> : Observable<R | undefined>;\n  selectActive<R>(project?: (entity: EntityType) => R): Observable<R | EntityType> | Observable<EntityType[] | R[] | undefined> {\n    if (isArray(this.getActive())) {\n      return this.selectActiveId().pipe(switchMap((ids) => this.selectMany(ids, project)));\n    }\n    return this.selectActiveId().pipe(switchMap((ids) => this.selectEntity(ids, project)));\n  }\n\n  /**\n   * Get the active entity\n   *\n   * @example\n   *\n   * this.query.getActive()\n   */\n  getActive(): S['active'] extends any[] ? EntityType[] : EntityType | undefined;\n  getActive(): OrArray<EntityType> | undefined {\n    const activeId = this.getActiveId();\n    if (isArray(activeId)) {\n      return activeId.map((id) => this.getValue().entities[id as any]);\n    }\n    return toBoolean(activeId) ? this.getEntity(activeId) : undefined;\n  }\n\n  /**\n   * Select the store's entity collection length\n   *\n   * @example\n   *\n   * this.query.selectCount()\n   * this.query.selectCount(entity => entity.completed)\n   */\n  selectCount(predicate?: (entity: EntityType, index: number) => boolean): Observable<number> {\n    return this.select((state) => state.entities).pipe(map(() => this.getCount(predicate)));\n  }\n\n  /**\n   * Get the store's entity collection length\n   *\n   * @example\n   *\n   * this.query.getCount()\n   * this.query.getCount(entity => entity.completed)\n   */\n  getCount(predicate?: (entity: EntityType, index: number) => boolean): number {\n    if (isFunction(predicate)) {\n      return this.getAll().filter(predicate).length;\n    }\n    return this.getValue().ids.length;\n  }\n\n  /**\n   *\n   * Select the last entity from the store\n   *\n   * @example\n   *\n   * this.query.selectLast()\n   * this.query.selectLast(todo => todo.title)\n   */\n  selectLast<R>(): Observable<EntityType | undefined>;\n  selectLast<R>(project: (entity?: EntityType) => R): Observable<R>;\n  selectLast<R>(project?: (entity?: EntityType) => R): Observable<R | EntityType | undefined> {\n    return this.selectAt((ids) => ids[ids.length - 1], project);\n  }\n\n  /**\n   *\n   * Select the first entity from the store\n   *\n   * @example\n   *\n   * this.query.selectFirst()\n   * this.query.selectFirst(todo => todo.title)\n   */\n  selectFirst<R>(): Observable<EntityType | undefined>;\n  selectFirst<R>(project: (entity?: EntityType) => R): Observable<R>;\n  selectFirst<R>(project?: (entity?: EntityType) => R): Observable<R | EntityType | undefined> {\n    return this.selectAt((ids) => ids[0], project);\n  }\n\n  /**\n   *\n   * Listen for entity actions\n   *\n   *  @example\n   *  this.query.selectEntityAction(EntityActions.Add);\n   *  this.query.selectEntityAction(EntityActions.Update);\n   *  this.query.selectEntityAction(EntityActions.Remove);\n   *\n   *  this.query.selectEntityAction([EntityActions.Add, EntityActions.Update, EntityActions.Remove])\n   *\n   *  this.query.selectEntityAction();\n   */\n  selectEntityAction(action: EntityActions): Observable<IDType[]>;\n  selectEntityAction(actions: EntityActions[]): Observable<EntityAction<IDType>>;\n  selectEntityAction(): Observable<EntityAction<IDType>>;\n  selectEntityAction(actionOrActions?: EntityActions | EntityActions[]): Observable<IDType[] | EntityAction<IDType>> {\n    if (isNil(actionOrActions)) {\n      return this.store.selectEntityAction$;\n    }\n\n    const project = isArray(actionOrActions) ? (action: EntityAction<IDType>) => action : ({ ids }: EntityAction<IDType>) => ids;\n    const actions = coerceArray(actionOrActions);\n\n    return this.store.selectEntityAction$.pipe(\n      filter(({ type }: EntityAction<IDType>) => actions.includes(type)),\n      map((action) => project(action))\n    );\n  }\n\n  /**\n   * Returns whether entity exists\n   *\n   * @example\n   *\n   * this.query.hasEntity(2)\n   * this.query.hasEntity(entity => entity.completed)\n   * this.query.hasEntity([1, 2, 33])\n   *\n   */\n  hasEntity(id: IDType): boolean;\n  hasEntity(id: IDType[]): boolean;\n  hasEntity(project: (entity: EntityType) => boolean): boolean;\n  hasEntity(): boolean;\n  hasEntity(projectOrIds?: IDType | IDType[] | ((entity: EntityType) => boolean)): boolean {\n    if (isNil(projectOrIds)) {\n      return this.getValue().ids.length > 0;\n    }\n\n    if (isFunction(projectOrIds)) {\n      return this.getAll().some(projectOrIds);\n    }\n\n    if (isArray(projectOrIds)) {\n      return projectOrIds.every((id) => (id as any) in this.getValue().entities);\n    }\n\n    return (projectOrIds as any) in this.getValue().entities;\n  }\n\n  /**\n   * Returns whether entity store has an active entity\n   *\n   * @example\n   *\n   * this.query.hasActive()\n   * this.query.hasActive(3)\n   *\n   */\n  hasActive(id?: IDType): boolean {\n    const active = this.getValue().active;\n    const isIdProvided = isDefined(id);\n    if (Array.isArray(active)) {\n      if (isIdProvided) {\n        return active.includes(id);\n      }\n      return active.length > 0;\n    }\n    return isIdProvided ? active === id : isDefined(active);\n  }\n\n  /**\n   *\n   * Create sub UI query for querying Entity's UI state\n   *\n   * @example\n   *\n   *\n   * export class ProductsQuery extends QueryEntity<ProductsState> {\n   *   ui: EntityUIQuery<ProductsUIState>;\n   *\n   *   constructor(protected store: ProductsStore) {\n   *     super(store);\n   *     this.createUIQuery();\n   *   }\n   *\n   * }\n   */\n  createUIQuery() {\n    this.ui = new EntityUIQuery(this.__store__.ui);\n  }\n\n  private selectAt<R>(mapFn: (ids: IDType[]) => IDType, project?: (entity?: EntityType) => R) {\n    return this.select((state) => state.ids as any[]).pipe(\n      map(mapFn),\n      distinctUntilChanged(),\n      switchMap((id: IDType) => this.selectEntity(id, project))\n    );\n  }\n}\n\n// @internal\nexport class EntityUIQuery<UIState, DEPRECATED = any> extends QueryEntity<UIState> {\n  constructor(store) {\n    super(store);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ProductsStore } from './products.store';\nimport { map, mapTo } from 'rxjs/operators';\nimport { Observable, timer } from 'rxjs';\nimport { ID, cacheable } from '@datorama/akita';\nimport { products } from '../products.mocks';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProductsService {\n  constructor(private productsStore: ProductsStore) {}\n\n  get(): Observable<void> {\n    const request = timer(500).pipe(\n      mapTo(products),\n      map(response => this.productsStore.set(response))\n    );\n\n    return cacheable(this.productsStore, request);\n  }\n\n  getProduct(id: ID) {\n    const product = products.find(current => current.id === +id);\n\n    return timer(500).pipe(\n      mapTo(product),\n      map(() => this.productsStore.add(product))\n    );\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterService } from './router.service';\n\n@NgModule()\nexport class AkitaNgRouterStoreModule {\n  constructor(private routerService: RouterService) {\n    this.routerService.init();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { AuthGuard } from './auth/auth.guard';\nimport { LoginComponent } from './auth/login/login.component';\nimport { CartComponent } from './cart/cart.component';\nimport { ProductPageComponent } from './product-page/product-page.component';\nimport { ProductsComponent } from './products/products.component';\n\nconst routes: Routes = [\n  {\n    component: ProductsComponent,\n    path: '',\n    pathMatch: 'full',\n    canActivate: [AuthGuard],\n  },\n  {\n    component: ProductPageComponent,\n    path: 'product/:id',\n    canActivate: [AuthGuard],\n  },\n  {\n    component: CartComponent,\n    path: 'cart',\n    canActivate: [AuthGuard],\n  },\n  {\n    component: LoginComponent,\n    path: 'login',\n  },\n  {\n    path: 'todos',\n    canActivate: [AuthGuard],\n    loadChildren: () => import('./todos-app/todos.module').then((m) => m.TodosModule),\n  },\n  {\n    path: 'contacts',\n    loadChildren: () => import('./contacts/contacts.module').then((m) => m.ContactsModule),\n  },\n  {\n    path: 'stories',\n    loadChildren: () => import('./stories/stories.module').then((m) => m.StoriesModule),\n  },\n  {\n    path: 'movies',\n    loadChildren: () => import('./movies/movies.module').then((m) => m.MoviesModule),\n  },\n  {\n    path: 'widgets',\n    loadChildren: () => import('./widgets/widgets.module').then((m) => m.WidgetsModule),\n  },\n  {\n    path: 'posts',\n    loadChildren: () => import('./posts/posts.module').then((m) => m.PostsModule),\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule],\n})\nexport class AppRoutingModule {}\n","import { EntityState, OrArray, getIDType } from '../../types';\nimport { QueryEntity } from '../../queryEntity';\nimport { History, StateHistoryParams, StateHistoryPlugin } from './stateHistoryPlugin';\nimport { toBoolean } from '../../toBoolean';\nimport { skip } from 'rxjs/operators';\nimport { EntityCollectionPlugin } from '../entityCollectionPlugin';\n\nexport interface StateHistoryEntityParams<IDType> extends StateHistoryParams {\n  entityIds?: OrArray<IDType>;\n}\n\nexport class EntityStateHistoryPlugin<State extends EntityState = any, P extends StateHistoryPlugin<State> = StateHistoryPlugin<State>> extends EntityCollectionPlugin<State, P> {\n  constructor(protected query: QueryEntity<State>, protected readonly params: StateHistoryEntityParams<getIDType<State>> = {}) {\n    super(query, params.entityIds);\n    params.maxAge = toBoolean(params.maxAge) ? params.maxAge : 10;\n    this.activate();\n    this.selectIds()\n      .pipe(skip(1))\n      .subscribe((ids) => this.activate(ids));\n  }\n\n  redo(ids?: OrArray<getIDType<State>>) {\n    this.forEachId(ids, (e) => e.redo());\n  }\n\n  undo(ids?: OrArray<getIDType<State>>) {\n    this.forEachId(ids, (e) => e.undo());\n  }\n\n  hasPast(id: getIDType<State>) {\n    if (this.hasEntity(id)) {\n      return this.getEntity(id).hasPast;\n    }\n  }\n\n  hasFuture(id: getIDType<State>) {\n    if (this.hasEntity(id)) {\n      return this.getEntity(id).hasFuture;\n    }\n  }\n\n  jumpToFuture(ids: OrArray<getIDType<State>>, index: number) {\n    this.forEachId(ids, (e) => e.jumpToFuture(index));\n  }\n\n  jumpToPast(ids: OrArray<getIDType<State>>, index: number) {\n    this.forEachId(ids, (e) => e.jumpToPast(index));\n  }\n\n  clear(ids?: OrArray<getIDType<State>>, customUpdateFn?: (history: History<State>) => History<State>) {\n    this.forEachId(ids, (e) => e.clear(customUpdateFn));\n  }\n\n  destroy(ids?: OrArray<getIDType<State>>, clearHistory = false) {\n    this.forEachId(ids, (e) => e.destroy(clearHistory));\n  }\n\n  ignoreNext(ids?: OrArray<getIDType<State>>) {\n    this.forEachId(ids, (e) => e.ignoreNext());\n  }\n\n  protected instantiatePlugin(id: getIDType<State>) {\n    return new StateHistoryPlugin<State>(this.query, this.params, id) as P;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { LoginModule } from './login/login.module';\nimport { AuthEffects } from './state/auth.effects';\nimport { AkitaNgEffectsModule } from '@datorama/akita-ng-effects';\n\n@NgModule({\n  imports: [LoginModule, AkitaNgEffectsModule.forFeature([AuthEffects])],\n})\nexport class AuthModule {}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { EntityStore } from '../entityStore';\nimport { QueryEntity } from '../queryEntity';\nimport { Query } from '../query';\nimport { filterNilValue } from '../filterNil';\nimport { toBoolean } from '../toBoolean';\nimport { getAkitaConfig } from '../config';\nimport { getValue } from '../getValueByString';\nimport { setValue } from '../setValueByString';\n\nexport type Queries<State> = Query<State> | QueryEntity<State>;\n\nexport abstract class AkitaPlugin<State = any> {\n  protected constructor(protected query: Queries<State>, config?: { resetFn?: Function }) {\n    if (config && config.resetFn) {\n      if (getAkitaConfig().resettable) {\n        this.onReset(config.resetFn);\n      }\n    }\n  }\n\n  /** This method is responsible for getting access to the query. */\n  protected getQuery() {\n    return this.query;\n  }\n\n  /** This method is responsible for getting access to the store. */\n  protected getStore() {\n    return this.getQuery().__store__;\n  }\n\n  /** This method is responsible for cleaning. */\n  public abstract destroy();\n\n  /** This method is responsible tells whether the plugin is entityBased or not.  */\n  protected isEntityBased(entityId: any) {\n    return toBoolean(entityId);\n  }\n\n  /** This method is responsible for selecting the source; it can be the whole store or one entity. */\n  protected selectSource(entityId: any, property?: string) {\n    if (this.isEntityBased(entityId)) {\n      return (this.getQuery() as QueryEntity<State>).selectEntity(entityId).pipe(filterNilValue());\n    }\n\n    if (property) {\n      return this.getQuery().select((state) => getValue(state, this.withStoreName(property)));\n    }\n\n    return this.getQuery().select();\n  }\n\n  protected getSource(entityId: any, property?: string): any {\n    if (this.isEntityBased(entityId)) {\n      return (this.getQuery() as QueryEntity<State>).getEntity(entityId);\n    }\n\n    const state = this.getQuery().getValue();\n\n    if (property) {\n      return getValue(state, this.withStoreName(property));\n    }\n\n    return state;\n  }\n\n  protected withStoreName(prop: string) {\n    return `${this.storeName}.${prop}`;\n  }\n\n  protected get storeName() {\n    return this.getStore().storeName;\n  }\n\n  /** This method is responsible for updating the store or one entity; it can be the whole store or one entity. */\n  protected updateStore(newState, entityId?, property?: string, replace = false) {\n    if (this.isEntityBased(entityId)) {\n      const store = this.getStore() as EntityStore;\n\n      replace ? store.replace(entityId, newState) : store.update(entityId, newState);\n    } else {\n      if (property) {\n        this.getStore()._setState((state) => {\n          return setValue(state, this.withStoreName(property), newState, true);\n        });\n\n        return;\n      }\n\n      const nextState = replace ? newState : (state) => ({ ...state, ...newState });\n\n      this.getStore()._setState(nextState);\n    }\n  }\n\n  /**\n   * Function to invoke upon reset\n   */\n  private onReset(fn: Function) {\n    const original = this.getStore().reset;\n    this.getStore().reset = (...params) => {\n      /** It should run after the plugin destroy method */\n      setTimeout(() => {\n        original.apply(this.getStore(), params);\n        fn();\n      });\n    };\n  }\n}\n","import { createAction, props } from '@datorama/akita-ng-effects';\nimport { ID } from '@datorama/akita';\n\nexport namespace CartActions {\n  export const removeItem = createAction('Remove Item', props<{ productId: ID }>());\n  export const removeItemSuccess = createAction('Remove Item Success');\n\n  export const test = createAction('Testing Action');\n}\n// alternatively\n// export const removeItem = createAction(\"[Cart] Remove Item\", payload<{productId: ID}>())\n","import { EntityState, SelectOptions } from './types';\nimport { isFunction } from './isFunction';\nimport { compareValues } from './sort';\nimport { coerceArray } from './coerceArray';\n\n// @internal\nexport function entitiesToArray<E, S extends EntityState>(state: S, options: SelectOptions<E>): E[] {\n  let arr = [];\n  const { ids, entities } = state;\n  const { filterBy, limitTo, sortBy, sortByOrder } = options;\n\n  for (let i = 0; i < ids.length; i++) {\n    const entity = entities[ids[i]];\n    if (!filterBy) {\n      arr.push(entity);\n      continue;\n    }\n\n    const toArray = coerceArray(filterBy);\n    const allPass = toArray.every(fn => fn(entity, i));\n    if (allPass) {\n      arr.push(entity);\n    }\n  }\n\n  if (sortBy) {\n    let _sortBy: any = isFunction(sortBy) ? sortBy : compareValues(sortBy, sortByOrder);\n    arr = arr.sort((a, b) => _sortBy(a, b, state));\n  }\n\n  const length = Math.min(limitTo || arr.length, arr.length);\n\n  return length === arr.length ? arr : arr.slice(0, length);\n}\n","import { Injectable } from '@angular/core';\nimport { Actions, Effect } from '@datorama/akita-ng-effects';\nimport { ProductsStore } from './products.store';\nimport { tap } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ProductsEffects {\n  constructor(private actions$: Actions, private productsStore: ProductsStore) {}\n\n  @Effect()\n  allActionsProducts = this.actions$.pipe(tap((action) => console.log('product effect', action)));\n}\n","// @internal\nexport function toBoolean(value: any): boolean {\n  return value != null && `${value}` !== 'false';\n}\n","import { Injectable, OnDestroy, Type } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { Actions } from './actions';\nimport { Action, Effect } from './types';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ModuleManager implements OnDestroy {\n  effectInstanceSources = new WeakSet();\n  destroyEffects$ = new Subject();\n\n  constructor(private actions$: Actions) {}\n\n  subscribeToEffects(effectInstance: Type<any>): void {\n    for (let key in effectInstance) {\n      const property: Effect = effectInstance[key];\n      if (property.isEffect === true) {\n        property.pipe(takeUntil(this.destroyEffects$)).subscribe((actionOrSkip) => {\n          this.dispatchAction(property, actionOrSkip);\n        });\n      }\n    }\n  }\n\n  has(effect: Type<any>): boolean {\n    return this.effectInstanceSources.has(effect);\n  }\n\n  add(effect: Type<any>): void {\n    this.effectInstanceSources.add(effect);\n  }\n\n  private dispatchAction(property: Effect, actionOrSkip: Action | Record<any, any>) {\n    if (property.dispatchAction && this.checkAction(actionOrSkip)) {\n      this.actions$.dispatch(actionOrSkip);\n    }\n  }\n\n  private checkAction(action: Action | any): action is Action & Record<'type', any> {\n    if (action.type) {\n      return true;\n    }\n    throw new TypeError('Make sure to provide a valid action type or set the option {dispatch: false}');\n  }\n\n  ngOnDestroy(): void {\n    // modules aren't supposed to be destroyed; might not be needed\n    this.destroyEffects$.next();\n    this.effectInstanceSources = new WeakSet();\n  }\n}\n","/**\n * Generate random guid\n *\n * @example\n *\n * {\n *   id: guid()\n * }\n *\n * @remarks this isn't a GUID, but a 10 char random alpha-num\n */\nexport function guid() {\n  return Math.random()\n    .toString(36)\n    .slice(2);\n}\n","// @internal\nexport function deepFreeze(o) {\n  Object.freeze(o);\n\n  const oIsFunction = typeof o === 'function';\n  const hasOwnProp = Object.prototype.hasOwnProperty;\n\n  Object.getOwnPropertyNames(o).forEach(function(prop) {\n    if (\n      hasOwnProp.call(o, prop) &&\n      (oIsFunction ? prop !== 'caller' && prop !== 'callee' && prop !== 'arguments' : true) &&\n      o[prop] !== null &&\n      (typeof o[prop] === 'object' || typeof o[prop] === 'function') &&\n      !Object.isFrozen(o[prop])\n    ) {\n      deepFreeze(o[prop]);\n    }\n  });\n\n  return o;\n}\n","export interface AkitaConfig {\n  /**\n   * Whether to allowed the reset() stores functionality\n   */\n  resettable?: boolean;\n  ttl?: number;\n  producerFn?: (state: any, fn: any) => any;\n}\n\nlet CONFIG: AkitaConfig = {\n  resettable: false,\n  ttl: null,\n  producerFn: undefined\n};\n\nexport function akitaConfig(config: AkitaConfig) {\n  CONFIG = { ...CONFIG, ...config };\n}\n\n// @internal\nexport function getAkitaConfig() {\n  return CONFIG;\n}\n\nexport function getGlobalProducerFn() {\n  return CONFIG.producerFn;\n}\n","import { EntityState, ID, StateWithActive } from './types';\nimport { isNil } from './isNil';\nimport { hasActiveState, isMultiActiveState, resolveActiveEntity } from './activeState';\n\nexport type RemoveEntitiesParams<State, Entity> = {\n  state: StateWithActive<State>;\n  ids: any[];\n};\n\n// @internal\nexport function removeEntities<S extends EntityState<E>, E>({ state, ids }: RemoveEntitiesParams<S, E>): S {\n  if (isNil(ids)) return removeAllEntities(state);\n  const entities = state.entities;\n  let newEntities = {};\n\n  for (const id of state.ids) {\n    if (ids.includes(id) === false) {\n      newEntities[id] = entities[id];\n    }\n  }\n\n  const newState = {\n    ...state,\n    entities: newEntities,\n    ids: state.ids.filter(current => ids.includes(current) === false)\n  };\n\n  if (hasActiveState(state)) {\n    newState.active = resolveActiveEntity(newState);\n  }\n\n  return newState;\n}\n\n// @internal\nexport function removeAllEntities<S>(state: StateWithActive<S>): S {\n  return {\n    ...state,\n    entities: {},\n    ids: [],\n    active: isMultiActiveState(state.active) ? [] : null\n  };\n}\n","import { Subject } from 'rxjs';\nimport { EntityState, ID, PreUpdateEntity, UpdateStateCallback } from './types';\nimport { isFunction } from './isFunction';\nimport { hasEntity } from './hasEntity';\nimport { isPlainObject } from './isPlainObject';\n\nexport type UpdateEntitiesParams<State, Entity> = {\n  state: State;\n  ids: any[];\n  idKey: string;\n  newStateOrFn: UpdateStateCallback<Entity> | Partial<Entity> | Partial<State>;\n  preUpdateEntity: PreUpdateEntity<Entity>;\n  producerFn;\n  onEntityIdChanges: (oldId: any, newId: any) => void;\n};\n\n// @internal\nexport function updateEntities<S extends EntityState<E>, E>({ state, ids, idKey, newStateOrFn, preUpdateEntity, producerFn, onEntityIdChanges }: UpdateEntitiesParams<S, E>) {\n  const updatedEntities = {};\n\n  let isUpdatingIdKey = false;\n  let idToUpdate: ID;\n\n  for (const id of ids) {\n    // if the entity doesn't exist don't do anything\n    if (hasEntity(state.entities, id) === false) {\n      continue;\n    }\n\n    const oldEntity = state.entities[id];\n    let newState;\n    if (isFunction(newStateOrFn)) {\n      newState = isFunction(producerFn) ? producerFn(oldEntity, newStateOrFn) : newStateOrFn(oldEntity);\n    } else {\n      newState = newStateOrFn;\n    }\n\n    const isIdChanged = newState.hasOwnProperty(idKey) && newState[idKey] !== oldEntity[idKey];\n    let newEntity: E;\n    idToUpdate = id;\n\n    if (isIdChanged) {\n      isUpdatingIdKey = true;\n      idToUpdate = newState[idKey];\n    }\n\n    const merged = {\n      ...oldEntity,\n      ...newState,\n    };\n\n    if (isPlainObject(oldEntity)) {\n      newEntity = merged;\n    } else {\n      /**\n       * In case that new state is class of it's own, there's\n       * a possibility that it will be different than the old\n       * class.\n       * For example, Old state is an instance of animal class\n       * and new state is instance of person class.\n       * To avoid run over new person class with the old animal\n       * class we check if the new state is a class of it's own.\n       * If so, use it. Otherwise, use the old state class\n       */\n      if (isPlainObject(newState)) {\n        newEntity = new (oldEntity as any).constructor(merged);\n      } else {\n        newEntity = new (newState as any).constructor(merged);\n      }\n    }\n\n    updatedEntities[idToUpdate] = preUpdateEntity(oldEntity, newEntity);\n  }\n\n  let updatedIds = state.ids;\n  let stateEntities = state.entities;\n\n  if (isUpdatingIdKey) {\n    const [id] = ids;\n    const { [id]: deletedEntity, ...rest } = state.entities;\n    stateEntities = rest;\n    updatedIds = state.ids.map((current) => (current === id ? idToUpdate : current));\n    onEntityIdChanges(id, idToUpdate);\n  }\n\n  return {\n    ...state,\n    entities: {\n      ...stateEntities,\n      ...updatedEntities,\n    },\n    ids: updatedIds,\n  };\n}\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { enableAkitaProdMode, persistState } from '@datorama/akita';\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n  enableAkitaProdMode();\n}\n\nconst storage = persistState({\n  key: 'akitaPlayground',\n  include: ['auth.token', 'todos'],\n});\n\nplatformBrowserDynamic([{ provide: 'persistStorage', useValue: storage }])\n  .bootstrapModule(AppModule)\n  .catch((err) => console.error(err));\n","import { Injectable } from '@angular/core';\nimport { AuthState, AuthStore } from './auth.store';\nimport { Query } from '@datorama/akita';\n\n@Injectable({ providedIn: 'root' })\nexport class AuthQuery extends Query<AuthState> {\n  isLoggedIn$ = this.select(user => !!user.token);\n\n  constructor(protected store: AuthStore) {\n    super(store);\n  }\n}\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output } from '@angular/core';\nimport { Product } from '../state/products.model';\n\n@Component({\n  selector: 'app-product',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  templateUrl: `./product.component.html`\n})\nexport class ProductComponent {\n  @Input() product: Product;\n  @Output() add = new EventEmitter<Product>();\n  @Output() subtract = new EventEmitter<Product>();\n}\n","<div class=\"card p-width\">\n  <div class=\"card-image pointer\" [routerLink]=\"['/product', product.id]\">\n    <img src=\"http://via.placeholder.com/359x269?text={{product.title}}\">\n  </div>\n  <div class=\"card-content pointer\" [routerLink]=\"['/product', product.id]\">\n    <p class=\"mbb\">Price: <b>{{product.price}}$</b></p>\n    <p>{{product.description}}</p>\n  </div>\n  <div class=\"card-action flex flex-end\">\n    <button class=\"btn waves-effect waves-light cyan lighten-2 mr\" (click)=\"add.emit(product)\">\n      <i class=\"material-icons\">exposure_plus_1</i>\n    </button>\n    <button class=\"btn waves-effect waves-light blue-grey lighten-3\" (click)=\"subtract.emit(product)\">\n      <i class=\"material-icons\">exposure_neg_1</i>\n    </button>\n  </div>\n</div>","import { EffectOptions } from './types';\n\nexport function setMetadata(effect, propertyName, effectOptions: EffectOptions) {\n  Object.defineProperty(effect, 'isEffect', {\n    enumerable: true,\n    configurable: false,\n    writable: false,\n    value: true,\n  });\n  Object.defineProperty(effect, 'name', {\n    enumerable: true,\n    configurable: false,\n    writable: false,\n    value: propertyName,\n  });\n  Object.defineProperty(effect, 'dispatchAction', {\n    enumerable: true,\n    configurable: false,\n    writable: false,\n    value: effectOptions.dispatch,\n  });\n}\n","import { Injectable } from '@angular/core';\nimport { StoreConfig, Store, ID } from '@datorama/akita';\n\nexport interface AuthState {\n  id: ID;\n  firstName: string;\n  lastName: string;\n  token: string;\n}\n\nexport function createInitialState(): AuthState {\n  return {\n    id: null,\n    firstName: '',\n    lastName: '',\n    token: ''\n  };\n}\n\n@Injectable({ providedIn: 'root' })\n@StoreConfig({\n  name: 'auth',\n  resettable: true\n})\nexport class AuthStore extends Store<AuthState> {\n  constructor() {\n    super(createInitialState());\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { LoginComponent } from './login.component';\n\n@NgModule({\n  imports: [CommonModule, ReactiveFormsModule],\n  declarations: [LoginComponent]\n})\nexport class LoginModule {}\n","export * from './lib/ng-entity.service';\nexport * from './lib/ng-entity-service.config';\nexport * from './lib/ng-entity-service-notifier';\nexport * from './lib/helpers';\nexport * from './lib/types';\nexport * from './lib/ng-entity-service.loader';\nexport * from './lib/action-factory';\n","import { combineLatest, Observable, ObservableInput, ObservedValueOf } from 'rxjs';\nimport { auditTime } from 'rxjs/operators';\n\ntype ReturnTypes<T extends Observable<any>[]> = { [P in keyof T]: T[P] extends Observable<infer R> ? R : never };\ntype Observables = [Observable<any>] | Observable<any>[];\n\nexport function combineQueries<R extends Observables>(observables: R): Observable<ReturnTypes<R>> {\n  return combineLatest(observables).pipe(auditTime(0)) as any;\n}\n","import { Component } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Router } from '@angular/router';\nimport { AuthService } from '../auth/state/auth.service';\nimport { AuthQuery } from '../auth/state/auth.query';\nimport { CartQuery } from '../cart/state/cart.query';\n\n@Component({\n  selector: 'app-nav',\n  template: `\n    <nav>\n      <div class=\"nav-wrapper cyan lighten-2\">\n        <a class=\"brand-logo\" routerLink=\"/\">\n          <img src=\"/assets/akita.svg\" class=\"logo\" />\n        </a>\n        <ul id=\"nav-mobile\" class=\"right hide-on-med-and-down\">\n          <li *ngIf=\"isLoggedIn$ | async\"><a (click)=\"logout()\">Logout</a></li>\n          <li *ngFor=\"let item of navItems\">\n            <a routerLinkActive=\"blue-text text-lighten-2\" [routerLink]=\"item.toLowerCase()\">{{ item }}</a>\n          </li>\n          <li>\n            <a routerLinkActive=\"blue-text text-lighten-2\" routerLink=\"cart\" [state]=\"{ hello: 'world' }\"\n              >Cart <span class=\"new badge\">{{ count$ | async }}</span></a\n            >\n          </li>\n        </ul>\n      </div>\n    </nav>\n  `\n})\nexport class NavComponent {\n  navItems = ['Todos', 'Contacts', 'Stories', 'Movies', 'Widgets', 'Posts', 'FormsManager'];\n  count$: Observable<number>;\n  isLoggedIn$: Observable<boolean>;\n\n  constructor(private cartQuery: CartQuery, private authService: AuthService, private authQuery: AuthQuery, private router: Router) {\n    this.count$ = this.cartQuery.selectCount();\n    this.isLoggedIn$ = this.authQuery.isLoggedIn$;\n  }\n\n  logout() {\n    this.authService.logout();\n    this.router.navigateByUrl('login');\n  }\n\n  resetStores() {\n    this.router.navigateByUrl('login');\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CartStore } from './cart.store';\nimport { CartQuery } from './cart.query';\nimport { createCartItem } from './cart.model';\nimport { ID } from '@datorama/akita';\nimport { Product } from '../../products/state/products.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CartService {\n  constructor(private cartStore: CartStore, private cartQuery: CartQuery) {}\n\n  addProductToCart(productId: Product['id']) {\n    const findItem = this.cartQuery.getEntity(productId);\n    if (!!findItem) {\n      return this.cartStore.updateQuantity(productId);\n    }\n\n    const item = createCartItem({\n      productId\n    });\n\n    return this.cartStore.add(item);\n  }\n\n  subtract(productId: Product['id']) {\n    const findItem = this.cartQuery.getEntity(productId);\n    if (!!findItem) {\n      if (findItem.quantity === 1) {\n        return this.cartStore.remove(productId);\n      }\n\n      return this.cartStore.updateQuantity(findItem.productId, -1);\n    }\n  }\n\n  remove(productId: ID) {\n    this.cartStore.remove(productId);\n  }\n}\n","import { setMetadata } from './effect.utils';\nimport { EffectOptions } from './types';\n\nexport function Effect(options?: EffectOptions) {\n  options = {\n    dispatch: false,\n    ...options,\n  };\n\n  return function (classProto: any, propKey: string): any {\n    let returnValue;\n\n    Object.defineProperty(classProto, propKey, {\n      get: function () {\n        return returnValue;\n      },\n      set: function (value) {\n        setMetadata(value, propKey, options);\n        returnValue = value;\n      },\n      enumerable: true,\n    });\n  };\n}\n","import { IDS } from './types';\n\nexport interface StoreSnapshotAction {\n  type: string | null;\n  entityIds: IDS[] | null;\n  skip: boolean;\n  payload: any\n}\n\nexport const currentAction: StoreSnapshotAction = {\n  type: null,\n  entityIds: null,\n  skip: false,\n  payload: null\n};\n\nlet customActionActive = false;\n\nexport function resetCustomAction() {\n  customActionActive = false;\n}\n\n// public API for custom actions. Custom action always wins\nexport function logAction(type: string, entityIds?, payload?: any) {\n  setAction(type, entityIds, payload);\n  customActionActive = true;\n}\n\nexport function setAction(type: string, entityIds?, payload?: any) {\n  if (customActionActive === false) {\n    currentAction.type = type;\n    currentAction.entityIds = entityIds;\n    currentAction.payload = payload\n  }\n}\n\nexport function setSkipAction(skip = true) {\n  currentAction.skip = skip;\n}\n\nexport function action(action: string, entityIds?) {\n  return function (target: any, propertyKey: string, descriptor: PropertyDescriptor) {\n    const originalMethod = descriptor.value;\n    descriptor.value = function (...args) {\n      logAction(action, entityIds);\n      return originalMethod.apply(this, args);\n    };\n\n    return descriptor;\n  };\n}\n","import { EntityStore } from './entityStore';\nimport { AkitaError } from './errors';\nimport { isNil } from './isNil';\nimport { Store } from './store';\nimport { configKey } from './storeConfig';\nimport { __stores__ } from './stores';\nimport { Constructor } from './types';\n\nexport enum StoreAction {\n  Update = 'UPDATE',\n}\n\nconst StoreActionMapping = {\n  [StoreAction.Update]: 'update',\n};\n\nexport enum EntityStoreAction {\n  Update = 'UPDATE',\n  AddEntities = 'ADD_ENTITIES',\n  SetEntities = 'SET_ENTITIES',\n  UpdateEntities = 'UPDATE_ENTITIES',\n  RemoveEntities = 'REMOVE_ENTITIES',\n  UpsertEntities = 'UPSERT_ENTITIES',\n  UpsertManyEntities = 'UPSERT_MANY_ENTITIES',\n}\n\nconst EntityStoreActionMapping = {\n  [EntityStoreAction.Update]: 'update',\n  [EntityStoreAction.AddEntities]: 'add',\n  [EntityStoreAction.SetEntities]: 'set',\n  [EntityStoreAction.UpdateEntities]: 'update',\n  [EntityStoreAction.RemoveEntities]: 'remove',\n  [EntityStoreAction.UpsertEntities]: 'upsert',\n  [EntityStoreAction.UpsertManyEntities]: 'upsertMany',\n};\n\n/**\n * Get a {@link Store} from the global store registry.\n * @param storeClass The {@link Store} class of the instance to be returned.\n */\nexport function getStore<TStore extends Store<S>, S = TStore extends Store<infer T> ? T : never>(storeClass: Constructor<TStore>): TStore {\n  return getStoreByName<TStore, S>(storeClass[configKey]['storeName']);\n}\n\n/**\n * Get a {@link Store} from the global store registry.\n * @param storeName The {@link Store} name of the instance to be returned.\n */\nexport function getStoreByName<TStore extends Store<S>, S = TStore extends Store<infer T> ? T : never>(storeName: string): TStore {\n  const store = __stores__[storeName] as TStore;\n\n  if (isNil(store)) {\n    throw new AkitaError(`${store.storeName} doesn't exist`);\n  }\n\n  return store;\n}\n\n/**\n * Get a {@link EntityStore} from the global store registry.\n * @param storeClass The {@link EntityStore} class of the instance to be returned.\n */\nexport function getEntityStore<TEntityStore extends EntityStore<S>, S = TEntityStore extends EntityStore<infer T> ? T : never>(storeClass: Constructor<TEntityStore>): TEntityStore {\n  return getStore(storeClass as Constructor<Store<S>>) as TEntityStore;\n}\n\n/**\n * Get a {@link EntityStore} from the global store registry.\n * @param storeName The {@link EntityStore} name of the instance to be returned.\n */\nexport function getEntityStoreByName<TEntityStore extends EntityStore<S>, S = TEntityStore extends EntityStore<infer T> ? T : never>(storeName: string): TEntityStore {\n  return getStoreByName<TEntityStore, S>(storeName) as TEntityStore;\n}\n\n/**\n * Run {@link StoreAction.Update} action.\n * @param storeClassOrName The {@link Store} class or name in which the action should be executed.\n * @param action The {@link StoreAction.Update} action, see {@link Store.update}.\n * @param operation The operation to execute the {@link StoreAction.Update} action.\n * @example\n *\n *  runStoreAction(BooksStore, StoreAction.Update, update => update({ filter: 'COMPLETE' }));\n *\n */\nexport function runStoreAction<TStore extends Store<S>, S = TStore extends Store<infer T> ? T : any>(\n  storeClassOrName: Constructor<TStore> | string,\n  action: StoreAction.Update,\n  operation: (operator: TStore['update']) => void\n);\nexport function runStoreAction<TStore extends Store<S>, S = TStore extends Store<infer T> ? T : any>(\n  storeClassOrName: Constructor<TStore> | string,\n  action: StoreAction,\n  operation: (operator: TStore[keyof TStore] & Function) => void\n) {\n  const store = typeof storeClassOrName === 'string' ? getStoreByName<TStore, S>(storeClassOrName) : getStore<TStore, S>(storeClassOrName);\n  operation(store[StoreActionMapping[action]].bind(store));\n}\n\n/**\n * Run {@link EntityStoreAction.SetEntities} action.\n * @param storeClassOrName The {@link EntityStore} class or name in which the action should be executed.\n * @param action The {@link EntityStoreAction.SetEntities} action, see {@link EntityStore.set}.\n * @param operation The operation to execute the {@link EntityStoreAction.SetEntities} action.\n * @example\n *\n *  runEntityStoreAction(BooksStore, EntityStoreAction.SetEntities, set => set([{ id: 1 }, { id: 2 }]));\n *\n */\nexport function runEntityStoreAction<TEntityStore extends EntityStore<S>, S = TEntityStore extends EntityStore<infer T> ? T : any>(\n  storeClassOrName: Constructor<TEntityStore> | string,\n  action: EntityStoreAction.SetEntities,\n  operation: (operator: TEntityStore['set']) => void\n);\n/**\n * Run {@link EntityStoreAction.AddEntities} action.\n * @param storeClassOrName The {@link EntityStore} class or name in which the action should be executed.\n * @param action The {@link EntityStoreAction.AddEntities} action, see {@link EntityStore.add}.\n * @param operation The operation to execute the {@link EntityStoreAction.AddEntities} action.\n * @example\n *\n *  runEntityStoreAction(BooksStore, EntityStoreAction.AddEntities, add => add({ id: 1 }));\n *\n */\nexport function runEntityStoreAction<TEntityStore extends EntityStore<S>, S = TEntityStore extends EntityStore<infer T> ? T : any>(\n  storeClassOrName: Constructor<TEntityStore> | string,\n  action: EntityStoreAction.AddEntities,\n  operation: (operator: TEntityStore['add']) => void\n);\n/**\n * Run {@link EntityStoreAction.UpdateEntities} action.\n * @param storeClassOrName The {@link EntityStore} class or name in which the action should be executed.\n * @param action The {@link EntityStoreAction.UpdateEntities} action, see {@link EntityStore.update}.\n * @param operation The operation to execute the {@link EntityStoreAction.UpdateEntities} action.\n * @example\n *\n *  runEntityStoreAction(BooksStore, EntityStoreAction.UpdateEntities, update => update(2, { title: 'New title' }));\n *\n */\nexport function runEntityStoreAction<TEntityStore extends EntityStore<S>, S = TEntityStore extends EntityStore<infer T> ? T : any>(\n  storeClassOrName: Constructor<TEntityStore> | string,\n  action: EntityStoreAction.UpdateEntities,\n  operation: (operator: TEntityStore['update']) => void\n);\n/**\n * Run {@link EntityStoreAction.RemoveEntities} action.\n * @param storeClassOrName The {@link EntityStore} class or name in which the action should be executed.\n * @param action The {@link EntityStoreAction.RemoveEntities} action, see {@link EntityStore.remove}.\n * @param operation The operation to execute the {@link EntityStoreAction.RemoveEntities} action.\n * @example\n *\n *  runEntityStoreAction(BooksStore, EntityStoreAction.RemoveEntities, remove => remove(2));\n *\n */\nexport function runEntityStoreAction<TEntityStore extends EntityStore<S>, S = TEntityStore extends EntityStore<infer T> ? T : any>(\n  storeClassOrName: Constructor<TEntityStore> | string,\n  action: EntityStoreAction.RemoveEntities,\n  operation: (operator: TEntityStore['remove']) => void\n);\n/**\n * Run {@link EntityStoreAction.UpsertEntities} action.\n * @param storeClassOrName The {@link EntityStore} class or name in which the action should be executed.\n * @param action The {@link EntityStoreAction.UpsertEntities} action, see {@link EntityStore.upsert}.\n * @param operation The operation to execute the {@link EntityStoreAction.UpsertEntities} action.\n * @example\n *\n *  runEntityStoreAction(BooksStore, EntityStoreAction.UpsertEntities, upsert => upsert([2, 3], { title: 'New Title' }, (id, newState) => ({ id, ...newState, price: 0 })));\n *\n */\nexport function runEntityStoreAction<TEntityStore extends EntityStore<S>, S = TEntityStore extends EntityStore<infer T> ? T : any>(\n  storeClassOrName: Constructor<TEntityStore> | string,\n  action: EntityStoreAction.UpsertEntities,\n  operation: (operator: TEntityStore['upsert']) => void\n);\n/**\n * Run {@link EntityStoreAction.UpsertManyEntities} action.\n * @param storeClassOrName The {@link EntityStore} class or name in which the action should be executed.\n * @param action The {@link EntityStoreAction.UpsertManyEntities} action, see {@link EntityStore.upsertMany}.\n * @param operation The operation to execute the {@link EntityStoreAction.UpsertManyEntities} action.\n * @example\n *\n *  runEntityStoreAction(BooksStore, EntityStoreAction.UpsertManyEntities, upsertMany => upsertMany([\n *    { id: 2, title: 'New title', price: 0 },\n *    { id: 4, title: 'Another title', price: 0 },\n *  ));\n */\nexport function runEntityStoreAction<TEntityStore extends EntityStore<S>, S = TEntityStore extends EntityStore<infer T> ? T : any>(\n  storeClassOrName: Constructor<TEntityStore> | string,\n  action: EntityStoreAction.UpsertManyEntities,\n  operation: (operator: TEntityStore['upsertMany']) => void\n);\nexport function runEntityStoreAction<TEntityStore extends EntityStore<S>, S = TEntityStore extends EntityStore<infer T> ? T : any>(\n  storeClassOrName: Constructor<TEntityStore> | string,\n  action: EntityStoreAction,\n  operation: (operator: TEntityStore[keyof TEntityStore] & Function) => void\n) {\n  const store = typeof storeClassOrName === 'string' ? getEntityStoreByName<TEntityStore, S>(storeClassOrName) : getEntityStore<TEntityStore, S>(storeClassOrName);\n  operation(store[EntityStoreActionMapping[action]].bind(store));\n}\n","import { isObject } from './isObject';\n\n/**\n * @internal\n *\n * @example\n * setValue(state, 'todos.ui', { filter: {} })\n */\nexport function setValue(obj: any, prop: string, val: any, replace = false) {\n  const split = prop.split('.');\n\n  if (split.length === 1) {\n    return { ...obj, ...val };\n  }\n\n  obj = { ...obj };\n\n  const lastIndex = split.length - 2;\n  const removeStoreName = prop.split('.').slice(1);\n\n  removeStoreName.reduce((acc, part, index) => {\n    if (index !== lastIndex) {\n      acc[part] = { ...acc[part] };\n      return acc && acc[part];\n    }\n\n    acc[part] = replace || Array.isArray(acc[part]) || !isObject(acc[part]) ? val : { ...acc[part], ...val };\n\n    return acc && acc[part];\n  }, obj);\n\n  return obj;\n}\n","import { Injectable } from '@angular/core';\nimport { Actions, Effect } from '@datorama/akita-ng-effects';\nimport { AuthStore } from './auth.store';\nimport { tap } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AuthEffects {\n  constructor(private actions$: Actions, private authStore: AuthStore) {}\n\n  @Effect({ dispatch: false })\n  allActionsAuth = this.actions$.pipe(tap((action) => console.log('auth effect', action)));\n}\n","import { AkitaPlugin, Queries } from '../plugin';\nimport { QueryEntity } from '../../queryEntity';\nimport { BehaviorSubject, combineLatest, Observable, Subject, Subscription } from 'rxjs';\nimport { distinctUntilChanged, map, skip } from 'rxjs/operators';\nimport { isUndefined } from '../../isUndefined';\nimport { Query } from '../../query';\nimport { coerceArray } from '../../coerceArray';\nimport { isFunction } from '../../isFunction';\nimport { logAction } from '../../actions';\n\ntype Head<State = any> = State | Partial<State>;\n\nexport type DirtyCheckComparator<State> = (head: State, current: State) => boolean;\n\nexport type DirtyCheckParams<StoreState = any> = {\n  comparator?: DirtyCheckComparator<StoreState>;\n  watchProperty?: keyof StoreState | (keyof StoreState)[];\n};\n\nexport const dirtyCheckDefaultParams = {\n  comparator: (head, current) => JSON.stringify(head) !== JSON.stringify(current),\n};\n\nexport function getNestedPath(nestedObj, path: string) {\n  const pathAsArray: string[] = path.split('.');\n  return pathAsArray.reduce((obj, key) => (obj && obj[key] !== 'undefined' ? obj[key] : undefined), nestedObj);\n}\n\nexport type DirtyCheckResetParams<StoreState = any> = {\n  updateFn?: StoreState | ((head: StoreState, current: StoreState) => any);\n};\n\nexport class DirtyCheckPlugin<State = any> extends AkitaPlugin<State> {\n  private head: Head<State>;\n  private dirty = new BehaviorSubject(false);\n  private subscription: Subscription;\n  private active = false;\n  private _reset = new Subject();\n\n  isDirty$: Observable<boolean> = this.dirty.asObservable().pipe(distinctUntilChanged());\n  reset$ = this._reset.asObservable();\n\n  constructor(protected query: Queries<State>, private params?: DirtyCheckParams<State>, private _entityId?: any) {\n    super(query);\n    this.params = { ...dirtyCheckDefaultParams, ...params };\n    if (this.params.watchProperty) {\n      const watchProp = coerceArray(this.params.watchProperty) as any[];\n      if (query instanceof QueryEntity && watchProp.includes('entities') && !watchProp.includes('ids')) {\n        watchProp.push('ids');\n      }\n      this.params.watchProperty = watchProp;\n    }\n  }\n\n  reset(params: DirtyCheckResetParams = {}): void {\n    let currentValue = this.head;\n    if (isFunction(params.updateFn)) {\n      if (this.isEntityBased(this._entityId)) {\n        currentValue = params.updateFn(this.head, (this.getQuery() as QueryEntity<State>).getEntity(this._entityId));\n      } else {\n        currentValue = params.updateFn(this.head, (this.getQuery() as Query<State>).getValue());\n      }\n    }\n    logAction(`@DirtyCheck - Revert`);\n    this.updateStore(currentValue, this._entityId);\n    this._reset.next();\n  }\n\n  setHead(): DirtyCheckPlugin<State> {\n    if (!this.active) {\n      this.activate();\n      this.active = true;\n    } else {\n      this.head = this._getHead();\n    }\n    this.updateDirtiness(false);\n    return this;\n  }\n\n  isDirty(): boolean {\n    return !!this.dirty.value;\n  }\n\n  hasHead(): boolean {\n    return !!this.getHead();\n  }\n\n  destroy(): void {\n    this.head = null;\n    this.subscription && this.subscription.unsubscribe();\n    this._reset && this._reset.complete();\n  }\n\n  isPathDirty(path: string): boolean {\n    const head = this.getHead();\n    const current = (this.getQuery() as Query<State>).getValue();\n    const currentPathValue = getNestedPath(current, path);\n    const headPathValue = getNestedPath(head, path);\n\n    return this.params.comparator(currentPathValue, headPathValue);\n  }\n\n  getHead(): Partial<State> | State | undefined | null {\n    return this.head;\n  }\n\n  private activate() {\n    this.head = this._getHead();\n    /** if we are tracking specific properties select only the relevant ones */\n    const sources = this.params.watchProperty\n      ? (this.params.watchProperty as (keyof State)[]).map((prop) =>\n          this.query\n            .select((state) => state[prop])\n            .pipe(\n              map((val) => ({\n                val,\n                __akitaKey: prop,\n              }))\n            )\n        )\n      : [this.selectSource(this._entityId)];\n    this.subscription = combineLatest(sources)\n      .pipe(skip(1))\n      .subscribe((currentState: any[]) => {\n        if (isUndefined(this.head)) return;\n        /** __akitaKey is used to determine if we are tracking a specific property or a store change */\n        const isChange = currentState.some((state) => {\n          const head = state.__akitaKey ? this.head[state.__akitaKey as any] : this.head;\n          const compareTo = state.__akitaKey ? state.val : state;\n\n          return this.params.comparator(head, compareTo);\n        });\n\n        this.updateDirtiness(isChange);\n      });\n  }\n\n  private updateDirtiness(isDirty: boolean) {\n    this.dirty.next(isDirty);\n  }\n\n  private _getHead(): Head<State> {\n    let head: Head<State> = this.getSource(this._entityId);\n    if (this.params.watchProperty) {\n      head = this.getWatchedValues(head as State);\n    }\n    return head;\n  }\n\n  private getWatchedValues(source: State): Partial<State> {\n    return (this.params.watchProperty as (keyof State)[]).reduce((watched, prop) => {\n      watched[prop] = source[prop];\n      return watched;\n    }, {} as Partial<State>);\n  }\n}\n","export enum EntityActions {\n  Set = 'Set',\n  Add = 'Add',\n  Update = 'Update',\n  Remove = 'Remove',\n}\n\nexport interface EntityAction<IDType> {\n  type: EntityActions;\n  ids: IDType[];\n}\n","import { OrArray } from './types';\nimport { coerceArray } from './coerceArray';\nimport { AddEntitiesOptions } from './addEntities';\n\n/**\n * Add item to a collection\n *\n * @example\n *\n *\n * store.update(state => ({\n *   comments: arrayAdd(state.comments, { id: 2 })\n * }))\n *\n */\n\nexport function arrayAdd<T extends any[], Entity = any>(arr: T, newEntity: OrArray<Entity>, options: AddEntitiesOptions = {}): T {\n  const newEntities = coerceArray(newEntity);\n  const toArr = arr || [];\n\n  return options.prepend ? [...newEntities, ...toArr] : ([...toArr, ...newEntities] as any);\n}\n","import { Store } from './store';\nimport { Observable } from 'rxjs';\nimport { queryConfigKey, QueryConfigOptions } from './queryConfig';\nimport { isString } from './isString';\nimport { isFunction } from './isFunction';\nimport { isDev } from './env';\nimport { __queries__ } from './stores';\nimport { distinctUntilChanged, map } from 'rxjs/operators';\nimport { compareKeys } from './compareKeys';\nimport { ReturnTypes } from './types';\n\nexport class Query<S> {\n  // @internal\n  __store__: Store<S>;\n\n  constructor(protected store: Store<S>) {\n    this.__store__ = store;\n    if (isDev()) {\n      // @internal\n      __queries__[store.storeName] = this;\n    }\n  }\n\n  /**\n   * Select a slice from the store\n   *\n   * @example\n   *\n   * this.query.select()\n   * this.query.select(state => state.entities)\n   * this.query.select('token');\n   * this.query.select(['name', 'email'])\n   * this.query.select([state => state.name, state => state.age])\n   *\n   */\n  select<K extends keyof S>(key: K): Observable<S[K]>;\n  select<R>(project: (store: S) => R): Observable<R>;\n  select<K extends keyof S>(stateKeys: K[]): Observable<Pick<S, K>>;\n  select<R extends [(state: S) => any] | Array<(state: S) => any>>(selectorFns: R): Observable<ReturnTypes<R>>;\n  select(): Observable<S>;\n  select<R>(project?: ((store: S) => R) | keyof S | (keyof S)[] | ((state: S) => any)[]): Observable<R | S | any[]> {\n    let mapFn;\n    if (isFunction(project)) {\n      mapFn = project;\n    } else if (isString(project)) {\n      mapFn = state => state[project];\n    } else if (Array.isArray(project)) {\n      return this.store\n        ._select(state => state)\n        .pipe(\n          distinctUntilChanged(compareKeys(project)),\n          map(state => {\n            if (isFunction(project[0])) {\n              return (project as ((state: S) => any)[]).map(func => func(state));\n            }\n\n            return (project as (keyof S)[]).reduce((acc, k) => {\n              acc[k as any] = state[k];\n              return acc;\n            }, {});\n          })\n        ) as any;\n    } else {\n      mapFn = state => state;\n    }\n\n    return this.store._select(mapFn);\n  }\n\n  /**\n   * Select the loading state\n   *\n   * @example\n   *\n   * this.query.selectLoading().subscribe(isLoading => {})\n   */\n  selectLoading() {\n    return this.select(state => (state as S & { loading: boolean }).loading);\n  }\n\n  /**\n   * Select the error state\n   *\n   * @example\n   *\n   * this.query.selectError().subscribe(error => {})\n   */\n  selectError<ErrorType = any>(): Observable<ErrorType> {\n    return this.select(state => (state as S & { error: ErrorType }).error);\n  }\n\n  /**\n   * Get the store's value\n   *\n   * @example\n   *\n   * this.query.getValue()\n   *\n   */\n  getValue(): S {\n    return this.store._value();\n  }\n\n  /**\n   * Select the cache state\n   *\n   * @example\n   *\n   * this.query.selectHasCache().pipe(\n   *   switchMap(hasCache => {\n   *     return hasCache ? of() : http().pipe(res => store.set(res))\n   *   })\n   * )\n   */\n  selectHasCache(): Observable<boolean> {\n    return this.store._cache().asObservable();\n  }\n\n  /**\n   * Whether we've cached data\n   *\n   * @example\n   *\n   * this.query.getHasCache()\n   *\n   */\n  getHasCache(): boolean {\n    return this.store._cache().value;\n  }\n\n  // @internal\n  get config(): QueryConfigOptions {\n    return this.constructor[queryConfigKey];\n  }\n}\n","import { isNumber, isString } from '@datorama/akita';\n\nexport function isID(idOrConfig: any) {\n  return isNumber(idOrConfig) || isString(idOrConfig);\n}\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, GuardsCheckEnd, NavigationCancel, NavigationEnd, NavigationError, ResolveEnd, Router, RoutesRecognized } from '@angular/router';\nimport { RouterState, RouterStore } from './router.store';\nimport { RouterQuery } from './router.query';\nimport { action, setSkipAction } from '@datorama/akita';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class RouterService {\n  private dispatchTriggeredByRouter = false;\n  private navigationTriggeredByDispatch = false;\n  private lastRouterState: RouterState;\n\n  constructor(private routerStore: RouterStore, private routerQuery: RouterQuery, private router: Router) {}\n\n  @action('Navigation Cancelled')\n  dispatchRouterCancel(event: NavigationCancel) {\n    this.update({ navigationId: event.id });\n    this.routerQuery.__navigationCancel.next(event);\n  }\n\n  @action('Navigation Error')\n  dispatchRouterError(event: NavigationError) {\n    this.update({ navigationId: event.id });\n    this.routerQuery.__navigationError.next(event);\n  }\n\n  @action('Navigation Succeeded')\n  dispatchRouterSuccess() {\n    this.update(this.lastRouterState);\n  }\n\n  init() {\n    this.setUpStoreListener();\n    this.setUpStateRollbackEvents();\n  }\n\n  private update(routerState: Partial<RouterState>) {\n    this.dispatchTriggeredByRouter = true;\n    this.routerStore.update((state) => {\n      return {\n        ...state,\n        ...routerState,\n      };\n    });\n    this.dispatchTriggeredByRouter = false;\n    this.navigationTriggeredByDispatch = false;\n  }\n\n  private setUpStoreListener(): void {\n    this.routerQuery\n      .select((state) => state)\n      .subscribe((s) => {\n        this.lastRouterState = s;\n        this.navigateIfNeeded();\n      });\n  }\n\n  private navigateIfNeeded(): void {\n    if (!this.lastRouterState || !this.lastRouterState.state || this.dispatchTriggeredByRouter) {\n      return;\n    }\n\n    if (this.router.url !== this.lastRouterState.state.url) {\n      this.navigationTriggeredByDispatch = true;\n      setSkipAction();\n      this.router.navigateByUrl(this.lastRouterState.state.url);\n    }\n  }\n\n  private setUpStateRollbackEvents(): void {\n    this.router.events.subscribe((e) => {\n      if (e instanceof RoutesRecognized || e instanceof GuardsCheckEnd || e instanceof ResolveEnd) {\n        this.lastRouterState = this.serializeRoute(e);\n      } else if (e instanceof NavigationCancel) {\n        this.dispatchRouterCancel(e);\n      } else if (e instanceof NavigationError) {\n        this.dispatchRouterError(e);\n      } else if (e instanceof NavigationEnd && !this.navigationTriggeredByDispatch) {\n        this.dispatchRouterSuccess();\n      }\n    });\n  }\n\n  private serializeRoute(navigationEvent: RoutesRecognized | GuardsCheckEnd | ResolveEnd): RouterState {\n    let state: ActivatedRouteSnapshot = navigationEvent.state.root;\n    while (state.firstChild) {\n      state = state.firstChild;\n    }\n    const { params, data, queryParams, fragment } = state;\n\n    return {\n      navigationId: navigationEvent.id,\n      state: {\n        url: navigationEvent.url,\n        urlAfterRedirects: navigationEvent.urlAfterRedirects,\n        params,\n        queryParams,\n        fragment,\n        data,\n        navigationExtras: this.router.getCurrentNavigation().extras ? this.router.getCurrentNavigation().extras.state : {},\n      },\n    };\n  }\n}\n","import { toBoolean } from './toBoolean';\n\n// @internal\nexport function isPlainObject(value) {\n  return toBoolean(value) && value.constructor.name === 'Object';\n}\n","import { isArray } from './isArray';\n\n// @internal\nexport function isNumber(value: any): value is number {\n  return !isArray(value) && value - parseFloat(value) + 1 >= 0;\n}\n","import { BehaviorSubject, Observable, of, Subject } from 'rxjs';\nimport { logAction } from './actions';\nimport { tap } from 'rxjs/operators';\n\n// @internal\nconst transactionFinished = new Subject();\n\n// @internal\nconst transactionInProcess = new BehaviorSubject(false);\n\nexport type TransactionManager = {\n  activeTransactions: number;\n  batchTransaction: Subject<boolean> | null;\n};\n\n// @internal\nexport const transactionManager: TransactionManager = {\n  activeTransactions: 0,\n  batchTransaction: null\n};\n\n// @internal\nexport function startBatch() {\n  if (!isTransactionInProcess()) {\n    transactionManager.batchTransaction = new Subject();\n  }\n  transactionManager.activeTransactions++;\n  transactionInProcess.next(true);\n}\n\n// @internal\nexport function endBatch() {\n  if (--transactionManager.activeTransactions === 0) {\n    transactionManager.batchTransaction.next(true);\n    transactionManager.batchTransaction.complete();\n    transactionInProcess.next(false);\n    transactionFinished.next(true);\n  }\n}\n\n// @internal\nexport function isTransactionInProcess() {\n  return transactionManager.activeTransactions > 0;\n}\n\n// @internal\nexport function commit(): Observable<boolean> {\n  return transactionManager.batchTransaction ? transactionManager.batchTransaction.asObservable() : of(true);\n}\n\n/**\n *  A logical transaction.\n *  Use this transaction to optimize the dispatch of all the stores.\n *  The following code will update the store, BUT  emits only once\n *\n *  @example\n *  applyTransaction(() => {\n *    this.todosStore.add(new Todo(1, title));\n *    this.todosStore.add(new Todo(2, title));\n *  });\n *\n */\nexport function applyTransaction<T>(action: () => T, thisArg = undefined): T {\n  startBatch();\n  try {\n    return action.apply(thisArg);\n  } finally {\n    logAction('@Transaction');\n    endBatch();\n  }\n}\n\n/**\n *  A logical transaction.\n *  Use this transaction to optimize the dispatch of all the stores.\n *\n *  The following code will update the store, BUT  emits only once.\n *\n *  @example\n *  @transaction\n *  addTodos() {\n *    this.todosStore.add(new Todo(1, title));\n *    this.todosStore.add(new Todo(2, title));\n *  }\n *\n *\n */\nexport function transaction() {\n  return function(target: any, propertyKey: string, descriptor: PropertyDescriptor) {\n    const originalMethod = descriptor.value;\n\n    descriptor.value = function(...args) {\n      return applyTransaction(() => {\n        return originalMethod.apply(this, args);\n      }, this);\n    };\n\n    return descriptor;\n  };\n}\n\n/**\n *\n * RxJS custom operator that wraps the callback inside transaction\n *\n * @example\n *\n * return http.get().pipe(\n *    withTransaction(response > {\n *      store.setActive(1);\n *      store.update();\n *      store.updateEntity(1, {});\n *    })\n * )\n *\n */\nexport function withTransaction<T>(next: (value: T) => void) {\n  return function(source: Observable<T>): Observable<T> {\n    return source.pipe(tap(value => applyTransaction(() => next(value))));\n  };\n}\n","import { isBrowser } from './root';\n\nexport let __DEV__ = true;\n\nexport function enableAkitaProdMode() {\n  __DEV__ = false;\n  if (isBrowser) {\n    delete (window as any).$$stores;\n    delete (window as any).$$queries;\n  }\n}\n\n// @internal\nexport function isDev() {\n  return __DEV__;\n}\n","import { IDS, ItemPredicate } from './types';\nimport { DEFAULT_ID_KEY } from './defaultIDKey';\nimport { coerceArray } from './coerceArray';\nimport { isObject } from './isObject';\nimport { isFunction } from './isFunction';\nimport { not } from './not';\n\n/**\n * Remove item from collection\n *\n * @example\n *\n *\n * store.update(state => ({\n *   names: arrayRemove(state.names, ['one', 'second'])\n * }))\n */\nexport function arrayRemove<T extends any[], Entity = any>(arr: T, identifier: IDS | ItemPredicate<Entity>, idKey = DEFAULT_ID_KEY): T {\n  let identifiers;\n  let filterFn;\n\n  if (isFunction(identifier)) {\n    filterFn = not(identifier);\n  } else {\n    identifiers = coerceArray(identifier as IDS);\n    filterFn = (current) => {\n      return identifiers.includes(isObject(current) ? current[idKey] : current) === false;\n    };\n  }\n\n  if (Array.isArray(arr)) {\n    return arr.filter(filterFn) as any;\n  }\n}\n","import { coerceArray } from './coerceArray';\nimport { DEFAULT_ID_KEY } from './defaultIDKey';\nimport { isFunction } from './isFunction';\nimport { isObject } from './isObject';\nimport { IDS, ItemPredicate } from './types';\n\n/**\n * Update item in a collection\n *\n * @example\n *\n *\n * store.update(1, entity => ({\n *   comments: arrayUpdate(entity.comments, 1, { name: 'newComment' })\n * }))\n */\nexport function arrayUpdate<T extends any[], Entity = any>(arr: T, predicateOrIds: IDS | ItemPredicate<Entity>, obj: Partial<Entity>, idKey = DEFAULT_ID_KEY): T {\n  let condition: ItemPredicate<Entity>;\n\n  if (isFunction(predicateOrIds)) {\n    condition = predicateOrIds;\n  } else {\n    const ids = coerceArray(predicateOrIds);\n    condition = (item) => ids.includes(isObject(item) ? item[idKey] : item) === true;\n  }\n\n  const updateFn = (state) =>\n    state.map((entity, index) => {\n      if (condition(entity, index) === true) {\n        return isObject(entity)\n          ? {\n              ...entity,\n              ...obj,\n            }\n          : obj;\n      }\n\n      return entity;\n    });\n\n  return updateFn(arr);\n}\n","import { currentAction, setSkipAction } from './actions';\nimport { isDefined } from './isDefined';\nimport { $$addStore, $$deleteStore, $$updateStore } from './dispatchers';\nimport { __stores__ } from './stores';\nimport { capitalize } from './capitalize';\nimport { isNotBrowser } from './root';\n\nexport type DevtoolsOptions = {\n  /** instance name visible in devtools */\n  name: string;\n  /**  maximum allowed actions to be stored in the history tree */\n  maxAge: number;\n  latency: number;\n  actionsBlacklist: string[];\n  actionsWhitelist: string[];\n  storesWhitelist: string[];\n  shouldCatchErrors: boolean;\n  logTrace: boolean;\n  predicate: (state: any, action: any) => boolean;\n  shallow: boolean;\n  sortAlphabetically: boolean;\n};\nlet subs = [];\n\nexport type NgZoneLike = { run: any };\n\nexport function akitaDevtools(ngZone: NgZoneLike, options?: Partial<DevtoolsOptions>);\nexport function akitaDevtools(options?: Partial<DevtoolsOptions>);\nexport function akitaDevtools(ngZoneOrOptions?: NgZoneLike | Partial<DevtoolsOptions>, options: Partial<DevtoolsOptions> = {}) {\n  if (isNotBrowser) return;\n\n  if (!(window as any).__REDUX_DEVTOOLS_EXTENSION__) {\n    return;\n  }\n\n  subs.length &&\n    subs.forEach((s) => {\n      if (s.unsubscribe) {\n        s.unsubscribe();\n      } else {\n        s && s();\n      }\n    });\n\n  const isAngular = ngZoneOrOptions && ngZoneOrOptions['run'];\n\n  if (!isAngular) {\n    ngZoneOrOptions = ngZoneOrOptions || {};\n    (ngZoneOrOptions as any).run = (cb) => cb();\n    options = ngZoneOrOptions as Partial<DevtoolsOptions>;\n  }\n\n  const defaultOptions: Partial<DevtoolsOptions> & { name: string } = { name: 'Akita', shallow: true, storesWhitelist: [] };\n  const merged = Object.assign({}, defaultOptions, options);\n  const storesWhitelist = merged.storesWhitelist;\n  const devTools = (window as any).__REDUX_DEVTOOLS_EXTENSION__.connect(merged);\n  let appState = {};\n\n  const isAllowed = (storeName) => {\n    if (!storesWhitelist.length) {\n      return true;\n    }\n\n    return storesWhitelist.indexOf(storeName) > -1;\n  };\n\n  subs.push(\n    $$addStore.subscribe((storeName) => {\n      if (isAllowed(storeName) === false) return;\n      appState = {\n        ...appState,\n        [storeName]: __stores__[storeName]._value(),\n      };\n      devTools.send({ type: `[${capitalize(storeName)}] - @@INIT` }, appState);\n    })\n  );\n\n  subs.push(\n    $$deleteStore.subscribe((storeName) => {\n      if (isAllowed(storeName) === false) return;\n      delete appState[storeName];\n      devTools.send({ type: `[${storeName}] - Delete Store` }, appState);\n    })\n  );\n\n  subs.push(\n    $$updateStore.subscribe(({ storeName, action }) => {\n      if (isAllowed(storeName) === false) return;\n      const { type, entityIds, skip, ...rest } = action;\n\n      const payload = rest.payload;\n      if (skip) {\n        setSkipAction(false);\n        return;\n      }\n\n      const store = __stores__[storeName];\n      if (!store) {\n        return;\n      }\n\n      if (options.shallow === false && appState[storeName]) {\n        const isEqual = JSON.stringify(store._value()) === JSON.stringify(appState[storeName]);\n        if (isEqual) return;\n      }\n\n      appState = {\n        ...appState,\n        [storeName]: store._value(),\n      };\n\n      const normalize = capitalize(storeName);\n      let msg = isDefined(entityIds) ? `[${normalize}] - ${type} (ids: ${entityIds})` : `[${normalize}] - ${type}`;\n\n      if (options.logTrace) {\n        console.group(msg);\n        console.trace();\n        console.groupEnd();\n      }\n\n      if (options.sortAlphabetically) {\n        const sortedAppState = Object.keys(appState)\n          .sort()\n          .reduce((acc, storeName) => {\n            acc[storeName] = appState[storeName];\n            return acc;\n          }, {});\n\n        devTools.send({ type: msg, ...payload }, sortedAppState)\n        return;\n      }\n\n      devTools.send({ type: msg, ...payload }, appState)\n    })\n  );\n\n  subs.push(\n    devTools.subscribe((message) => {\n      if (message.type === 'DISPATCH') {\n        const payloadType = message.payload.type;\n\n        if (payloadType === 'COMMIT') {\n          devTools.init(appState);\n          return;\n        }\n\n        if (message.state) {\n          const rootState = JSON.parse(message.state);\n          for (let i = 0, keys = Object.keys(rootState); i < keys.length; i++) {\n            const storeName = keys[i];\n            if (__stores__[storeName]) {\n              (ngZoneOrOptions as NgZoneLike).run(() => {\n                __stores__[storeName]._setState(() => rootState[storeName], false);\n              });\n            }\n          }\n        }\n      }\n    })\n  );\n}\n","export * from './lib/ng-devtools.module';\n","import { isNil } from './isNil';\n\n// @internal\nexport function isDefined(val: any) {\n  return isNil(val) === false;\n}\n","import { DEFAULT_ID_KEY } from './defaultIDKey';\n\n// @internal\nexport function toEntitiesIds<E>(entities: E[], idKey = DEFAULT_ID_KEY) {\n  const ids = [];\n  for (const entity of entities) {\n    ids.push(entity[idKey]);\n  }\n  return ids;\n}\n","import { Injectable } from '@angular/core';\nimport { isFunction } from '@datorama/akita';\nimport { ReplaySubject } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\nimport { HttpMethod } from './ng-entity-service-notifier';\n\nexport type Event = { method: HttpMethod; loading: boolean; storeName: string; entityId?: any };\n\n@Injectable({ providedIn: 'root' })\nexport class NgEntityServiceLoader {\n  private dispatcher = new ReplaySubject<Event>(1);\n  loading$ = this.dispatcher.asObservable();\n\n  dispatch(event: Event) {\n    this.dispatcher.next(event);\n  }\n\n  loadersFor(name?: string) {\n    const filterStore = filter(({ storeName }: Event) => (name ? storeName === name : true));\n    const filterMethod = (mthd) =>\n      filter(({ method }: Event) => {\n        return isFunction(mthd) ? mthd(method) : method === mthd;\n      });\n\n    const actionBased = (current: ((method) => boolean) | HttpMethod) =>\n      this.loading$.pipe(\n        filterStore,\n        filterMethod(current),\n        map((action) => action.loading)\n      );\n\n    const idBased = (id: any, mthd: ((method) => boolean) | HttpMethod) =>\n      this.loading$.pipe(\n        filterStore,\n        filterMethod(mthd),\n        filter((action) => action.entityId === id),\n        map((action) => action.loading)\n      );\n\n    return {\n      get$: actionBased(HttpMethod.GET),\n      add$: actionBased(HttpMethod.POST),\n      update$: actionBased((method) => method === HttpMethod.PUT || method === HttpMethod.PATCH),\n      delete$: actionBased(HttpMethod.DELETE),\n      getEntity: (id: any) => idBased(id, HttpMethod.GET),\n      updateEntity: (id: any) => idBased(id, (method) => method === HttpMethod.PUT || method === HttpMethod.PATCH),\n      deleteEntity: (id: any) => idBased(id, HttpMethod.DELETE),\n    };\n  }\n}\n","// @internal\nexport function not(pred: Function): Function {\n  return function(...args) {\n    return !pred(...args);\n  };\n}\n","export const products = [\n  {\n    id: 3,\n    title: 'Rx',\n    description: 'Is a set of libraries to compose asynchronous and event-based programs using observable collections and Array style composition in JavaScript',\n    price: 30\n  },\n  {\n    id: 1,\n    title: 'JavaScript',\n    description: 'JavaScript, often abbreviated as JS, is a high-level, interpreted programming language.',\n    price: 10\n  },\n  {\n    id: 2,\n    title: 'Angular',\n    description: 'Learn one way to build applications with Angular and reuse your code and abilities to build apps for any deployment target.',\n    price: 20\n  }\n];\n","import { Subject } from 'rxjs';\nimport { Injectable } from '@angular/core';\nimport { filter } from 'rxjs/operators';\nimport { Msg } from './types';\n\nexport enum HttpMethod {\n  GET = 'GET',\n  POST = 'POST',\n  PUT = 'PUT',\n  PATCH = 'PATCH',\n  DELETE = 'DELETE'\n}\n\nexport type ActionType = 'success' | 'error';\n\nexport type EntityServiceAction = {\n  storeName: string;\n  type: ActionType;\n  payload: any;\n  method: HttpMethod;\n} & Msg;\n\nexport const ofType = (type: ActionType) => filter((action: EntityServiceAction) => action.type === type);\n\nexport const filterMethod = (method: HttpMethod | keyof (typeof HttpMethod)) =>\n  filter((action: EntityServiceAction) => action.method === method);\n\nexport const filterStore = (name: string) => filter((action: EntityServiceAction) => action.storeName === name);\n\n@Injectable({ providedIn: 'root' })\nexport class NgEntityServiceNotifier {\n  private dispatcher = new Subject<EntityServiceAction>();\n  action$ = this.dispatcher.asObservable();\n\n  dispatch(event: EntityServiceAction) {\n    this.dispatcher.next(event);\n  }\n}\n","// @internal\nexport function isArray<T>(value: any): value is T[] {\n  return Array.isArray(value);\n}\n","import { isFunction } from './isFunction';\n\nexport function compareKeys<T>(keysOrFuncs: any[]) {\n  return function <T>(prevState, currState) {\n    const isFns = isFunction(keysOrFuncs[0]);\n    // Return when they are NOT changed\n    return keysOrFuncs.some(keyOrFunc => {\n      if(isFns) {\n        return keyOrFunc(prevState) !== keyOrFunc(currState);\n      }\n      return prevState[keyOrFunc] !== currState[keyOrFunc];\n    }) === false;\n  };\n}\n","export { Actions } from './lib/actions';\nexport { AkitaNgEffectsModule } from './lib/akita-ng-effects.module';\nexport { EffectsRootModule } from './lib/effect-root.module';\nexport { Effect } from './lib/effect.decorator';\nexport { createEffect } from './lib/create-effect.util';\nexport { action as createAction, props, payload } from 'ts-action';\nexport { ofType } from 'ts-action-operators';\n","import { ID } from './types';\nimport { DEFAULT_ID_KEY } from './defaultIDKey';\nimport { arrayAdd } from './arrayAdd';\nimport { arrayUpdate } from './arrayUpdate';\nimport { isObject } from './isObject';\n\n/**\n * Upsert item in a collection\n *\n * @example\n *\n *\n * store.update(1, entity => ({\n *   comments: arrayUpsert(entity.comments, 1, { name: 'newComment' })\n * }))\n */\nexport function arrayUpsert<Root extends any[]>(arr: Root, id: ID, obj: Partial<Root[0]>, idKey = DEFAULT_ID_KEY): Root[0][] {\n  const entityIsObject = isObject(obj);\n  const entityExists = arr.some(entity => (entityIsObject ? entity[idKey] === id : entity === id));\n  if (entityExists) {\n    return arrayUpdate(arr, id, obj, idKey);\n  } else {\n    return arrayAdd(arr, entityIsObject ? { ...obj, [idKey]: id } : obj);\n  }\n}\n","import { merge, MonoTypeOperatorFunction, Observable, of, Operator, Subscriber, TeardownLogic } from 'rxjs';\nimport { filter, first, switchMap, tap } from 'rxjs/operators';\nimport { QueryEntity } from './queryEntity';\nimport { EntityState, getEntityType, getQueryEntityState } from './types';\n\n/**\n * Track id updates of an entity and re-evaluation the query with the changed entity id.\n * Hint: Don't place the operator after other operators in the same pipeline as those will be skipped on\n * re-evaluation. Also, it can't be used with the selection operator, e.g <code>selectEntity(1, e => e.title)</code>\n * @param query The query from which the entity is selected.\n * @example\n *\n *   query.selectEntity(1).pipe(trackIdChanges(query)).subscribe(entity => { ... })\n *\n */\nexport function trackIdChanges<K extends QueryEntity<S, T>, S extends EntityState<T> = getQueryEntityState<K>, T = getEntityType<S>>(query: K): MonoTypeOperatorFunction<T> {\n  return (source) => source.lift<T>(new TrackIdChanges(query));\n}\n\nclass TrackIdChanges<K extends QueryEntity<S, T>, S extends EntityState<T>, T = getEntityType<S>> implements Operator<T, T> {\n  constructor(readonly query: K) {}\n\n  call(subscriber: Subscriber<T>, source: Observable<T>): TeardownLogic {\n    return source\n      .pipe(\n        first(),\n        switchMap((entity) => {\n          let currId = entity[this.query.__store__.config.idKey];\n          let pending = false;\n\n          return merge(of({ newId: undefined, oldId: currId, pending: false }), this.query.__store__.selectEntityIdChanges$).pipe(\n            // the new id must differ form the old id\n            filter((change) => change.oldId === currId),\n            // extract the current pending state of the id update\n            tap((change) => (pending = change.pending)),\n            // only update the selection query if the id update is already applied to the store\n            filter((change) => change.newId !== currId && !pending),\n            // build a selection query for the new entity id\n            switchMap((change) =>\n              this.query\n                .selectEntity((currId = change.newId || currId))\n                // skip undefined value if pending.\n                .pipe(filter(() => !pending))\n            )\n          );\n        })\n      )\n      .subscribe(subscriber);\n  }\n}\n","export * from './lib/index';\n","import { EntityState, ID } from './index';\n\n// @internal\nexport function hasEntity<E>(entities: EntityState<E>, id: ID) {\n  return entities.hasOwnProperty(id);\n}\n","/**\n * @internal\n *\n * @example\n *\n * getValue(state, 'todos.ui')\n *\n */\nexport function getValue( obj: any, prop: string ) {\n  /** return the whole state  */\n  if( prop.split('.').length === 1 ) {\n    return obj;\n  }\n  const removeStoreName = prop\n    .split('.')\n    .slice(1)\n    .join('.');\n  return removeStoreName.split('.').reduce(( acc: any, part: string ) => acc && acc[part], obj);\n}\n","import { Injectable } from '@angular/core';\nimport { AuthStore } from './auth.store';\nimport { mapTo, tap } from 'rxjs/operators';\nimport { timer } from 'rxjs';\n\nexport type Creds = {\n  email: string;\n  password: string;\n};\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n  constructor(private authStore: AuthStore) {}\n\n  login(creds: Creds) {\n    return simulateRequest(creds).pipe(tap(user => this.authStore.update(user)));\n  }\n\n  logout() {\n    this.authStore.reset();\n  }\n}\n\nexport function simulateRequest(creds: Creds) {\n  return timer(400).pipe(\n    mapTo({\n      id: 1,\n      firstName: 'Netanel',\n      lastName: 'Basal',\n      token: 'token'\n    })\n  );\n}\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"fLeU\";","import { EntityServiceAction, NgEntityServiceNotifier } from './ng-entity-service-notifier';\n\nexport function successAction(\n  storeName: string,\n  notifier: NgEntityServiceNotifier\n): (params: Partial<EntityServiceAction>) => void {\n  return function({ payload, method, successMsg }) {\n    notifier.dispatch({\n      type: 'success',\n      storeName,\n      payload,\n      method,\n      successMsg\n    });\n  };\n}\n\nexport function errorAction(\n  storeName: string,\n  notifier: NgEntityServiceNotifier\n): (params: Partial<EntityServiceAction>) => void {\n  return function({ payload, method, errorMsg }) {\n    notifier.dispatch({\n      type: 'error',\n      storeName,\n      payload,\n      method,\n      errorMsg\n    });\n  };\n}\n","import { ID, IDS } from './types';\nimport { isNil } from './isNil';\nimport { isObject } from './isObject';\nimport { isArray } from './isArray';\n\nexport type SetActiveOptions = { prev?: boolean; next?: boolean; wrap?: boolean };\n\n// @internal\nexport function getActiveEntities(idOrOptions: IDS | SetActiveOptions | null, ids: ID[], currentActive: IDS | null) {\n  let result;\n\n  if (isArray(idOrOptions)) {\n    result = idOrOptions;\n  } else {\n    if (isObject(idOrOptions)) {\n      if (isNil(currentActive)) return;\n      (idOrOptions as SetActiveOptions) = Object.assign({ wrap: true }, idOrOptions);\n      const currentIdIndex = ids.indexOf(currentActive as ID);\n      if ((idOrOptions as SetActiveOptions).prev) {\n        const isFirst = currentIdIndex === 0;\n        if (isFirst && !(idOrOptions as SetActiveOptions).wrap) return;\n        result = isFirst ? ids[ids.length - 1] : (ids[currentIdIndex - 1] as any);\n      } else if ((idOrOptions as SetActiveOptions).next) {\n        const isLast = ids.length === currentIdIndex + 1;\n        if (isLast && !(idOrOptions as SetActiveOptions).wrap) return;\n        result = isLast ? ids[0] : (ids[currentIdIndex + 1] as any);\n      }\n    } else {\n      if (idOrOptions === currentActive) return;\n      result = idOrOptions as ID;\n    }\n  }\n\n  return result;\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CartComponent } from './cart.component';\n\nconst publicApi = [CartComponent];\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [publicApi],\n  exports: [publicApi]\n})\nexport class CartModule {}\n","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { Action } from './types';\nimport { logAction } from '@datorama/akita';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class Actions extends Subject<Action> {\n  dispatch(value: Action): void {\n    this.logAction(value);\n    this.next(value);\n  }\n\n  logAction(value: Action): void {\n    const { type, ...props } = value;\n    const hasPayload = Object.getOwnPropertyNames(props).length > 0;\n    logAction(type, null, hasPayload ? props : null);\n  }\n}\n","import { from, isObservable, of, OperatorFunction, ReplaySubject, Subscription } from 'rxjs';\nimport { filter, map, skip } from 'rxjs/operators';\nimport { setAction } from './actions';\nimport { $$addStore, $$deleteStore } from './dispatchers';\nimport { getValue } from './getValueByString';\nimport { isFunction } from './isFunction';\nimport { isNil } from './isNil';\nimport { isObject } from './isObject';\nimport { hasLocalStorage, hasSessionStorage, isNotBrowser } from './root';\nimport { setValue } from './setValueByString';\nimport { __stores__ } from './stores';\nimport { HashMap, MaybeAsync } from './types';\n\nlet skipStorageUpdate = false;\n\nconst _persistStateInit = new ReplaySubject(1);\n\nexport function selectPersistStateInit() {\n  return _persistStateInit.asObservable();\n}\n\nexport function setSkipStorageUpdate(skip: boolean) {\n  skipStorageUpdate = skip;\n}\n\nexport function getSkipStorageUpdate() {\n  return skipStorageUpdate;\n}\n\nexport interface PersistStateStorage {\n  getItem(key: string): MaybeAsync;\n\n  setItem(key: string, value: any): MaybeAsync;\n\n  clear(): void;\n}\n\nfunction isPromise(v: any) {\n  return v && isFunction(v.then);\n}\n\nfunction observify(asyncOrValue: any) {\n  if (isPromise(asyncOrValue) || isObservable(asyncOrValue)) {\n    return from(asyncOrValue);\n  }\n\n  return of(asyncOrValue);\n}\n\nexport type PersistStateSelectFn<T = any> = ((store: T) => Partial<T>) & { storeName: string };\n\nexport interface PersistStateParams {\n  /** The storage key */\n  key: string;\n  /** Whether to enable persistState in a non-browser environment */\n  enableInNonBrowser: boolean;\n  /** Storage strategy to use. This defaults to LocalStorage but you can pass SessionStorage or anything that implements the StorageEngine API. */\n  storage: PersistStateStorage;\n  /** Custom deserializer. Defaults to JSON.parse */\n  deserialize: Function;\n  /** Custom serializer, defaults to JSON.stringify */\n  serialize: Function;\n  /** By default the whole state is saved to storage, use this param to include only the stores you need. */\n  include: (string | ((storeName: string) => boolean))[];\n  /** By default the whole state is saved to storage, use this param to include only the data you need. */\n  select: PersistStateSelectFn[];\n\n  preStorageUpdate(storeName: string, state: any): any;\n\n  preStoreUpdate(storeName: string, state: any, initialState: any): any;\n\n  skipStorageUpdate: () => boolean;\n  preStorageUpdateOperator: () => OperatorFunction<any, any>;\n  /** Whether to persist a dynamic store upon destroy */\n  persistOnDestroy: boolean;\n}\n\nexport interface PersistState {\n  destroy(): void;\n  /**\n   * @deprecated Use clearStore instead.\n   */\n  clear(): void;\n  clearStore(storeName?: string): void;\n}\n\nexport function persistState(params?: Partial<PersistStateParams>): PersistState {\n  const defaults: PersistStateParams = {\n    key: 'AkitaStores',\n    enableInNonBrowser: false,\n    storage: !hasLocalStorage() ? params.storage : localStorage,\n    deserialize: JSON.parse,\n    serialize: JSON.stringify,\n    include: [],\n    select: [],\n    persistOnDestroy: false,\n    preStorageUpdate: function (storeName, state) {\n      return state;\n    },\n    preStoreUpdate: function (storeName, state) {\n      return state;\n    },\n    skipStorageUpdate: getSkipStorageUpdate,\n    preStorageUpdateOperator: () => (source) => source,\n  };\n\n  const { storage, enableInNonBrowser, deserialize, serialize, include, select, key, preStorageUpdate, persistOnDestroy, preStorageUpdateOperator, preStoreUpdate, skipStorageUpdate } = Object.assign(\n    {},\n    defaults,\n    params\n  );\n\n  if ((isNotBrowser && !enableInNonBrowser) || !storage) return;\n\n  const hasInclude = include.length > 0;\n  const hasSelect = select.length > 0;\n  let includeStores: { fns: Function[]; [key: string]: Function[] | string };\n  let selectStores: { [key: string]: PersistStateSelectFn };\n\n  if (hasInclude) {\n    includeStores = include.reduce(\n      (acc, path) => {\n        if (isFunction(path)) {\n          acc.fns.push(path);\n        } else {\n          const storeName = path.split('.')[0];\n          acc[storeName] = path;\n        }\n        return acc;\n      },\n      { fns: [] }\n    );\n  }\n\n  if (hasSelect) {\n    selectStores = select.reduce((acc, selectFn) => {\n      acc[selectFn.storeName] = selectFn;\n\n      return acc;\n    }, {});\n  }\n\n  let stores: HashMap<Subscription> = {};\n  let acc = {};\n  let subscriptions: Subscription[] = [];\n\n  const buffer = [];\n\n  function _save(v: any) {\n    observify(v).subscribe(() => {\n      const next = buffer.shift();\n      next && _save(next);\n    });\n  }\n\n  // when we use the local/session storage we perform the serialize, otherwise we let the passed storage implementation to do it\n  const isLocalStorage = (hasLocalStorage() && storage === localStorage) || (hasSessionStorage() && storage === sessionStorage);\n\n  observify(storage.getItem(key)).subscribe((value: any) => {\n    let storageState = isObject(value) ? value : deserialize(value || '{}');\n\n    function save(storeCache) {\n      storageState['$cache'] = { ...(storageState['$cache'] || {}), ...storeCache };\n      storageState = Object.assign({}, storageState, acc);\n\n      buffer.push(storage.setItem(key, isLocalStorage ? serialize(storageState) : storageState));\n      _save(buffer.shift());\n    }\n\n    function subscribe(storeName, path) {\n      stores[storeName] = __stores__[storeName]\n        ._select((state) => getValue(state, path))\n        .pipe(\n          skip(1),\n          map((store) => {\n            if (hasSelect && selectStores[storeName]) {\n              return selectStores[storeName](store);\n            }\n\n            return store;\n          }),\n          filter(() => skipStorageUpdate() === false),\n          preStorageUpdateOperator()\n        )\n        .subscribe((data) => {\n          acc[storeName] = preStorageUpdate(storeName, data);\n          Promise.resolve().then(() => save({ [storeName]: __stores__[storeName]._cache().getValue() }));\n        });\n    }\n\n    function setInitial(storeName, store, path) {\n      if (storeName in storageState) {\n        setAction('@PersistState');\n        store._setState((state) => {\n          return setValue(state, path, preStoreUpdate(storeName, storageState[storeName], state));\n        });\n        const hasCache = storageState['$cache'] ? storageState['$cache'][storeName] : false;\n        __stores__[storeName].setHasCache(hasCache, { restartTTL: true });\n      }\n    }\n\n    subscriptions.push(\n      $$deleteStore.subscribe((storeName) => {\n        if (stores[storeName]) {\n          if (persistOnDestroy === false) {\n            save({ [storeName]: false });\n          }\n          stores[storeName].unsubscribe();\n          delete stores[storeName];\n        }\n      })\n    );\n\n    subscriptions.push(\n      $$addStore.subscribe((storeName) => {\n        if (storeName === 'router') {\n          return;\n        }\n\n        const store = __stores__[storeName];\n        if (hasInclude) {\n          let path = includeStores[storeName];\n\n          if (!path) {\n            const passPredicate = includeStores.fns.some((fn) => fn(storeName));\n            if (passPredicate) {\n              path = storeName;\n            } else {\n              return;\n            }\n          }\n          setInitial(storeName, store, path);\n          subscribe(storeName, path);\n        } else {\n          setInitial(storeName, store, storeName);\n          subscribe(storeName, storeName);\n        }\n      })\n    );\n\n    _persistStateInit.next();\n  });\n\n  return {\n    destroy() {\n      subscriptions.forEach((s) => s.unsubscribe());\n      for (let i = 0, keys = Object.keys(stores); i < keys.length; i++) {\n        const storeName = keys[i];\n        stores[storeName].unsubscribe();\n      }\n      stores = {};\n    },\n    clear() {\n      storage.clear();\n    },\n    clearStore(storeName?: string) {\n      if (isNil(storeName)) {\n        const value = observify(storage.setItem(key, '{}'));\n        value.subscribe();\n        return;\n      }\n      const value = storage.getItem(key);\n      observify(value).subscribe((v) => {\n        const storageState = deserialize(v || '{}');\n\n        if (storageState[storeName]) {\n          delete storageState[storeName];\n          const value = observify(storage.setItem(key, serialize(storageState)));\n          value.subscribe();\n        }\n      });\n    },\n  };\n}\n","import { Observable } from 'rxjs';\nimport { EntityState, OrArray, getIDType } from '../types';\nimport { QueryEntity } from '../queryEntity';\nimport { isUndefined } from '../isUndefined';\nimport { coerceArray } from '../coerceArray';\nimport { toBoolean } from '../toBoolean';\nimport { isFunction } from '../isFunction';\n\nexport type RebaseAction<P = any> = (plugin: P) => any;\n\nexport type RebaseActions<P = any> = { beforeRemove?: RebaseAction; beforeAdd?: RebaseAction; afterAdd?: RebaseAction };\n\n/**\n * Each plugin that wants to add support for entities should extend this interface.\n */\nexport abstract class EntityCollectionPlugin<State extends EntityState, P> {\n  protected entities = new Map<getIDType<State>, P>();\n\n  protected constructor(protected query: QueryEntity<State>, private entityIds: OrArray<getIDType<State>>) {}\n\n  /**\n   * Get the entity plugin instance.\n   */\n  protected getEntity(id: getIDType<State>): P {\n    return this.entities.get(id);\n  }\n\n  /**\n   * Whether the entity plugin exist.\n   */\n  protected hasEntity(id: getIDType<State>): boolean {\n    return this.entities.has(id);\n  }\n\n  /**\n   * Remove the entity plugin instance.\n   */\n  protected removeEntity(id: getIDType<State>) {\n    this.destroy(id);\n    return this.entities.delete(id);\n  }\n\n  /**\n   * Set the entity plugin instance.\n   */\n  protected createEntity(id: getIDType<State>, plugin: P) {\n    return this.entities.set(id, plugin);\n  }\n\n  /**\n   * If the user passes `entityIds` we take them; otherwise, we take all.\n   */\n  protected getIds(): any {\n    return isUndefined(this.entityIds) ? this.query.getValue().ids : coerceArray(this.entityIds);\n  }\n\n  /**\n   * When you call one of the plugin methods, you can pass id/ids or undefined which means all.\n   */\n  protected resolvedIds(ids?): getIDType<State>[] {\n    return isUndefined(ids) ? this.getIds() : coerceArray(ids);\n  }\n\n  /**\n   * Call this method when you want to activate the plugin on init or when you need to listen to add/remove of entities dynamically.\n   *\n   * For example in your plugin you may do the following:\n   *\n   * this.query.select(state => state.ids).pipe(skip(1)).subscribe(ids => this.activate(ids));\n   */\n  protected rebase(ids: getIDType<State>[], actions: RebaseActions<P> = {}) {\n    /**\n     *\n     * If the user passes `entityIds` & we have new ids check if we need to add/remove instances.\n     *\n     * This phase will be called only upon update.\n     */\n    if (toBoolean(ids)) {\n      /**\n       * Which means all\n       */\n      if (isUndefined(this.entityIds)) {\n        for (let i = 0, len = ids.length; i < len; i++) {\n          const entityId = ids[i];\n          if (this.hasEntity(entityId) === false) {\n            isFunction(actions.beforeAdd) && actions.beforeAdd(entityId);\n            const plugin = this.instantiatePlugin(entityId);\n            this.entities.set(entityId, plugin);\n            isFunction(actions.afterAdd) && actions.afterAdd(plugin);\n          }\n        }\n\n        this.entities.forEach((plugin, entityId) => {\n          if (ids.indexOf(entityId) === -1) {\n            isFunction(actions.beforeRemove) && actions.beforeRemove(plugin);\n            this.removeEntity(entityId);\n          }\n        });\n      } else {\n        /**\n         * Which means the user passes specific ids\n         */\n        const _ids = coerceArray(this.entityIds);\n        for (let i = 0, len = _ids.length; i < len; i++) {\n          const entityId = _ids[i];\n          /** The Entity in current ids and doesn't exist, add it. */\n          if (ids.indexOf(entityId) > -1 && this.hasEntity(entityId) === false) {\n            isFunction(actions.beforeAdd) && actions.beforeAdd(entityId);\n            const plugin = this.instantiatePlugin(entityId);\n            this.entities.set(entityId, plugin);\n            isFunction(actions.afterAdd) && actions.afterAdd(plugin);\n          } else {\n            this.entities.forEach((plugin, entityId) => {\n              /** The Entity not in current ids and exists, remove it. */\n              if (ids.indexOf(entityId) === -1 && this.hasEntity(entityId) === true) {\n                isFunction(actions.beforeRemove) && actions.beforeRemove(plugin);\n                this.removeEntity(entityId);\n              }\n            });\n          }\n        }\n      }\n    } else {\n      /**\n       * Otherwise, start with the provided ids or all.\n       */\n      this.getIds().forEach(id => {\n        if (!this.hasEntity(id)) this.createEntity(id, this.instantiatePlugin(id));\n      });\n    }\n  }\n\n  /**\n   * Listen for add/remove entities.\n   */\n  protected selectIds(): Observable<any> {\n    return this.query.select(state => state.ids);\n  }\n\n  /**\n   * Base method for activation, you can override it if you need to.\n   */\n  protected activate(ids?: any[]) {\n    this.rebase(ids);\n  }\n\n  /**\n   * This method is responsible for plugin instantiation.\n   *\n   * For example:\n   * return new StateHistory(this.query, this.params, id) as P;\n   */\n  protected abstract instantiatePlugin(id: getIDType<State>): P;\n\n  /**\n   * This method is responsible for cleaning.\n   */\n  public abstract destroy(id?: getIDType<State>);\n\n  /**\n   * Loop over each id and invoke the plugin method.\n   */\n  protected forEachId(ids: OrArray<getIDType<State>>, cb: (entity: P) => any) {\n    const _ids = this.resolvedIds(ids);\n\n    for (let i = 0, len = _ids.length; i < len; i++) {\n      const id = _ids[i];\n      if (this.hasEntity(id)) {\n        cb(this.getEntity(id));\n      }\n    }\n  }\n}\n","import { pairwise, distinctUntilChanged } from 'rxjs/operators';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { AkitaPlugin, Queries } from '../plugin';\nimport { logAction } from '../../actions';\nimport { isFunction } from '../../isFunction';\n\nexport interface StateHistoryParams {\n  maxAge?: number;\n  watchProperty?: string;\n  comparator?: (prevState, currentState) => boolean;\n}\n\nexport type History<State> = {\n  past: State[];\n  present: State | null;\n  future: State[];\n};\n\nexport class StateHistoryPlugin<State = any> extends AkitaPlugin<State> {\n  /** Allow skipping an update from outside */\n  private skip = false;\n\n  private history = {\n    past: [],\n    present: null,\n    future: [],\n  };\n\n  /** Skip the update when redo/undo */\n  private skipUpdate = false;\n  private subscription;\n\n  /* Subjects for supporting observable hasPast$ and hasFuture$ */\n  private hasPastSubject: BehaviorSubject<boolean>;\n  private _hasPast$: Observable<boolean>;\n  private hasFutureSubject: BehaviorSubject<boolean>;\n  private _hasFuture$: Observable<boolean>;\n\n  constructor(protected query: Queries<State>, private params: StateHistoryParams = {}, private _entityId?: any) {\n    super(query, {\n      resetFn: () => this.clear(),\n    });\n    params.maxAge = !!params.maxAge ? params.maxAge : 10;\n    params.comparator = params.comparator || (() => true);\n\n    this.activate();\n  }\n\n  /**\n   * Observable stream representing whether the history plugin has an available past\n   *\n   */\n  get hasPast$(): Observable<boolean> {\n    return this._hasPast$;\n  }\n\n  /**\n   * Observable stream representing whether the history plugin has an available future\n   *\n   */\n  get hasFuture$(): Observable<boolean> {\n    return this._hasFuture$;\n  }\n\n  get hasPast() {\n    return this.history.past.length > 0;\n  }\n\n  get hasFuture() {\n    return this.history.future.length > 0;\n  }\n\n  private get property() {\n    return this.params.watchProperty;\n  }\n\n  /* Updates the hasPast$ hasFuture$ observables*/\n  private updateHasHistory() {\n    this.hasFutureSubject.next(this.hasFuture);\n    this.hasPastSubject.next(this.hasPast);\n  }\n\n  activate() {\n    this.hasPastSubject = new BehaviorSubject(false);\n    this._hasPast$ = this.hasPastSubject.asObservable().pipe(distinctUntilChanged());\n    this.hasFutureSubject = new BehaviorSubject(false);\n    this._hasFuture$ = this.hasFutureSubject.asObservable().pipe(distinctUntilChanged());\n\n    this.history.present = this.getSource(this._entityId, this.property);\n    this.subscription = (this as any)\n      .selectSource(this._entityId, this.property)\n      .pipe(pairwise())\n      .subscribe(([past, present]) => {\n        if (this.skip) {\n          this.skip = false;\n          return;\n        }\n        /**\n         *  comparator: (prev, current) => isEqual(prev, current) === false\n         */\n        const shouldUpdate = this.params.comparator(past, present);\n\n        if (!this.skipUpdate && shouldUpdate) {\n          if (this.history.past.length === this.params.maxAge) {\n            this.history.past = this.history.past.slice(1);\n          }\n          this.history.past = [...this.history.past, past];\n          this.history.present = present;\n          this.updateHasHistory();\n        }\n      });\n  }\n\n  undo() {\n    if (this.history.past.length > 0) {\n      const { past, present } = this.history;\n      const previous = past[past.length - 1];\n      this.history.past = past.slice(0, past.length - 1);\n      this.history.present = previous;\n      this.history.future = [present, ...this.history.future];\n      this.update();\n    }\n  }\n\n  redo() {\n    if (this.history.future.length > 0) {\n      const { past, present } = this.history;\n      const next = this.history.future[0];\n      const newFuture = this.history.future.slice(1);\n      this.history.past = [...past, present];\n      this.history.present = next;\n      this.history.future = newFuture;\n      this.update('Redo');\n    }\n  }\n\n  jumpToPast(index: number) {\n    if (index < 0 || index >= this.history.past.length) return;\n\n    const { past, future, present } = this.history;\n    /**\n     *\n     * const past = [1, 2, 3, 4, 5];\n     * const present = 6;\n     * const future = [7, 8, 9];\n     * const index = 2;\n     *\n     * newPast = past.slice(0, index) = [1, 2];\n     * newPresent = past[index] = 3;\n     * newFuture = [...past.slice(index + 1),present, ...future] = [4, 5, 6, 7, 8, 9];\n     *\n     */\n    const newPast = past.slice(0, index);\n    const newFuture = [...past.slice(index + 1), present, ...future];\n    const newPresent = past[index];\n    this.history.past = newPast;\n    this.history.present = newPresent;\n    this.history.future = newFuture;\n    this.update();\n  }\n\n  jumpToFuture(index: number) {\n    if (index < 0 || index >= this.history.future.length) return;\n\n    const { past, future, present } = this.history;\n    /**\n     *\n     * const past = [1, 2, 3, 4, 5];\n     * const present = 6;\n     * const future = [7, 8, 9, 10]\n     * const index = 1\n     *\n     * newPast = [...past, present, ...future.slice(0, index) = [1, 2, 3, 4, 5, 6, 7];\n     * newPresent = future[index] = 8;\n     * newFuture = futrue.slice(index+1) = [9, 10];\n     *\n     */\n\n    const newPast = [...past, present, ...future.slice(0, index)];\n    const newPresent = future[index];\n    const newFuture = future.slice(index + 1);\n    this.history.past = newPast;\n    this.history.present = newPresent;\n    this.history.future = newFuture;\n    this.update('Redo');\n  }\n\n  /**\n   *\n   * jump n steps in the past or forward\n   *\n   */\n  jump(n: number) {\n    if (n > 0) return this.jumpToFuture(n - 1);\n    if (n < 0) return this.jumpToPast(this.history.past.length + n);\n  }\n\n  /**\n   * Clear the history\n   *\n   * @param customUpdateFn Callback function for only clearing part of the history\n   *\n   * @example\n   *\n   * stateHistory.clear((history) => {\n   *  return {\n   *    past: history.past,\n   *    present: history.present,\n   *    future: []\n   *  };\n   * });\n   */\n  clear(customUpdateFn?: (history: History<State>) => History<State>) {\n    this.history = isFunction(customUpdateFn)\n      ? customUpdateFn(this.history)\n      : {\n          past: [],\n          present: null,\n          future: [],\n        };\n    this.updateHasHistory();\n  }\n\n  destroy(clearHistory = false) {\n    if (clearHistory) {\n      this.clear();\n    }\n    this.subscription.unsubscribe();\n  }\n\n  ignoreNext() {\n    this.skip = true;\n  }\n\n  private update(action = 'Undo') {\n    this.skipUpdate = true;\n    logAction(`@StateHistory - ${action}`);\n    this.updateStore(this.history.present, this._entityId, this.property, true);\n    this.updateHasHistory();\n    this.skipUpdate = false;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CartItem } from './cart.model';\nimport { EntityState, EntityStore, StoreConfig } from '@datorama/akita';\nimport { Product } from '../../products/state/products.model';\n\nexport interface CartState extends EntityState<CartItem> {}\n\n@Injectable({ providedIn: 'root' })\n@StoreConfig({\n  name: 'cart',\n  idKey: 'productId'\n})\nexport class CartStore extends EntityStore<CartState> {\n  constructor() {\n    super();\n  }\n\n  updateQuantity(productId: Product['id'], operand = 1) {\n    this.update(productId, entity => {\n      const newQuantity = entity.quantity + operand;\n      return {\n        ...entity,\n        quantity: newQuantity\n      };\n    });\n  }\n\n  notify(notify: boolean) {\n    this.update(state => ({ ...state, notify }));\n  }\n}\n","import { AkitaConfig } from './config';\n\nexport type StoreConfigOptions = {\n  name: string;\n  resettable?: AkitaConfig['resettable'];\n  cache?: { ttl: number };\n  deepFreezeFn?: (o: any) => any;\n  idKey?: string;\n  producerFn?: AkitaConfig['producerFn'];\n};\n\nexport type UpdatableStoreConfigOptions = {\n  cache?: { ttl: number };\n};\n\nexport const configKey = 'akitaConfig';\n\nexport function StoreConfig(metadata: StoreConfigOptions) {\n  return function(constructor: Function) {\n    constructor[configKey] = { idKey: 'id' };\n\n    for (let i = 0, keys = Object.keys(metadata); i < keys.length; i++) {\n      const key = keys[i];\n      /* name is preserved read only key */\n      if (key === 'name') {\n        constructor[configKey]['storeName'] = metadata[key];\n      } else {\n        constructor[configKey][key] = metadata[key];\n      }\n    }\n  };\n}\n","// @internal\nexport function isObject(value: any) {\n  const type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n","import { EntityState, getEntityType, getIDType } from './types';\nimport { Observable } from 'rxjs';\n\nexport abstract class EntityService<S extends EntityState> {\n  abstract get<T>(id?: getIDType<S>, config?: any): Observable<T>;\n  abstract add<T>(entity: getEntityType<EntityState>, config?: any): Observable<T>;\n  abstract update<T>(id: getIDType<S>, entity: Partial<getEntityType<S>>, config: any): Observable<T>;\n  abstract delete<T>(id: getIDType<S>, config: any): Observable<T>;\n}\n","export const DEFAULT_ID_KEY = 'id';\n","import { Observable, of, OperatorFunction } from 'rxjs';\nimport { filter } from 'rxjs/operators';\n\n/**\n * @example\n *\n * query.selectEntity(2).pipe(filterNil)\n * @deprecated Use the operator function filterNilValue()\n */\nexport const filterNil = <T>(source: Observable<T | undefined | null>): Observable<NonNullable<T>> =>\n  source.pipe(filter((value): value is NonNullable<T> => value !== null && typeof value !== 'undefined'));\n\n/**\n * @example\n *\n * query.selectEntity(2).pipe(filterNilValue())\n */\nexport function filterNilValue<T>(): OperatorFunction<T, NonNullable<T>> {\n  return filter((value: T): value is NonNullable<T> => value !== null && value !== undefined);\n}\n","// @internal\nexport function capitalize(value: string) {\n  return value && value.charAt(0).toUpperCase() + value.slice(1);\n}\n","import { Order } from './sort';\n\nexport type SortBy<E, S = any> = ((a: E, b: E, state?: S) => number) | keyof E;\n\nexport interface SortByOptions<E> {\n  sortBy?: SortBy<E>;\n  sortByOrder?: Order;\n}\n\nexport interface QueryConfigOptions<E = any> extends SortByOptions<E> {}\n\nexport const queryConfigKey = 'akitaQueryConfig';\n\nexport function QueryConfig<E>(metadata: QueryConfigOptions<E>) {\n  return function(constructor: Function) {\n    constructor[queryConfigKey] = {};\n    for (let i = 0, keys = Object.keys(metadata); i < keys.length; i++) {\n      const key = keys[i];\n      constructor[queryConfigKey][key] = metadata[key];\n    }\n  };\n}\n","import { defer, MonoTypeOperatorFunction, Observable } from 'rxjs';\nimport { finalize } from 'rxjs/operators';\nimport { Store } from './store';\n\nexport function setLoading<T>(store: Store): MonoTypeOperatorFunction<T> {\n  return function <T>(source: Observable<T>) {\n    return defer(() => {\n      store.setLoading(true);\n      return source.pipe(finalize(() => store.setLoading(false)));\n    });\n  };\n}\n","import { Entities, EntityState, HashMap, ID, PreAddEntity } from './types';\nimport { toEntitiesObject } from './toEntitiesObject';\nimport { isArray } from './isArray';\nimport { hasActiveState, resolveActiveEntity } from './activeState';\n\nexport type SetEntities<Entity> = Entity[] | Entities<Entity> | HashMap<Entity>;\n\nexport type SetEntitiesParams<State, Entity> = {\n  state: State;\n  entities: SetEntities<Entity>;\n  idKey: string;\n  preAddEntity: PreAddEntity<Entity>;\n  isNativePreAdd?: boolean;\n};\n\n// @internal\nexport function isEntityState<Entity>(state): state is Entities<Entity> {\n  return state.entities && state.ids;\n}\n\n// @internal\nfunction applyMiddleware<E>(entities: HashMap<E>, preAddEntity: PreAddEntity<E>) {\n  let mapped = {};\n  for (const id of Object.keys(entities)) {\n    mapped[id] = preAddEntity(entities[id]);\n  }\n\n  return mapped;\n}\n\n// @internal\nexport function setEntities<S extends EntityState<E>, E>({ state, entities, idKey, preAddEntity, isNativePreAdd }: SetEntitiesParams<S, E>): S {\n  let newEntities: HashMap<E>;\n  let newIds: ID[];\n\n  if (isArray(entities)) {\n    const resolve = toEntitiesObject(entities, idKey, preAddEntity);\n    newEntities = resolve.entities;\n    newIds = resolve.ids;\n  } else if (isEntityState(entities)) {\n    newEntities = isNativePreAdd ? entities.entities : applyMiddleware(entities.entities, preAddEntity);\n    newIds = entities.ids;\n  } else {\n    // it's an object\n    newEntities = isNativePreAdd ? entities : applyMiddleware(entities, preAddEntity);\n    newIds = Object.keys(newEntities).map(id => (isNaN(id as any) ? id : Number(id)));\n  }\n\n  const newState = {\n    ...state,\n    entities: newEntities,\n    ids: newIds,\n    loading: false\n  };\n\n  if (hasActiveState(state)) {\n    (newState as any).active = resolveActiveEntity(newState as any);\n  }\n\n  return newState;\n}\n","// @internal\nexport function isString(value: any): value is string {\n  return typeof value === 'string';\n}\n","import { ActiveState, EntityState, ID, IDS, MultiActiveState } from './types';\nimport { hasEntity } from './hasEntity';\nimport { isArray } from './isArray';\n\n// @internal\nexport function hasActiveState<E>(state: EntityState<E>): state is EntityState<E> & (ActiveState | MultiActiveState) {\n  return state.hasOwnProperty('active');\n}\n\n// @internal\nexport function isMultiActiveState(active: IDS): active is ID[] {\n  return isArray(active);\n}\n\n// @internal\nexport function resolveActiveEntity<E>({ active, ids, entities }: EntityState<E> & (ActiveState | MultiActiveState)) {\n  if (isMultiActiveState(active)) {\n    return getExitingActives(active, ids);\n  }\n\n  if (hasEntity(entities, active) === false) {\n    return null;\n  }\n\n  return active;\n}\n\n// @internal\nexport function getExitingActives(currentActivesIds: ID[], newIds: ID[]) {\n  const filtered = currentActivesIds.filter(id => newIds.indexOf(id) > -1);\n  /** Return the same reference if nothing has changed */\n  if (filtered.length === currentActivesIds.length) {\n    return currentActivesIds;\n  }\n\n  return filtered;\n}\n","import { Inject, NgModule, Optional, SkipSelf } from '@angular/core';\nimport { ROOT_EFFECT_INSTANCES } from './tokens';\nimport { Actions } from './actions';\nimport { ModuleManager } from './module-manager.service';\n\n@NgModule()\nexport class EffectsRootModule {\n  constructor(private moduleManager: ModuleManager, private actions: Actions, @Inject(ROOT_EFFECT_INSTANCES) rootEffects: any[], @Optional() @SkipSelf() private parentModule?: EffectsRootModule) {\n    this.rootGuard();\n    rootEffects.forEach((effect) => this.moduleManager.subscribeToEffects(effect));\n  }\n\n  rootGuard() {\n    if (this.parentModule) {\n      throw new Error('EffectsRootModule is already loaded. Import it in the AppModule only');\n    }\n  }\n}\n","import { Store } from './store';\nimport { Query } from './query';\nimport { StoreConfigOptions } from './storeConfig';\nimport { EntityStore } from './entityStore';\nimport { QueryEntity } from './queryEntity';\nimport { QueryConfigOptions } from './queryConfig';\nimport { EntityState } from './types';\n\nexport function createStore<State>(initialState: Partial<State>, options: Partial<StoreConfigOptions>) {\n  return new Store<State>(initialState, options);\n}\n\nexport function createQuery<State>(store: Store<State>) {\n  return new Query<State>(store);\n}\n\nexport function createEntityStore<State extends EntityState>(initialState: Partial<State>, options: Partial<StoreConfigOptions>) {\n  return new EntityStore<State>(initialState, options);\n}\n\nexport function createEntityQuery<State extends EntityState>(store: EntityStore<State>, options: QueryConfigOptions = {}) {\n  return new QueryEntity<State>(store, options);\n}\n","import { Inject, NgModule } from '@angular/core';\nimport { FEATURE_EFFECT_INSTANCES } from './tokens';\nimport { ModuleManager } from './module-manager.service';\n\n@NgModule()\nexport class EffectsFeatureModule {\n  constructor(private moduleManager: ModuleManager, @Inject(FEATURE_EFFECT_INSTANCES) featureEffects: any[]) {\n    featureEffects.forEach((group) =>\n      group.forEach((effect) => {\n        this.moduleManager.subscribeToEffects(effect);\n      })\n    );\n  }\n}\n","import { InjectionToken } from '@angular/core';\nimport { isObject } from '@datorama/akita';\nimport { HttpMethod } from './ng-entity-service-notifier';\nimport { NgEntityServiceParams } from './types';\n\nexport interface NgEntityServiceGlobalConfig {\n  baseUrl?: string;\n  httpMethods?: Partial<{\n    GET: HttpMethod;\n    POST: HttpMethod;\n    PATCH: HttpMethod;\n    PUT: HttpMethod;\n    DELETE: HttpMethod;\n  }>;\n}\n\nexport const NG_ENTITY_SERVICE_CONFIG = new InjectionToken<NgEntityServiceGlobalConfig>('NgEntityServiceGlobalConfig');\n\nexport const defaultConfig: NgEntityServiceGlobalConfig = {\n  httpMethods: {\n    GET: HttpMethod.GET,\n    POST: HttpMethod.POST,\n    PATCH: HttpMethod.PATCH,\n    PUT: HttpMethod.PUT,\n    DELETE: HttpMethod.DELETE,\n  },\n};\n\nexport function mergeDeep(target, ...sources) {\n  if (!sources.length) return target;\n  const source = sources.shift();\n\n  if (isObject(target) && isObject(source)) {\n    for (const key in source) {\n      if (isObject(source[key])) {\n        if (!target[key]) Object.assign(target, { [key]: {} });\n        mergeDeep(target[key], source[key]);\n      } else {\n        Object.assign(target, { [key]: source[key] });\n      }\n    }\n  }\n\n  return mergeDeep(target, ...sources);\n}\n\nexport function NgEntityServiceConfig(config: NgEntityServiceParams = {}) {\n  return function (constructor) {\n    if (config.baseUrl) {\n      constructor['baseUrl'] = config.baseUrl;\n    }\n\n    if (config.resourceName) {\n      constructor['resourceName'] = config.resourceName;\n    }\n  };\n}\n","import { Subject } from 'rxjs';\nimport { logAction, setAction } from './actions';\nimport { addEntities, AddEntitiesOptions } from './addEntities';\nimport { coerceArray } from './coerceArray';\nimport { DEFAULT_ID_KEY } from './defaultIDKey';\nimport { EntityAction, EntityActions } from './entityActions';\nimport { isDev } from './env';\nimport { getActiveEntities, SetActiveOptions } from './getActiveEntities';\nimport { getInitialEntitiesState } from './getInitialEntitiesState';\nimport { hasEntity } from './hasEntity';\nimport { isDefined } from './isDefined';\nimport { isEmpty } from './isEmpty';\nimport { isFunction } from './isFunction';\nimport { isNil } from './isNil';\nimport { isUndefined } from './isUndefined';\nimport { removeEntities } from './removeEntities';\nimport { SetEntities, setEntities } from './setEntities';\nimport { Store } from './store';\nimport { StoreConfigOptions } from './storeConfig';\nimport { transaction } from './transaction';\nimport {\n  Constructor,\n  CreateStateCallback,\n  EntityState,\n  EntityUICreateFn,\n  getEntityType,\n  getIDType,\n  IDS,\n  OrArray,\n  StateWithActive,\n  UpdateEntityPredicate,\n  UpdateStateCallback,\n  UpsertStateCallback,\n} from './types';\nimport { updateEntities } from './updateEntities';\n\n/**\n *\n * Store for managing a collection of entities\n *\n * @example\n *\n * export interface WidgetsState extends EntityState<Widget> { }\n *\n * @StoreConfig({ name: 'widgets' })\n *  export class WidgetsStore extends EntityStore<WidgetsState> {\n *   constructor() {\n *     super();\n *   }\n * }\n *\n *\n */\nexport class EntityStore<S extends EntityState = any, EntityType = getEntityType<S>, IDType = getIDType<S>> extends Store<S> {\n  ui: EntityUIStore<any, EntityType>;\n  private entityActions = new Subject<EntityAction<IDType>>();\n  private entityIdChanges = new Subject<{ newId: IDType; oldId: IDType; pending: boolean }>();\n\n  constructor(initialState: Partial<S> = {}, protected options: Partial<StoreConfigOptions> = {}) {\n    super({ ...getInitialEntitiesState(), ...initialState }, options);\n  }\n\n  // @internal\n  get selectEntityAction$() {\n    return this.entityActions.asObservable();\n  }\n\n  // @internal\n  get selectEntityIdChanges$() {\n    return this.entityIdChanges.asObservable();\n  }\n\n  // @internal\n  get idKey() {\n    return (this.config as StoreConfigOptions).idKey || this.options.idKey || DEFAULT_ID_KEY;\n  }\n\n  /**\n   *\n   * Replace current collection with provided collection\n   *\n   * @example\n   *\n   * this.store.set([Entity, Entity])\n   * this.store.set({ids: [], entities: {}})\n   * this.store.set({ 1: {}, 2: {}})\n   *\n   */\n  set(entities: SetEntities<EntityType>, options: { activeId?: IDType | null } = {}) {\n    if (isNil(entities)) return;\n\n    isDev() && setAction('Set Entity');\n\n    const isNativePreAdd = this.akitaPreAddEntity === EntityStore.prototype.akitaPreAddEntity;\n    this.setHasCache(true, { restartTTL: true });\n\n    this._setState((state) => {\n      const newState = setEntities({\n        state,\n        entities,\n        idKey: this.idKey,\n        preAddEntity: this.akitaPreAddEntity,\n        isNativePreAdd,\n      });\n\n      if (isUndefined(options.activeId) === false) {\n        (newState as any).active = options.activeId;\n      }\n\n      return newState;\n    });\n\n    if (this.hasInitialUIState()) {\n      this.handleUICreation();\n    }\n\n    this.entityActions.next({ type: EntityActions.Set, ids: this.ids });\n  }\n\n  /**\n   * Add entities\n   *\n   * @example\n   *\n   * this.store.add([Entity, Entity])\n   * this.store.add(Entity)\n   * this.store.add(Entity, { prepend: true })\n   *\n   * this.store.add(Entity, { loading: false })\n   */\n  add(entities: OrArray<EntityType>, options: AddEntitiesOptions = { loading: false }) {\n    const collection = coerceArray(entities);\n\n    if (isEmpty(collection)) return;\n\n    const data = addEntities({\n      state: this._value(),\n      preAddEntity: this.akitaPreAddEntity,\n      entities: collection,\n      idKey: this.idKey,\n      options,\n    });\n\n    if (data) {\n      isDev() && setAction('Add Entity');\n      data.newState.loading = options.loading;\n\n      this._setState(() => data.newState);\n\n      if (this.hasInitialUIState()) {\n        this.handleUICreation(true);\n      }\n\n      this.entityActions.next({ type: EntityActions.Add, ids: data.newIds });\n    }\n  }\n\n  /**\n   *\n   * Update entities\n   *\n   * @example\n   *\n   * store.update(1, entity => ...)\n   * store.update([1, 2, 3], entity => ...)\n   * store.update(null, entity => ...)\n   */\n  update(id: OrArray<IDType> | null, newStateFn: UpdateStateCallback<EntityType>);\n  /**\n   * store.update(1, { name: newName })\n   */\n  update(id: OrArray<IDType> | null, newState: Partial<EntityType>);\n  /**\n   * store.update(entity => entity.price > 3, entity => ({ name: newName }))\n   */\n  update(predicate: UpdateEntityPredicate<EntityType>, newStateFn: UpdateStateCallback<EntityType>);\n  /**\n   * store.update(entity => entity.price > 3, { name: newName })\n   */\n  update(predicate: UpdateEntityPredicate<EntityType>, newState: Partial<EntityType>);\n  /** Support non-entity updates */\n  update(newState: UpdateStateCallback<S>);\n  update(newState: Partial<S>);\n  update(\n    idsOrFnOrState: OrArray<IDType> | null | Partial<S> | UpdateStateCallback<S> | UpdateEntityPredicate<EntityType>,\n    newStateOrFn?: UpdateStateCallback<EntityType> | Partial<EntityType> | Partial<S>\n  ) {\n    if (isUndefined(newStateOrFn)) {\n      super.update(idsOrFnOrState as Partial<S>);\n      return;\n    }\n    let ids: IDType[] = [];\n\n    if (isFunction(idsOrFnOrState)) {\n      // We need to filter according the predicate function\n      ids = this.ids.filter((id) => (idsOrFnOrState as UpdateEntityPredicate<EntityType>)(this.entities[id]));\n    } else {\n      // If it's nil we want all of them\n      ids = isNil(idsOrFnOrState) ? this.ids : coerceArray(idsOrFnOrState as OrArray<IDType>);\n    }\n\n    if (isEmpty(ids)) return;\n\n    isDev() && setAction('Update Entity', ids);\n\n    let entityIdChanged:\n      | undefined\n      | {\n          newId: IDType;\n          oldId: IDType;\n        };\n\n    this._setState((state) =>\n      updateEntities({\n        idKey: this.idKey,\n        ids,\n        preUpdateEntity: this.akitaPreUpdateEntity,\n        state,\n        newStateOrFn,\n        producerFn: this._producerFn,\n        onEntityIdChanges: (oldId: IDType, newId: IDType) => {\n          entityIdChanged = { oldId, newId };\n          this.entityIdChanges.next({ ...entityIdChanged, pending: true });\n        },\n      })\n    );\n\n    if (entityIdChanged) {\n      this.entityIdChanges.next({ ...entityIdChanged, pending: false });\n    }\n\n    this.entityActions.next({ type: EntityActions.Update, ids });\n  }\n\n  /**\n   *\n   * Create or update.\n   *\n   * Warning: By omitting the initializing callback parameter onCreate(), the type safety of entities cannot be guaranteed.\n   *\n   * @example\n   *\n   * store.upsert(1, { active: true });\n   * store.upsert([2, 3], { active: true });\n   * store.upsert([2, 3], entity => ({ isOpen: !(entity?.isOpen ?? true) }))\n   *\n   */\n  upsert<NewEntityType extends Partial<EntityType>>(ids: OrArray<IDType>, newState: UpsertStateCallback<EntityType, NewEntityType> | NewEntityType, options?: { baseClass?: Constructor }): void;\n  /**\n   *\n   * Create or update\n   *\n   * @example\n   *\n   * store.upsert(1, { active: true }, (id, newState) => ({ id, ...newState, enabled: true }));\n   * store.upsert([2, 3], { active: true }, (id, newState) => ({ id, ...newState, enabled: true }));\n   * store.upsert([2, 3], entity => ({ isOpen: !(entity?.isOpen ?? true) }), (id, newState) => ({ id, ...newState, enabled: true }));\n   *\n   */\n  upsert<NewEntityType extends Partial<EntityType>>(\n    ids: OrArray<IDType>,\n    newState: UpsertStateCallback<EntityType, NewEntityType> | NewEntityType,\n    onCreate: CreateStateCallback<EntityType, NewEntityType, IDType>,\n    options?: { baseClass?: Constructor }\n  ): void;\n  @transaction()\n  upsert<NewEntityType extends Partial<EntityType>>(\n    ids: OrArray<IDType>,\n    newState: UpsertStateCallback<EntityType, NewEntityType> | NewEntityType,\n    onCreate?: CreateStateCallback<EntityType, NewEntityType, IDType> | { baseClass?: Constructor },\n    options: { baseClass?: Constructor } = {}\n  ) {\n    const toArray = coerceArray(ids);\n    const predicate = (isUpdate) => (id) => hasEntity(this.entities, id) === isUpdate;\n    const baseClass = isFunction(onCreate) ? options.baseClass : onCreate ? onCreate.baseClass : undefined;\n    const isClassBased = isFunction(baseClass);\n\n    const updateIds = toArray.filter(predicate(true));\n    const newEntities = toArray.filter(predicate(false)).map((id) => {\n      const newStateObj = typeof newState === 'function' ? newState({}) : newState;\n      const entity = isFunction(onCreate) ? onCreate(id, newStateObj) : newStateObj;\n      const withId = { ...entity, [this.idKey]: id };\n      if (isClassBased) {\n        return new baseClass(withId);\n      }\n      return withId;\n    });\n\n    // it can be any of the three types\n    this.update(updateIds, newState as UpdateStateCallback<EntityType, NewEntityType>);\n    this.add(newEntities);\n    isDev() && logAction('Upsert Entity');\n  }\n\n  /**\n   *\n   * Upsert entity collection (idKey must be present)\n   *\n   * @example\n   *\n   * store.upsertMany([ { id: 1 }, { id: 2 }]);\n   *\n   * store.upsertMany([ { id: 1 }, { id: 2 }], { loading: true  });\n   * store.upsertMany([ { id: 1 }, { id: 2 }], { baseClass: Todo  });\n   *\n   */\n  upsertMany(entities: EntityType[], options: { baseClass?: Constructor; loading?: boolean } = {}) {\n    const addedIds = [];\n    const updatedIds = [];\n    const updatedEntities = {};\n\n    // Update the state directly to optimize performance\n    for (const entity of entities) {\n      const withPreCheckHook = this.akitaPreCheckEntity(entity);\n      const id = withPreCheckHook[this.idKey];\n      if (hasEntity(this.entities, id)) {\n        const prev = this._value().entities[id];\n        const merged = { ...this._value().entities[id], ...withPreCheckHook };\n        const next = options.baseClass ? new options.baseClass(merged) : merged;\n        const withHook = this.akitaPreUpdateEntity(prev, next);\n        const nextId = withHook[this.idKey];\n        updatedEntities[nextId] = withHook;\n        updatedIds.push(nextId);\n      } else {\n        const newEntity = options.baseClass ? new options.baseClass(withPreCheckHook) : withPreCheckHook;\n        const withHook = this.akitaPreAddEntity(newEntity);\n        const nextId = withHook[this.idKey];\n        addedIds.push(nextId);\n        updatedEntities[nextId] = withHook;\n      }\n    }\n\n    isDev() && logAction('Upsert Many');\n\n    this._setState((state) => ({\n      ...state,\n      ids: addedIds.length ? [...state.ids, ...addedIds] : state.ids,\n      entities: {\n        ...state.entities,\n        ...updatedEntities,\n      },\n      loading: !!options.loading,\n    }));\n\n    updatedIds.length && this.entityActions.next({ type: EntityActions.Update, ids: updatedIds });\n    addedIds.length && this.entityActions.next({ type: EntityActions.Add, ids: addedIds });\n    if (addedIds.length && this.hasUIStore()) {\n      this.handleUICreation(true);\n    }\n  }\n\n  /**\n   *\n   * Replace one or more entities (except the id property)\n   *\n   *\n   * @example\n   *\n   * this.store.replace(5, newEntity)\n   * this.store.replace([1,2,3], newEntity)\n   */\n  replace(ids: IDS, newState: Partial<EntityType>) {\n    const toArray = coerceArray(ids);\n    if (isEmpty(toArray)) return;\n    const replaced = {};\n    for (const id of toArray) {\n      replaced[id] = { ...newState, [this.idKey]: id };\n    }\n    isDev() && setAction('Replace Entity', ids);\n    this._setState((state) => ({\n      ...state,\n      entities: {\n        ...state.entities,\n        ...replaced,\n      },\n    }));\n  }\n\n  /**\n   *\n   * Move entity inside the collection\n   *\n   *\n   * @example\n   *\n   * this.store.move(fromIndex, toIndex)\n   */\n  move(from: number, to: number) {\n    const ids = this.ids.slice();\n    ids.splice(to < 0 ? ids.length + to : to, 0, ids.splice(from, 1)[0]);\n\n    isDev() && setAction('Move Entity');\n    this._setState((state) => ({\n      ...state,\n      // Change the entities reference so that selectAll emit\n      entities: {\n        ...state.entities,\n      },\n      ids,\n    }));\n  }\n\n  /**\n   *\n   * Remove one or more entities\n   *\n   * @example\n   *\n   * this.store.remove(5)\n   * this.store.remove([1,2,3])\n   * this.store.remove()\n   */\n  remove(id?: OrArray<IDType>);\n  /**\n   * this.store.remove(entity => entity.id === 1)\n   */\n  remove(predicate: (entity: Readonly<EntityType>) => boolean);\n  remove(idsOrFn?: OrArray<IDType> | ((entity: Readonly<EntityType>) => boolean)) {\n    if (isEmpty(this.ids)) return;\n\n    const idPassed = isDefined(idsOrFn);\n\n    // null means remove all\n    let ids: IDType[] | null = [];\n\n    if (isFunction(idsOrFn)) {\n      ids = this.ids.filter((entityId) => idsOrFn(this.entities[entityId]));\n    } else {\n      ids = idPassed ? coerceArray(idsOrFn) : this.ids;\n    }\n\n    if (isEmpty(ids)) return;\n\n    isDev() && setAction('Remove Entity', ids);\n    this._setState((state: StateWithActive<S>) => removeEntities({ state, ids }));\n\n    if (!idPassed) {\n      this.setHasCache(false);\n    }\n\n    this.handleUIRemove(ids);\n    this.entityActions.next({ type: EntityActions.Remove, ids });\n  }\n\n  /**\n   *\n   * Update the active entity\n   *\n   * @example\n   *\n   * this.store.updateActive({ completed: true })\n   * this.store.updateActive(active => {\n   *   return {\n   *     config: {\n   *      ..active.config,\n   *      date\n   *     }\n   *   }\n   * })\n   */\n  updateActive(newStateOrCallback: UpdateStateCallback<EntityType> | Partial<EntityType>) {\n    const ids = coerceArray(this.active);\n    isDev() && setAction('Update Active', ids);\n    this.update(ids, newStateOrCallback as Partial<EntityType>);\n  }\n\n  /**\n   * Set the given entity as active\n   *\n   * @example\n   *\n   * store.setActive(1)\n   * store.setActive([1, 2, 3])\n   */\n  setActive(idOrOptions: S['active'] extends any[] ? S['active'] : SetActiveOptions | S['active']);\n  setActive(idOrOptions: IDType | SetActiveOptions | null) {\n    const active = getActiveEntities(idOrOptions, this.ids, this.active);\n\n    if (active === undefined) {\n      return;\n    }\n\n    isDev() && setAction('Set Active', active);\n    this._setActive(active);\n  }\n\n  /**\n   * Add active entities\n   *\n   * @example\n   *\n   * store.addActive(2);\n   * store.addActive([3, 4, 5]);\n   */\n  addActive<T = OrArray<IDType>>(ids: T) {\n    const toArray = coerceArray(ids);\n    if (isEmpty(toArray)) return;\n    const everyExist = toArray.every((id) => this.active.indexOf(id) > -1);\n    if (everyExist) return;\n\n    isDev() && setAction('Add Active', ids);\n    this._setState((state) => {\n      /** Protect against case that one of the items in the array exist */\n      const uniques = Array.from(new Set([...(state.active as IDType[]), ...toArray]));\n      return {\n        ...state,\n        active: uniques,\n      };\n    });\n  }\n\n  /**\n   * Remove active entities\n   *\n   * @example\n   *\n   * store.removeActive(2)\n   * store.removeActive([3, 4, 5])\n   */\n  removeActive<T = OrArray<IDType>>(ids: T) {\n    const toArray = coerceArray(ids);\n    if (isEmpty(toArray)) return;\n    const someExist = toArray.some((id) => this.active.indexOf(id) > -1);\n    if (!someExist) return;\n\n    isDev() && setAction('Remove Active', ids);\n    this._setState((state) => {\n      return {\n        ...state,\n        active: Array.isArray(state.active) ? state.active.filter((currentId) => toArray.indexOf(currentId) === -1) : null,\n      };\n    });\n  }\n\n  /**\n   * Toggle active entities\n   *\n   * @example\n   *\n   * store.toggle(2)\n   * store.toggle([3, 4, 5])\n   */\n  @transaction()\n  toggleActive<T = OrArray<IDType>>(ids: T) {\n    const toArray = coerceArray(ids);\n    const filterExists = (remove) => (id) => this.active.includes(id) === remove;\n    const remove = toArray.filter(filterExists(true));\n    const add = toArray.filter(filterExists(false));\n    this.removeActive(remove);\n    this.addActive(add);\n    isDev() && logAction('Toggle Active');\n  }\n\n  /**\n   *\n   * Create sub UI store for managing Entity's UI state\n   *\n   * @example\n   *\n   * export type ProductUI = {\n   *   isLoading: boolean;\n   *   isOpen: boolean\n   * }\n   *\n   * interface ProductsUIState extends EntityState<ProductUI> {}\n   *\n   * export class ProductsStore EntityStore<ProductsState, Product> {\n   *   ui: EntityUIStore<ProductsUIState, ProductUI>;\n   *\n   *   constructor() {\n   *     super();\n   *     this.createUIStore();\n   *   }\n   *\n   * }\n   */\n  createUIStore(initialState = {}, storeConfig: Partial<StoreConfigOptions> = {}) {\n    const defaults: Partial<StoreConfigOptions> = { name: `UI/${this.storeName}`, idKey: this.idKey };\n    this.ui = new EntityUIStore(initialState, { ...defaults, ...storeConfig });\n    return this.ui;\n  }\n\n  // @internal\n  destroy() {\n    super.destroy();\n    if (this.ui instanceof EntityStore) {\n      this.ui.destroy();\n    }\n    this.entityActions.complete();\n  }\n\n  // @internal\n  akitaPreUpdateEntity(_: Readonly<EntityType>, nextEntity: any): EntityType {\n    return nextEntity as EntityType;\n  }\n\n  // @internal\n  akitaPreAddEntity(newEntity: any): EntityType {\n    return newEntity as EntityType;\n  }\n\n  // @internal\n  akitaPreCheckEntity(newEntity: Readonly<EntityType>): EntityType {\n    return newEntity;\n  }\n\n  private get ids() {\n    return this._value().ids;\n  }\n\n  private get entities() {\n    return this._value().entities;\n  }\n\n  private get active() {\n    return this._value().active;\n  }\n\n  private _setActive(ids: OrArray<IDType>) {\n    this._setState((state) => {\n      return {\n        ...state,\n        active: ids,\n      };\n    });\n  }\n\n  private handleUICreation(add = false) {\n    const ids = this.ids;\n    const isFunc = isFunction(this.ui._akitaCreateEntityFn);\n    let uiEntities;\n    const createFn = (id) => {\n      const current = this.entities[id];\n      const ui = isFunc ? this.ui._akitaCreateEntityFn(current) : this.ui._akitaCreateEntityFn;\n      return {\n        [this.idKey]: current[this.idKey],\n        ...ui,\n      };\n    };\n\n    if (add) {\n      uiEntities = this.ids.filter((id) => isUndefined(this.ui.entities[id])).map(createFn);\n    } else {\n      uiEntities = ids.map(createFn);\n    }\n\n    add ? this.ui.add(uiEntities) : this.ui.set(uiEntities);\n  }\n\n  private hasInitialUIState() {\n    return this.hasUIStore() && isUndefined(this.ui._akitaCreateEntityFn) === false;\n  }\n\n  private handleUIRemove(ids: IDType[]) {\n    if (this.hasUIStore()) {\n      this.ui.remove(ids);\n    }\n  }\n\n  private hasUIStore() {\n    return this.ui instanceof EntityUIStore;\n  }\n}\n\n// @internal\nexport class EntityUIStore<UIState, DEPRECATED = any> extends EntityStore<UIState> {\n  _akitaCreateEntityFn: EntityUICreateFn;\n\n  constructor(initialState = {}, storeConfig: Partial<StoreConfigOptions> = {}) {\n    super(initialState, storeConfig);\n  }\n\n  /**\n   *\n   * Set the initial UI entity state. This function will determine the entity's\n   * initial state when we call `set()` or `add()`.\n   *\n   * @example\n   *\n   * constructor() {\n   *   super();\n   *   this.createUIStore().setInitialEntityState(entity => ({ isLoading: false, isOpen: true }));\n   *   this.createUIStore().setInitialEntityState({ isLoading: false, isOpen: true });\n   * }\n   *\n   */\n  setInitialEntityState<EntityUI = any, Entity = any>(createFn: EntityUICreateFn<EntityUI, Entity>) {\n    this._akitaCreateEntityFn = createFn;\n  }\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { ProductsModule } from './products/products.module';\nimport { CartModule } from './cart/cart.module';\nimport { ProductPageComponent } from './product-page/product-page.component';\nimport { NavComponent } from './nav/nav.component';\nimport { AuthModule } from './auth/auth.module';\nimport { AuthGuard } from './auth/auth.guard';\nimport { HttpMethod, NG_ENTITY_SERVICE_CONFIG, NgEntityServiceGlobalConfig } from '@datorama/akita-ng-entity-service';\nimport { AkitaNgRouterStoreModule } from '@datorama/akita-ng-router-store';\nimport { AkitaNgDevtools } from '@datorama/akita-ngdevtools';\nimport { CartEffects } from './cart/state/cart.effects';\nimport { AkitaNgEffectsModule } from '@datorama/akita-ng-effects';\n\n@NgModule({\n  declarations: [AppComponent, NavComponent, ProductPageComponent],\n  imports: [\n    BrowserModule,\n    ReactiveFormsModule,\n    AppRoutingModule,\n    HttpClientModule,\n    BrowserAnimationsModule,\n    ProductsModule,\n    CartModule,\n    AuthModule,\n    AkitaNgRouterStoreModule,\n    AkitaNgDevtools.forRoot(),\n    AkitaNgEffectsModule.forRoot([CartEffects]),\n  ],\n  providers: [\n    AuthGuard,\n    {\n      provide: NG_ENTITY_SERVICE_CONFIG,\n      useFactory: function () {\n        return {\n          baseUrl: 'https://jsonplaceholder.typicode.com',\n          httpMethods: {\n            PUT: HttpMethod.PATCH,\n          },\n        } as NgEntityServiceGlobalConfig;\n      },\n      deps: [],\n    },\n  ],\n  bootstrap: [AppComponent],\n})\nexport class AppModule {}\n","// @internal\nexport function isFunction(value: any): value is Function {\n  return typeof value === 'function';\n}\n","import { __stores__ } from './stores';\nimport { applyTransaction } from './transaction';\n\nexport interface ResetStoresParams {\n  exclude: string[];\n}\n\n/**\n * Reset stores back to their initial state\n *\n * @example\n *\n * resetStores()\n * resetStores({\n *   exclude: ['auth']\n * })\n */\nexport function resetStores(options?: Partial<ResetStoresParams>) {\n  const defaults: ResetStoresParams = {\n    exclude: []\n  };\n\n  options = Object.assign({}, defaults, options);\n  const stores = Object.keys(__stores__);\n\n  applyTransaction(() => {\n    for (const store of stores) {\n      const s = __stores__[store];\n      if (!options.exclude) {\n        s.reset();\n      } else {\n        if (options.exclude.indexOf(s.storeName) === -1) {\n          s.reset();\n        }\n      }\n    }\n  });\n}\n","import { isUndefined } from './isUndefined';\nimport { isString } from './isString';\nimport { ItemPredicate } from './types';\n\n// @internal\nexport function findEntityByPredicate<E>(predicate: ItemPredicate<E>, entities) {\n    for(const entityId of Object.keys(entities)) {\n      if(predicate(entities[entityId]) === true) {\n        return entityId;\n      }\n    }\n\n    return undefined;\n}\n\n// @internal\nexport function getEntity( id, project ) {\n  return function(entities) {\n    const entity = entities[id];\n\n    if(isUndefined(entity)) {\n      return undefined;\n    }\n\n    if(!project) {\n      return entity;\n    }\n\n    if(isString(project)) {\n      return entity[project];\n    }\n\n    return (project as Function)(entity);\n  };\n\n}\n","import { isArray } from './isArray';\n\n// @internal\nexport function isEmpty<T>(arr: T) {\n  if (isArray(arr)) {\n    return arr.length === 0;\n  }\n  return false;\n}\n","import { Injectable } from '@angular/core';\nimport { CartState, CartStore } from './cart.store';\nimport { combineLatest } from 'rxjs';\nimport { map, shareReplay } from 'rxjs/operators';\nimport { QueryEntity } from '@datorama/akita';\nimport { ProductsQuery } from '../../products/state/products.query';\n\n@Injectable({ providedIn: 'root' })\nexport class CartQuery extends QueryEntity<CartState> {\n  constructor(protected store: CartStore, private productsQuery: ProductsQuery) {\n    super(store);\n  }\n\n  selectItems$ = combineLatest([this.selectAll(), this.productsQuery.selectAll({ asObject: true })]).pipe(map(joinItems), shareReplay({ bufferSize: 1, refCount: true }));\n\n  selectTotal$ = this.selectItems$.pipe(map(items => items.reduce((acc, item) => acc + item.total, 0)));\n\n  selectNotification$ = this.select((state) => state.notify);\n}\n\nfunction joinItems([cartItems, products]) {\n  return cartItems.map(cartItem => {\n    const product = products[cartItem.productId];\n    return {\n      ...cartItem,\n      ...product,\n      total: cartItem.quantity * product.price\n    };\n  });\n}\n","export enum Order {\n  ASC = 'asc',\n  DESC = 'desc'\n}\n\n// @internal\nexport function compareValues(key, order: Order = Order.ASC) {\n  return function(a, b) {\n    if (!a.hasOwnProperty(key) || !b.hasOwnProperty(key)) {\n      return 0;\n    }\n\n    const varA = typeof a[key] === 'string' ? a[key].toUpperCase() : a[key];\n    const varB = typeof b[key] === 'string' ? b[key].toUpperCase() : b[key];\n\n    let comparison = 0;\n    if (varA > varB) {\n      comparison = 1;\n    } else if (varA < varB) {\n      comparison = -1;\n    }\n    return order == Order.DESC ? comparison * -1 : comparison;\n  };\n}\n","/**\n * Create an array value comparator for a specific key of the value.\n * @param prop The property of the value to be compared.\n */\nexport function byKey<T>(prop: keyof T) {\n  return (a: T, b: T) => a[prop] === b[prop];\n}\n\n/**\n * Create an array value comparator for the id field of an array value.\n */\nexport function byId<T extends Record<'id', any>>() {\n  return byKey<T>('id');\n}\n\n/**\n * Adds or removes a value from an array by comparing its values. If a matching value exists it is removed, otherwise\n * it is added to the array.\n *\n * @param array The array to modify.\n * @param newValue The new value to toggle.\n * @param compare A compare function to determine equality of array values. Default is an equality test by object identity.\n */\nexport function arrayToggle<T>(array: T[], newValue: T, compare: (a: T, b: T) => boolean = (a, b) => a === b) {\n  const index = array.findIndex((oldValue) => compare(newValue, oldValue));\n  return !!~index ? [...array.slice(0, index), ...array.slice(index + 1)] : [...array, newValue];\n}\n","// @internal\nexport function sortByOptions(options, config) {\n  options.sortBy = options.sortBy || (config && config.sortBy);\n  options.sortByOrder = options.sortByOrder || (config && config.sortByOrder);\n}\n","import { Component } from '@angular/core';\nimport { RouterQuery } from '@datorama/akita-ng-router-store';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html'\n})\nexport class AppComponent {\n  constructor(r: RouterQuery) {\n    // r.select().subscribe(console.log);\n  }\n}\n","<section class=\"flex flex-column height\">\n  <app-nav class=\"block\"></app-nav>\n  <div class=\"flex-1\">\n    <router-outlet></router-outlet>\n  </div>\n  <footer class=\"page-footer cyan lighten-2\">\n    <div class=\"footer-copyright\">\n      <div class=\"container\">\n        © 2018 Copyright Datorama\n      </div>\n    </div>\n  </footer>\n</section>\n","import { ReplaySubject, Subject } from 'rxjs';\nimport { StoreSnapshotAction } from './actions';\n\n// @internal\nexport const $$deleteStore = new Subject<string>();\n// @internal\nexport const $$addStore = new ReplaySubject<string>(50, 5000);\n// @internal\nexport const $$updateStore = new Subject<{ storeName: string; action: StoreSnapshotAction }>();\n\n// @internal\nexport function dispatchDeleted(storeName: string) {\n  $$deleteStore.next(storeName);\n}\n\n// @internal\nexport function dispatchAdded(storeName: string) {\n  $$addStore.next(storeName);\n}\n\n// @internal\nexport function dispatchUpdate(storeName: string, action: StoreSnapshotAction) {\n  $$updateStore.next({ storeName, action });\n}\n"],"sourceRoot":"webpack:///"}