{"version":3,"sources":["webpack:///apps/angular-store-app/src/app/todos-app/state/todo.model.ts","webpack:///apps/angular-store-app/src/app/todos-app/todo/todo.component.ts","webpack:///apps/angular-store-app/src/app/todos-app/todo/todo.component.html","webpack:///apps/angular-store-app/src/app/todos-app/filter/todos-filters.component.ts","webpack:///apps/angular-store-app/src/app/todos-app/todos-page/todos-page.component.ts","webpack:///apps/angular-store-app/src/app/todos-app/todos-page/todos-page.component.html","webpack:///apps/angular-store-app/src/app/todos-app/state/todos.query.ts","webpack:///apps/angular-store-app/src/app/todos-app/filter/filter.model.ts","webpack:///apps/angular-store-app/src/app/todos-app/state/todos.service.ts","webpack:///apps/angular-store-app/src/app/todos-app/todos/todos.component.ts","webpack:///apps/angular-store-app/src/app/todos-app/state/todos.store.ts","webpack:///apps/angular-store-app/src/app/todos-app/todos.module.ts"],"names":["createTodo","title","id","completed","TodoComponent","complete","control","todo","valueChanges","pipe","subscribe","emit","selector","templateUrl","changeDetection","OnPush","TodosFiltersComponent","update","_active","c","filter","patchValue","emitEvent","template","active","filters","TodosPageComponent","todosQuery","todosService","todos$","selectVisibleTodos$","activeFilter$","selectVisibilityFilter$","checkAll$","numCompleted","getCount","stateHistory","stateHistoryEntity","index","move","undo","redo","input","add","value","ignoreNext","event","_todo","target","checked","updateFilter","checkAll","_","changeFilter","trackBy","styleUrls","TodosQuery","store","select","state","ui","selectAll","todos","getVisibleTodos","selectCount","entity","SHOW_COMPLETED","t","SHOW_ACTIVE","providedIn","VISIBILITY_FILTER","initialFilters","label","SHOW_ALL","TodosService","todosStore","remove","console","log","TodosComponent","TodosStore","name","routes","path","component","TodosModule","forChild","imports","exports","declarations"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAQO,eAASA,UAAT,CAAoBC,KAApB,EAA0C;AAC/C,eAAO;AACLC,YAAE,EAAE,8DADC;AAELD,eAAK,EAALA,KAFK;AAGLE,mBAAS,EAAE;AAHN,SAAP;AAKD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCFYC,aAAa;;;;AAIxB,eAAAC,QAAA,GAAW,IAAI,0DAAJ,EAAX;AAEA,2BAAS,IAAI,0DAAJ,EAAT;AAaD;;AAnByB;AAAA;AAAA,qCAUb;AAAA;;AACT,iBAAKC,OAAL,GAAe,IAAI,0DAAJ,CAAgB,KAAKC,IAAL,CAAUJ,SAA1B,CAAf;AAEA,iBAAKG,OAAL,CAAaE,YAAb,CAA0BC,IAA1B,CAA+B,6EAAe,IAAf,CAA/B,EAAqDC,SAArD,CAA+D,UAACP,SAAD,EAAwB;AACrF,mBAAI,CAACE,QAAL,CAAcM,IAAd,CAAmB,MAAD,OAAC,CAAD,kBAAM,KAAI,CAACJ,IAAX,CAAC,EAAc;AAAEJ,yBAAS,EAATA;AAAF,eAAd,CAAnB;AACD,aAFD;AAGD;AAhBuB;AAAA;AAAA,wCAkBb,CAAW;AAlBE;;AAAA;AAAA,S;;;yBAAbC,a;AAAa,O;;;cAAbA,a;AAAa,iC;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA;AAAA,S;AAAA,gB;AAAA,e;AAAA,0N;AAAA;AAAA;ACZ1B;;AACE;;AACE;;AACE;;AACA;;AACF;;AACA;;AACF;;AACA;;AACE;;AAA0B;AAAA,qBAAS,+BAAT;AAA6B,aAA7B;;AAA+B;;AAAc;;AACzE;;AACF;;;;AAR6B;;AAAA;;AAGzB;;AAAA;;;;;;;ADMSA,mBAAa,6DANzB,4EAMyB,GAAbA,aAAa,CAAb;;;;wEAAAA,a,EAAa;gBALzB,uDAKyB;iBALf;AACTQ,oBAAQ,EAAE,UADD;AAETC,uBAAW,EAAE,uBAFJ;AAGTC,2BAAe,EAAE,sEAAwBC;AAHhC,W;AAKe,U;AAExBR,cAAI,EAAE,CAAF;kBADH;AACG,WAAE,C;AAENF,kBAAQ;kBADP;AACO,Y;AAER,oBAAM;kBADL;AACK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEPA;;AAAgE;;AAAkB;;;;;;AAA3C;;AAAyB;;AAAA;;;;UAM3DW,qBAAqB;;;;AAYhC,eAAAC,MAAA,GAAS,IAAI,0DAAJ,EAAT;AAaD;;AAzBiC;AAAA;AAAA,qCAgBrB;AAAA;;AACT,iBAAKX,OAAL,GAAe,IAAI,0DAAJ,CAAgB,KAAKY,OAArB,CAAf;AAEA,iBAAKZ,OAAL,CAAaE,YAAb,CAA0BC,IAA1B,CAA+B,6EAAe,IAAf,CAA/B,EAAqDC,SAArD,CAA+D,UAACS,CAAD,EAAO;AACpE,oBAAI,CAACF,MAAL,CAAYN,IAAZ,CAAiBQ,CAAjB;AACD,aAFD;AAGD;AAtB+B;AAAA;AAAA,wCAwBlB,CAAE;AAxBgB;AAAA;AAAA,4BAGrBC,MAHqB,EAGM;AACpC,iBAAKF,OAAL,GAAeE,MAAf;;AACA,gBAAI,KAAKd,OAAT,EAAkB;AAChB,mBAAKA,OAAL,CAAae,UAAb,CAAwBD,MAAxB,EAAgC;AAAEE,yBAAS,EAAE;AAAb,eAAhC;AACD;AACF;AAR+B;;AAAA;AAAA,S;;;yBAArBN,qB;AAAqB,O;;;cAArBA,qB;AAAqB,0C;AAAA;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA,S;AAAA,gB;AAAA,e;AAAA,mJ;AAAA;AAAA;AAR9B;;AACE;;AACE;;AACF;;AACF;;;;AAHU;;AAAA;;AACqB;;AAAA;;;;;;;AAMtBA,2BAAqB,6DAZjC,4EAYiC,GAArBA,qBAAqB,CAArB;;;;wEAAAA,qB,EAAqB;gBAXjC,uDAWiC;iBAXvB;AACTJ,oBAAQ,EAAE,mBADD;AAETW,oBAAQ,2PAFC;AASTT,2BAAe,EAAE,sEAAwBC;AAThC,W;AAWuB,U;AAG5BS,gBAAM;kBADT;AACS,Y;AAOVC,iBAAO,EAAE,CAAF;kBADN;AACM,WAAE,C;AAETR,gBAAM;kBADL;AACK;;;;;;;;;;;;;;;;;;;AC7BR;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACmDM;;AACE;;AAAI;;AAAW;;AACf;;AAAI;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAwB;;AAAc;;AAC1C;;AACE;;AACE;;AAAkD;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAlD;;AACA;;AACF;;AACF;;AACA;;AACE;;AAAgF;;AACG;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAwB;;AAAI;;AAAI;;AACrH;;AACA;;AACE;;AAAkF;;AACG;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAwB;;AAAI;;AAAI;;AACvH;;AACF;;;;;;;;AAhBM;;AAAA;;AACwB;;AAAA;;AAGD;;AAAA;;AAKD;;AAAA;;AAIA;;AAAA;;;;UDnDrBS,kB;AASX,oCAAoBC,UAApB,EAAoDC,YAApD,EAAgF;AAAA;;AAA5D,eAAAD,UAAA,GAAAA,UAAA;AAAgC,eAAAC,YAAA,GAAAA,YAAA;AALpD,eAAAH,OAAA,GAAU,mEAAV;AAKkF;;;;qCAEvE;AAAA;;AACT,iBAAKI,MAAL,GAAc,KAAKF,UAAL,CAAgBG,mBAA9B;AACA,iBAAKC,aAAL,GAAqB,KAAKJ,UAAL,CAAgBK,uBAArC;AACA,iBAAKC,SAAL,GAAiB,KAAKN,UAAL,CAAgBM,SAAhB,CAA0BxB,IAA1B,CAA+B,2DAAI,UAAAyB,YAAY;AAAA,qBAAIA,YAAY,IAAIA,YAAY,KAAK,MAAI,CAACP,UAAL,CAAgBQ,QAAhB,EAArC;AAAA,aAAhB,CAA/B,CAAjB;AACA,iBAAKC,YAAL,GAAoB,IAAI,kEAAJ,CAAuB,KAAKT,UAA5B,CAApB;AACA,iBAAKU,kBAAL,GAA0B,IAAI,wEAAJ,CAA6B,KAAKV,UAAlC,CAA1B;AACD;;;iCAEMW,K,EAAe;AACpB,iBAAKV,YAAL,CAAkBW,IAAlB,CAAuBD,KAAvB;AACD;;;+BAEIpC,E,EAAK;AACR,gBAAI,oEAAYA,EAAZ,CAAJ,EAAqB;AACnB,mBAAKkC,YAAL,CAAkBI,IAAlB;AACD,aAFD,MAEO;AACL,mBAAKH,kBAAL,CAAwBG,IAAxB,CAA6BtC,EAA7B;AACD;AACF;;;+BAEIA,E,EAAK;AACR,gBAAI,oEAAYA,EAAZ,CAAJ,EAAqB;AACnB,mBAAKkC,YAAL,CAAkBK,IAAlB;AACD,aAFD,MAEO;AACL,mBAAKJ,kBAAL,CAAwBI,IAAxB,CAA6BvC,EAA7B;AACD;AACF;;;8BAEGwC,K,EAAyB;AAC3B,iBAAKd,YAAL,CAAkBe,GAAlB,CAAsBD,KAAK,CAACE,KAA5B;AACAF,iBAAK,CAACE,KAAN,GAAc,EAAd;AACD;;;mCAEQrC,I,EAAY;AACnB,iBAAK6B,YAAL,CAAkBS,UAAlB;AACA,iBAAKjB,YAAL,CAAkBvB,QAAlB,CAA2BE,IAA3B;AACD;;;oCAESuC,K,EAAOvC,I,EAAY;AAC3B,gBAAMwC,KAAK,GAAG,MAAH,OAAG,CAAH,kBAAQxC,IAAR,CAAG,EAAS;AAAEJ,uBAAS,EAAE2C,KAAK,CAACE,MAAN,CAAaC;AAA1B,aAAT,CAAd;;AACA,iBAAKrB,YAAL,CAAkBvB,QAAlB,CAA2B0C,KAA3B;AACD;;;kCAEM7C,E,EAAQ;AACb,iBAAK0B,YAAL,WAAyB1B,EAAzB;AACD;;;uCAEYkB,M,EAA2B;AACtC,iBAAKQ,YAAL,CAAkBsB,YAAlB,CAA+B9B,MAA/B;AACD;;;yCAEoB;AAAA,gBAAV4B,MAAU,QAAVA,MAAU;AACnB,iBAAKpB,YAAL,CAAkBuB,QAAlB,CAA2BH,MAAM,CAACC,OAAlC;AACD;;;kCAEOG,C,EAAG7C,I,EAAM;AACf,mBAAOA,IAAI,CAACL,EAAZ;AACD;;;;;;;yBApEUwB,kB,EAAkB,8H,EAAA,kI;AAAA,O;;;cAAlBA,kB;AAAkB,uC;AAAA,iB;AAAA,gB;AAAA,ohB;AAAA;AAAA;;;ACd/B;;AAEE;;AACE;;AAAiC;;AAAS;;AAC1C;;AAEO;AAAA;;AAAA;;AAAA,qBAAiB,IAAAiB,GAAA,KAAjB;AAA2B,aAA3B;;AAFP;;AAGF;;AAEA;;AAAmB;AAAA,qBAAU,IAAAU,YAAA,QAAV;AAA8B,aAA9B;;;;AAGnB;;AAEA;;AACE;;AAAuB;AAAA,qBAAU,IAAAF,QAAA,QAAV;AAA0B,aAA1B;;;;AAAvB;;AACA;;AAAM;;AAAU;;AAClB;;AAEA;;AACW;AAAA,qBAAU,qBAAV;AAAwB,aAAxB,EAAyB,UAAzB,EAAyB;AAAA,qBACb,IAAA9C,QAAA,QADa;AACG,aAD5B;;;;AAEV;;AAED;;AACE;;AAAsF;AAAA,qBAAS,IAAAmC,IAAA,EAAT;AAAe,aAAf;;AAAiB;;AACrG;;AAAgC;;AAAI;;AACtC;;AAEA;;AAAwF;AAAA,qBAAS,IAAAC,IAAA,EAAT;AAAe,aAAf;;AAAiB;;AACvG;;AAAgC;;AAAI;;AACtC;;AAEF;;AAEF;;AAEA;;AACE;;AAAI;;AAAsB;;AAC1B;;AACE;;AACE;;AACE;;AAAI;;AAAE;;AACN;;AAAI;;AAAK;;AACT;;AAAI;;AAAS;;AACb;;AAAI;;AAAI;;AACR;;AAAI;;AAAI;;AACV;;AACF;;AAEA;;AACE;;;;AAkBF;;AACF;;AAEF;;;;AA9DqB;;AAAA,6FAAmB,QAAnB,EAAmB,mFAAnB;;AAKkC;;AAAA;;AAI1C;;AAAA;;AAMoC;;AAAA;;AAIA;;AAAA;;AAsBtB;;AAAA,+JAAmB,cAAnB,EAAmB,IAAAa,OAAnB;;;;;;;;;;wEDrCd5B,kB,EAAkB;gBAL9B,uDAK8B;iBALpB;AACTd,oBAAQ,EAAE,gBADD;AAETC,uBAAW,EAAE,6BAFJ;AAGT0C,qBAAS,EAAE,CAAC,4BAAD;AAHF,W;AAKoB,U;;;;;;;;;;;;;;;;;;;;;;;;AEd/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UASaC,U;;;;;AAWX,4BAAsBC,KAAtB,EAAyC;AAAA;;AAAA;;AACvC,qCAAMA,KAAN;AADoB,iBAAAA,KAAA,GAAAA,KAAA;AAVtB,iBAAAzB,uBAAA,GAA0B,OAAK0B,MAAL,CAAY,UAAAC,KAAK;AAAA,mBAAIA,KAAK,CAACC,EAAN,CAASxC,MAAb;AAAA,WAAjB,CAA1B;AAEA,iBAAAU,mBAAA,GAAsB,2DAAc,CAAC,OAAKE,uBAAN,EAA+B,OAAK6B,SAAL,EAA/B,CAAd,EAAgEpD,IAAhE,CACpB,2DAAI,iBAAqB;AAAA;AAAA,gBAAnBW,MAAmB;AAAA,gBAAX0C,KAAW;;AACvB,mBAAO,OAAKC,eAAL,CAAqB3C,MAArB,EAA6B0C,KAA7B,CAAP;AACD,WAFD,CADoB,CAAtB;AAMA,iBAAA7B,SAAA,GAAY,OAAK+B,WAAL,CAAiB,UAAAC,MAAM;AAAA,mBAAIA,MAAM,CAAC9D,SAAX;AAAA,WAAvB,CAAZ;AAEyC;AAExC;;;;0CAEuBiB,M,EAAQ0C,K,EAAK;AACnC,oBAAQ1C,MAAR;AACE,mBAAK,uEAAkB8C,cAAvB;AACE,uBAAOJ,KAAK,CAAC1C,MAAN,CAAa,UAAA+C,CAAC;AAAA,yBAAIA,CAAC,CAAChE,SAAN;AAAA,iBAAd,CAAP;;AACF,mBAAK,uEAAkBiE,WAAvB;AACE,uBAAON,KAAK,CAAC1C,MAAN,CAAa,UAAA+C,CAAC;AAAA,yBAAI,CAACA,CAAC,CAAChE,SAAP;AAAA,iBAAd,CAAP;;AACF;AACE,uBAAO2D,KAAP;AANJ;AAQD;;;;QAxB6B,2D;;;yBAAnBN,U,EAAU,+G;AAAA,O;;;eAAVA,U;AAAU,iBAAVA,UAAU,K;AAAA,oBADG;;;;;wEACbA,U,EAAU;gBADtB,wDACsB;iBADX;AAAEa,sBAAU,EAAE;AAAd,W;AACW,U;;;;;;;;;;;;;;;;;;;;;;ACTvB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAYC,iBAAZ;;AAAA,iBAAYA,iBAAZ,EAA6B;AAC3B;AACA;AACA;AACD,OAJD,EAAYA,iBAAiB,KAAjBA,iBAAiB,MAA7B;;AAWO,UAAMC,cAAc,GAAiB,CAC1C;AAAEC,aAAK,EAAE,KAAT;AAAgB5B,aAAK,EAAE0B,iBAAiB,CAACG;AAAzC,OAD0C,EAE1C;AAAED,aAAK,EAAE,WAAT;AAAsB5B,aAAK,EAAE0B,iBAAiB,CAACJ;AAA/C,OAF0C,EAG1C;AAAEM,aAAK,EAAE,QAAT;AAAmB5B,aAAK,EAAE0B,iBAAiB,CAACF;AAA5C,OAH0C,CAArC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCJMM,Y;AACX,8BAAoBC,UAApB,EAA4C;AAAA;;AAAxB,eAAAA,UAAA,GAAAA,UAAA;AAA0B;;;;uCAGjCvD,M,EAA2B;AACtC,iBAAKuD,UAAL,CAAgB1D,MAAhB,CAAuB;AACrB2C,gBAAE,EAAE;AACFxC,sBAAM,EAANA;AADE;AADiB,aAAvB;AAKD;;;0CAEiC;AAAA,gBAAvBlB,EAAuB,SAAvBA,EAAuB;AAAA,gBAAnBC,SAAmB,SAAnBA,SAAmB;AAChC,iBAAKwE,UAAL,CAAgB1D,MAAhB,CAAuBf,EAAvB,EAA2B;AAAEC,uBAAS,EAATA;AAAF,aAA3B;AACD;;;8BAEGF,K,EAAe;AACjB,gBAAMM,IAAI,GAAG,+DAAWN,KAAX,CAAb;AACA,iBAAK0E,UAAL,CAAgBhC,GAAhB,CAAoBpC,IAApB;AACD;;;kCAEML,E,EAAQ;AACb,iBAAKyE,UAAL,CAAgBC,MAAhB,CAAuB1E,EAAvB;AACD;;;mCAEQC,S,EAAoB;AAC3B,iBAAKwE,UAAL,CAAgB1D,MAAhB,CAAuB,IAAvB,EAA6B;AAC3Bd,uBAAS,EAATA;AAD2B,aAA7B;AAGD;;;+BAEImC,K,EAAe;AAClBuC,mBAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCxC,KAAlC;AACA,iBAAKqC,UAAL,CAAgBpC,IAAhB,CAAqBD,KAArB,EAA4BA,KAAK,GAAG,CAApC;AACD;;;;;;;yBAlCUoC,Y,EAAY,+G;AAAA,O;;;eAAZA,Y;AAAY,iBAAZA,YAAY,K;AAAA,oBADC;;AAKxB,gEADC,+DAAO,eAAP,CACD,E,iFAAA,E,uFAAA,E,qFAAA,G,sBAAA,E,cAAA,E,IAAA;;;;wEAJWA,Y,EAAY;gBADxB,wDACwB;iBADb;AAAEL,sBAAU,EAAE;AAAd,W;AACa,U;;;;;AAIvBnB,sBAAY;;AAAA,O;;;;;;;;;;;;;;;;;ACXd;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;AASM;;AAEU;AAAA;;AAAA;;AAAA,mBAAU,6BAAV;AAA6B,WAA7B,EAA8B,UAA9B,EAA8B;AAAA;;AAAA;;AAAA,mBAClB,OAAA7C,QAAA,aADkB;AACG,WADjC;;AAEc;;;;;;AAAd;;;;UAKH0E,c,GAdb;AAAA;;AAkBE,aAAA1E,QAAA,GAAW,IAAI,0DAAJ,EAAX;AAEA,yBAAS,IAAI,0DAAJ,EAAT;AACD,O;;;yBAPY0E,c;AAAc,O;;;cAAdA,c;AAAc,kC;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA;AAAA,S;AAAA,gB;AAAA,e;AAAA,2N;AAAA;AAAA;AAXvB;;AACE;;AAA8B;;AAAM;;AACpC;;AAKF;;;;AAL6B;;AAAA;;;;;;;;;;wEASpBA,c,EAAc;gBAd1B,uDAc0B;iBAdhB;AACTnE,oBAAQ,EAAE,WADD;AAETW,oBAAQ,kWAFC;AAYTT,2BAAe,EAAE,sEAAwBC;AAZhC,W;AAcgB,U;AAEzB+C,eAAK,EAAE,CAAF;kBADJ;AACI,WAAE,C;AAEPzD,kBAAQ;kBADP;AACO,Y;AAER,oBAAM;kBADL;AACK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCXK2E,UAAU;AAAA;;AAAA;;AACrB,8BAAc;AAAA;;AAAA,oCACN;AACJpB,cAAE,EAAE;AAAExC,oBAAM,EAAE,uEAAkBqD;AAA5B;AADA,WADM;AAIb;;AALoB;AAAA,QAAS,2DAAT,C;;;yBAAVO,U;AAAU,O;;;eAAVA,U;AAAU,iBAAVA,UAAU,K;AAAA,oBAFG;;AAEbA,gBAAU,6DADtB,oEAAY;AAAEC,YAAI,EAAE;AAAR,OAAZ,CACsB,E,iFAAA,GAAVD,UAAU,CAAV;;;;wEAAAA,U,EAAU;gBAFtB,wDAEsB;iBAFX;AAAEX,sBAAU,EAAE;AAAd,W;AAEW,U;;;;;;;;;;;;;;;;;;;;ACbvB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AASA,UAAMa,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAYaC,W;;;;;cAAAA;;;;2BAAAA,W;AAAW,S;AAAA,kBAJb,CAAC,4DAAD,EAAe,kEAAf,EAAoC,6DAAaC,QAAb,CAAsBJ,MAAtB,CAApC,CAIa;;;;4HAAXG,W,EAAW;AAAA,yBAFP,kEAEO,EAFQ,qEAER,EAFwB,qFAExB,EAF+C,mFAE/C;AAFiE,oBAF7E,4DAE6E,EAF/D,kEAE+D,EAF1C,4DAE0C,CAEjE;AAJuB,oBACnC,qEADmC,EACnB,qFADmB;AAIvB,S;AAHyB,O;;;;;wEAGpCA,W,EAAW;gBALvB,sDAKuB;iBALd;AACRE,mBAAO,EAAE,CAAC,4DAAD,EAAe,kEAAf,EAAoC,6DAAaD,QAAb,CAAsBJ,MAAtB,CAApC,CADD;AAERM,mBAAO,EAAE,CAAC,qEAAD,EAAiB,qFAAjB,CAFD;AAGRC,wBAAY,EAAE,CAAC,kEAAD,EAAgB,qEAAhB,EAAgC,qFAAhC,EAAuD,mFAAvD;AAHN,W;AAKc,U","file":"todos-app-todos-module-es5.js","sourcesContent":["import { guid, ID } from '@datorama/akita';\n\nexport type Todo = {\n  id: ID;\n  title: string;\n  completed: boolean;\n};\n\nexport function createTodo(title: Todo['title']) {\n  return {\n    id: guid(),\n    title,\n    completed: false\n  } as Todo;\n}\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { ID } from '@datorama/akita';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport { Todo } from '../state/todo.model';\n\n@UntilDestroy()\n@Component({\n  selector: 'app-todo',\n  templateUrl: './todo.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TodoComponent implements OnInit, OnDestroy {\n  @Input()\n  todo: Todo;\n  @Output()\n  complete = new EventEmitter<Todo>();\n  @Output()\n  delete = new EventEmitter<ID>();\n\n  control: FormControl;\n\n  ngOnInit() {\n    this.control = new FormControl(this.todo.completed);\n\n    this.control.valueChanges.pipe(untilDestroyed(this)).subscribe((completed: boolean) => {\n      this.complete.emit({ ...this.todo, completed });\n    });\n  }\n\n  ngOnDestroy(): void {}\n}\n","<div class=\"flex align-center sb\">\n  <div class=\"flex\">\n    <label>\n      <input type=\"checkbox\" [formControl]=\"control\"/>\n      <span></span>\n    </label>\n    {{todo.title}}\n  </div>\n  <a class=\"btn waves-effect waves-light red btn-small btn-floating\">\n    <i class=\"material-icons\" (click)=\"delete.emit(todo.id)\">delete_forever</i>\n  </a>\n</div>","import { ChangeDetectionStrategy, Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport { TodoFilter, VISIBILITY_FILTER } from './filter.model';\n\n@UntilDestroy()\n@Component({\n  selector: 'app-todos-filters',\n  template: `\n    <div class=\"input-field col s12\">\n      <select [formControl]=\"control\" class=\"browser-default\">\n        <option *ngFor=\"let filter of filters\" [ngValue]=\"filter.value\">{{ filter.label }}</option>\n      </select>\n    </div>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TodosFiltersComponent implements OnInit, OnDestroy {\n  _active;\n  @Input()\n  set active(filter: VISIBILITY_FILTER) {\n    this._active = filter;\n    if (this.control) {\n      this.control.patchValue(filter, { emitEvent: false });\n    }\n  }\n  @Input()\n  filters: TodoFilter[];\n  @Output()\n  update = new EventEmitter<VISIBILITY_FILTER>();\n\n  control: FormControl;\n\n  ngOnInit() {\n    this.control = new FormControl(this._active);\n\n    this.control.valueChanges.pipe(untilDestroyed(this)).subscribe((c) => {\n      this.update.emit(c);\n    });\n  }\n\n  ngOnDestroy() {}\n}\n","import { Component, OnInit } from '@angular/core';\nimport { initialFilters, VISIBILITY_FILTER } from '../filter/filter.model';\nimport { Todo } from '../state/todo.model';\nimport { TodosQuery } from '../state/todos.query';\nimport { TodosService } from '../state/todos.service';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { ID, isUndefined, StateHistoryPlugin, EntityStateHistoryPlugin } from '@datorama/akita';\n\n@Component({\n  selector: 'app-todos-page',\n  templateUrl: './todos-page.component.html',\n  styleUrls: ['./todos-page.component.css']\n})\nexport class TodosPageComponent implements OnInit {\n  todos$: Observable<Todo[]>;\n  activeFilter$: Observable<VISIBILITY_FILTER>;\n\n  filters = initialFilters;\n  checkAll$: Observable<boolean>;\n  stateHistory: StateHistoryPlugin;\n  stateHistoryEntity: EntityStateHistoryPlugin;\n\n  constructor(private todosQuery: TodosQuery, private todosService: TodosService) {}\n\n  ngOnInit() {\n    this.todos$ = this.todosQuery.selectVisibleTodos$;\n    this.activeFilter$ = this.todosQuery.selectVisibilityFilter$;\n    this.checkAll$ = this.todosQuery.checkAll$.pipe(map(numCompleted => numCompleted && numCompleted === this.todosQuery.getCount()));\n    this.stateHistory = new StateHistoryPlugin(this.todosQuery);\n    this.stateHistoryEntity = new EntityStateHistoryPlugin(this.todosQuery);\n  }\n\n  moveUp(index: number) {\n    this.todosService.move(index);\n  }\n\n  undo(id?) {\n    if (isUndefined(id)) {\n      this.stateHistory.undo();\n    } else {\n      this.stateHistoryEntity.undo(id);\n    }\n  }\n\n  redo(id?) {\n    if (isUndefined(id)) {\n      this.stateHistory.redo();\n    } else {\n      this.stateHistoryEntity.redo(id);\n    }\n  }\n\n  add(input: HTMLInputElement) {\n    this.todosService.add(input.value);\n    input.value = '';\n  }\n\n  complete(todo: Todo) {\n    this.stateHistory.ignoreNext();\n    this.todosService.complete(todo);\n  }\n\n  complete2(event, todo: Todo) {\n    const _todo = { ...todo, completed: event.target.checked };\n    this.todosService.complete(_todo);\n  }\n\n  delete(id: ID) {\n    this.todosService.delete(id);\n  }\n\n  changeFilter(filter: VISIBILITY_FILTER) {\n    this.todosService.updateFilter(filter);\n  }\n\n  checkAll({ target }) {\n    this.todosService.checkAll(target.checked);\n  }\n\n  trackBy(_, todo) {\n    return todo.id;\n  }\n}\n","<div class=\"container\" class=\"padding\">\n\n  <div class=\"input-field\">\n    <i class=\"material-icons prefix\">add_alarm</i>\n    <input type=\"text\" class=\"form-control\" placeholder=\"Add Todo...\"\n           #input\n           (keydown.enter)=\"add(input)\">\n  </div>\n\n  <app-todos-filters (update)=\"changeFilter($event)\"\n                     [filters]=\"filters\"\n                     [active]=\"activeFilter$ | async\">\n  </app-todos-filters>\n\n  <label>\n    <input type=\"checkbox\" (change)=\"checkAll($event)\" [checked]=\"checkAll$ | async\"/>\n    <span>Select All</span>\n  </label>\n\n  <app-todos [todos]=\"todos$ | async\"\n             (delete)=\"delete($event)\"\n             (complete)=\"complete($event)\"\n  ></app-todos>\n\n  <div class=\"flex align-center\">\n    <button class=\"btn waves-effect waves-light\" [class.disabled]=\"!stateHistory.hasPast\" (click)=\"undo()\">Undo\n      <i class=\"material-icons right\">undo</i>\n    </button>\n\n    <button class=\"btn waves-effect waves-light\" [class.disabled]=\"!stateHistory.hasFuture\" (click)=\"redo()\">Redo\n      <i class=\"material-icons right\">redo</i>\n    </button>\n\n  </div>\n\n</div>\n\n<section class=\"padding\">\n  <h4>Todos - Entity History</h4>\n  <table>\n    <thead>\n      <tr>\n        <th>Id</th>\n        <th>Title</th>\n        <th>Completed</th>\n        <th>Undo</th>\n        <th>Redo</th>\n      </tr>\n    </thead>\n\n    <tbody>\n      <tr *ngFor=\"let todo of todos$ | async; trackBy: trackBy; index as index\">\n        <td>{{todo.id}}</td>\n        <td (click)=\"moveUp(index)\">{{todo.title}}</td>\n        <td>\n          <label>\n            <input type=\"checkbox\" [checked]=\"todo.completed\" (change)=\"complete2($event, todo)\"/>\n            <span></span>\n          </label>\n        </td>\n        <td>\n          <a class=\"btn-floating\" [class.disabled]=\"!stateHistoryEntity.hasPast(todo.id)\"><i class=\"material-icons\"\n                                                                                             (click)=\"undo(todo.id)\">undo</i></a>\n        </td>\n        <td>\n          <a class=\"btn-floating\" [class.disabled]=\"!stateHistoryEntity.hasFuture(todo.id)\"><i class=\"material-icons\"\n                                                                                               (click)=\"redo(todo.id)\">redo</i></a>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n</section>\n","import { Injectable } from '@angular/core';\nimport { TodosState, TodosStore } from './todos.store';\nimport { Todo } from './todo.model';\nimport { combineLatest } from 'rxjs';\nimport { VISIBILITY_FILTER } from '../filter/filter.model';\nimport { QueryEntity } from '@datorama/akita';\nimport { map } from 'rxjs/operators';\n\n@Injectable({ providedIn: 'root' })\nexport class TodosQuery extends QueryEntity<TodosState> {\n  selectVisibilityFilter$ = this.select(state => state.ui.filter);\n\n  selectVisibleTodos$ = combineLatest([this.selectVisibilityFilter$, this.selectAll()]).pipe(\n    map(([filter, todos]) => {\n      return this.getVisibleTodos(filter, todos);\n    })\n  );\n\n  checkAll$ = this.selectCount(entity => entity.completed);\n\n  constructor(protected store: TodosStore) {\n    super(store);\n  }\n\n  private getVisibleTodos(filter, todos): Todo[] {\n    switch (filter) {\n      case VISIBILITY_FILTER.SHOW_COMPLETED:\n        return todos.filter(t => t.completed);\n      case VISIBILITY_FILTER.SHOW_ACTIVE:\n        return todos.filter(t => !t.completed);\n      default:\n        return todos;\n    }\n  }\n}\n","export enum VISIBILITY_FILTER {\n  SHOW_COMPLETED = 'SHOW_COMPLETED',\n  SHOW_ACTIVE = 'SHOW_ACTIVE',\n  SHOW_ALL = 'SHOW_ALL'\n}\n\nexport interface TodoFilter {\n  label: string;\n  value: VISIBILITY_FILTER;\n}\n\nexport const initialFilters: TodoFilter[] = [\n  { label: 'All', value: VISIBILITY_FILTER.SHOW_ALL },\n  { label: 'Completed', value: VISIBILITY_FILTER.SHOW_COMPLETED },\n  { label: 'Active', value: VISIBILITY_FILTER.SHOW_ACTIVE }\n];\n","import { TodosStore } from './todos.store';\nimport { createTodo, Todo } from './todo.model';\nimport { Injectable, Inject } from '@angular/core';\nimport { VISIBILITY_FILTER } from '../filter/filter.model';\nimport { ID, action } from '@datorama/akita';\n\n@Injectable({ providedIn: 'root' })\nexport class TodosService {\n  constructor(private todosStore: TodosStore) {}\n\n  @action('Update filter')\n  updateFilter(filter: VISIBILITY_FILTER) {\n    this.todosStore.update({\n      ui: {\n        filter\n      }\n    });\n  }\n\n  complete({ id, completed }: Todo) {\n    this.todosStore.update(id, { completed });\n  }\n\n  add(title: string) {\n    const todo = createTodo(title);\n    this.todosStore.add(todo);\n  }\n\n  delete(id: ID) {\n    this.todosStore.remove(id);\n  }\n\n  checkAll(completed: boolean) {\n    this.todosStore.update(null, {\n      completed\n    });\n  }\n\n  move(index: number) {\n    console.log('TCL: move -> index', index);\n    this.todosStore.move(index, index - 1);\n  }\n}\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output } from '@angular/core';\nimport { Todo } from '../state/todo.model';\nimport { ID } from '@datorama/akita';\n\n@Component({\n  selector: 'app-todos',\n  template: `\n    <div class=\"collection with-header\">\n      <h4 class=\"collection-header\">Todos:</h4>\n      <app-todo *ngFor=\"let todo of todos;\"\n                class=\"collection-item\"\n                (delete)=\"delete.emit($event)\"\n                (complete)=\"complete.emit($event)\"\n                [todo]=\"todo\"></app-todo>\n    </div>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class TodosComponent {\n  @Input()\n  todos: Todo[];\n  @Output()\n  complete = new EventEmitter<Todo>();\n  @Output()\n  delete = new EventEmitter<ID>();\n}\n","import { Todo } from './todo.model';\nimport { VISIBILITY_FILTER } from '../filter/filter.model';\nimport { Injectable } from '@angular/core';\nimport { ActiveState, EntityState, EntityStore, StoreConfig } from '@datorama/akita';\n\nexport interface TodosState extends EntityState<Todo>, ActiveState {\n  ui: {\n    filter: VISIBILITY_FILTER;\n  };\n}\n\n@Injectable({ providedIn: 'root' })\n@StoreConfig({ name: 'todos' })\nexport class TodosStore extends EntityStore<TodosState> {\n  constructor() {\n    super({\n      ui: { filter: VISIBILITY_FILTER.SHOW_ALL }\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TodoComponent } from './todo/todo.component';\nimport { TodosComponent } from './todos/todos.component';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { TodosFiltersComponent } from './filter/todos-filters.component';\nimport { TodosPageComponent } from './todos-page/todos-page.component';\nimport { RouterModule, Routes } from '@angular/router';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TodosPageComponent\n  }\n];\n\n@NgModule({\n  imports: [CommonModule, ReactiveFormsModule, RouterModule.forChild(routes)],\n  exports: [TodosComponent, TodosFiltersComponent],\n  declarations: [TodoComponent, TodosComponent, TodosFiltersComponent, TodosPageComponent]\n})\nexport class TodosModule {}\n"]}